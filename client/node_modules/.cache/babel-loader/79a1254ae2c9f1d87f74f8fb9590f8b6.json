{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = {\n  left: 0,\n  top: 0,\n  bottom: 0,\n  right: 0\n};\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = {\n  isDragged: false\n};\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */function (_super) {\n  __extends(Position, _super);\n  function Position() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  __decorate([Property(0)], Position.prototype, \"left\", void 0);\n  __decorate([Property(0)], Position.prototype, \"top\", void 0);\n  return Position;\n}(ChildProperty);\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */function (_super) {\n  __extends(Draggable, _super);\n  function Draggable(element, options) {\n    var _this = _super.call(this, options, element) || this;\n    _this.dragLimit = Draggable_1.getDefaultPosition();\n    _this.borderWidth = Draggable_1.getDefaultPosition();\n    _this.padding = Draggable_1.getDefaultPosition();\n    _this.diffX = 0;\n    _this.prevLeft = 0;\n    _this.prevTop = 0;\n    _this.dragProcessStarted = false;\n    /* tslint:disable no-any */\n    _this.eleTop = 0;\n    _this.tapHoldTimer = 0;\n    _this.externalInitialize = false;\n    _this.diffY = 0;\n    _this.parentScrollX = 0;\n    _this.parentScrollY = 0;\n    _this.droppables = {};\n    _this.bind();\n    return _this;\n  }\n  Draggable_1 = Draggable;\n  Draggable.prototype.bind = function () {\n    this.toggleEvents();\n    if (Browser.isIE) {\n      addClass([this.element], 'e-block-touch');\n    }\n    this.droppables[this.scope] = {};\n  };\n  Draggable.getDefaultPosition = function () {\n    return extend({}, defaultPosition);\n  };\n  Draggable.prototype.toggleEvents = function (isUnWire) {\n    var ele;\n    if (!isUndefined(this.handle)) {\n      ele = select(this.handle, this.element);\n    }\n    var handler = this.enableTapHold && Browser.isDevice && Browser.isTouch ? this.mobileInitialize : this.initialize;\n    if (isUnWire) {\n      EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n    } else {\n      EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n    }\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.mobileInitialize = function (evt) {\n    var _this = this;\n    var target = evt.currentTarget;\n    this.tapHoldTimer = setTimeout(function () {\n      _this.externalInitialize = true;\n      _this.removeTapholdTimer();\n      _this.initialize(evt, target);\n    }, this.tapHoldThreshold);\n    EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n    EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.removeTapholdTimer = function () {\n    clearTimeout(this.tapHoldTimer);\n    EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n    EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.getScrollableParent = function (element, axis) {\n    var scroll = {\n      'vertical': 'scrollHeight',\n      'horizontal': 'scrollWidth'\n    };\n    var client = {\n      'vertical': 'clientHeight',\n      'horizontal': 'clientWidth'\n    };\n    if (isNullOrUndefined(element)) {\n      return null;\n    }\n    if (element[scroll[axis]] > element[client[axis]]) {\n      if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n        if (axis === 'vertical') {\n          this.parentScrollY = this.parentScrollY + (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n          this.tempScrollHeight = element.scrollHeight;\n        } else {\n          this.parentScrollX = this.parentScrollX + (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n          this.tempScrollWidth = element.scrollWidth;\n        }\n        if (!isNullOrUndefined(element)) {\n          return this.getScrollableParent(element.parentNode, axis);\n        } else {\n          return element;\n        }\n      } else {\n        return this.getScrollableParent(element.parentNode, axis);\n      }\n    } else {\n      return this.getScrollableParent(element.parentNode, axis);\n    }\n  };\n  Draggable.prototype.getScrollableValues = function () {\n    this.parentScrollX = 0;\n    this.parentScrollY = 0;\n    var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n    var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n    var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n  };\n  Draggable.prototype.initialize = function (evt, curTarget) {\n    this.currentStateTarget = evt.target;\n    if (this.isDragStarted()) {\n      return;\n    } else {\n      this.isDragStarted(true);\n      this.externalInitialize = false;\n    }\n    this.target = evt.currentTarget || curTarget;\n    this.dragProcessStarted = false;\n    if (this.abort) {\n      /* tslint:disable no-any */\n      var abortSelectors = this.abort;\n      if (typeof abortSelectors === 'string') {\n        abortSelectors = [abortSelectors];\n      }\n      for (var i = 0; i < abortSelectors.length; i++) {\n        if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n          /* istanbul ignore next */\n          if (this.isDragStarted()) {\n            this.isDragStarted(true);\n          }\n          return;\n        }\n      }\n    }\n    if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n      evt.preventDefault();\n    }\n    this.element.setAttribute('aria-grabbed', 'true');\n    var intCoord = this.getCoordinates(evt);\n    this.initialPosition = {\n      x: intCoord.pageX,\n      y: intCoord.pageY\n    };\n    if (!this.clone) {\n      var pos = this.element.getBoundingClientRect();\n      this.getScrollableValues();\n      if (evt.clientX === evt.pageX) {\n        this.parentScrollX = 0;\n      }\n      if (evt.clientY === evt.pageY) {\n        this.parentScrollY = 0;\n      }\n      this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n      this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n    }\n    if (this.externalInitialize) {\n      this.intDragStart(evt);\n    } else {\n      EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n      EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n    }\n    this.toggleEvents(true);\n    if (evt.type !== 'touchstart' && this.isPreventSelect) {\n      document.body.classList.add('e-prevent-select');\n    }\n    this.externalInitialize = false;\n    EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n  };\n  Draggable.prototype.intDragStart = function (evt) {\n    this.removeTapholdTimer();\n    var isChangeTouch = !isUndefined(evt.changedTouches);\n    if (isChangeTouch && evt.changedTouches.length !== 1) {\n      return;\n    }\n    var intCordinate = this.getCoordinates(evt);\n    var pos;\n    var styleProp = getComputedStyle(this.element);\n    this.margin = {\n      left: parseInt(styleProp.marginLeft, 10),\n      top: parseInt(styleProp.marginTop, 10),\n      right: parseInt(styleProp.marginRight, 10),\n      bottom: parseInt(styleProp.marginBottom, 10)\n    };\n    var element = this.element;\n    if (this.clone && this.dragTarget) {\n      var intClosest = closest(evt.target, this.dragTarget);\n      if (!isNullOrUndefined(intClosest)) {\n        element = intClosest;\n      }\n    }\n    /* istanbul ignore next */\n    if (this.isReplaceDragEle) {\n      element = this.currentStateCheck(evt.target, element);\n    }\n    this.offset = this.calculateParentPosition(element);\n    this.position = this.getMousePosition(evt, this.isDragScroll);\n    var x = this.initialPosition.x - intCordinate.pageX;\n    var y = this.initialPosition.y - intCordinate.pageY;\n    var distance = Math.sqrt(x * x + y * y);\n    if (distance >= this.distance || this.externalInitialize) {\n      var ele = this.getHelperElement(evt);\n      if (!ele || isNullOrUndefined(ele)) {\n        return;\n      }\n      if (isChangeTouch) {\n        evt.preventDefault();\n      }\n      var dragTargetElement = this.helperElement = ele;\n      this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n      if (this.dragStart) {\n        var curTarget = this.getProperTargetElement(evt);\n        var args = {\n          event: evt,\n          element: element,\n          target: curTarget,\n          bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n          dragElement: dragTargetElement\n        };\n        this.trigger('dragStart', args);\n      }\n      if (this.dragArea) {\n        this.setDragArea();\n      } else {\n        this.dragLimit = {\n          left: 0,\n          right: 0,\n          bottom: 0,\n          top: 0\n        };\n        this.borderWidth = {\n          top: 0,\n          left: 0\n        };\n      }\n      pos = {\n        left: this.position.left - this.parentClientRect.left,\n        top: this.position.top - this.parentClientRect.top\n      };\n      if (this.clone && !this.enableTailMode) {\n        this.diffX = this.position.left - this.offset.left;\n        this.diffY = this.position.top - this.offset.top;\n      }\n      this.getScrollableValues();\n      // when drag element has margin-top\n      var styles = getComputedStyle(element);\n      var marginTop = parseFloat(styles.marginTop);\n      /* istanbul ignore next */\n      if (this.clone && marginTop !== 0) {\n        pos.top += marginTop;\n      }\n      this.eleTop = !isNaN(parseFloat(styles.top)) ? parseFloat(styles.top) - this.offset.top : 0;\n      /* istanbul ignore next */\n      // if (this.eleTop > 0) {\n      //     pos.top += this.eleTop;\n      // }\n      if (this.enableScrollHandler && !this.clone) {\n        pos.top -= this.parentScrollY;\n        pos.left -= this.parentScrollX;\n      }\n      var posValue = this.getProcessedPositionValue({\n        top: pos.top - this.diffY + 'px',\n        left: pos.left - this.diffX + 'px'\n      });\n      this.dragElePosition = {\n        top: pos.top,\n        left: pos.left\n      };\n      setStyleAttribute(dragTargetElement, this.getDragPosition({\n        position: 'absolute',\n        left: posValue.left,\n        top: posValue.top\n      }));\n      EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n      EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n      if (!isBlazor()) {\n        this.bindDragEvents(dragTargetElement);\n      }\n    }\n  };\n  Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n    if (isVisible(dragTargetElement)) {\n      EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n      EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n      this.setGlobalDroppables(false, this.element, dragTargetElement);\n    } else {\n      this.toggleEvents();\n      document.body.classList.remove('e-prevent-select');\n    }\n  };\n  Draggable.prototype.elementInViewport = function (el) {\n    this.top = el.offsetTop;\n    this.left = el.offsetLeft;\n    this.width = el.offsetWidth;\n    this.height = el.offsetHeight;\n    while (el.offsetParent) {\n      el = el.offsetParent;\n      this.top += el.offsetTop;\n      this.left += el.offsetLeft;\n    }\n    return this.top >= window.pageYOffset && this.left >= window.pageXOffset && this.top + this.height <= window.pageYOffset + window.innerHeight && this.left + this.width <= window.pageXOffset + window.innerWidth;\n  };\n  Draggable.prototype.getProcessedPositionValue = function (value) {\n    if (this.queryPositionInfo) {\n      return this.queryPositionInfo(value);\n    }\n    return value;\n  };\n  Draggable.prototype.calculateParentPosition = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n    var rect = ele.getBoundingClientRect();\n    var style = getComputedStyle(ele);\n    return {\n      left: rect.left + window.pageXOffset - parseInt(style.marginLeft, 10),\n      top: rect.top + window.pageYOffset - parseInt(style.marginTop, 10)\n    };\n  };\n  // tslint:disable-next-line:max-func-body-length\n  Draggable.prototype.intDrag = function (evt) {\n    if (!isUndefined(evt.changedTouches) && evt.changedTouches.length !== 1) {\n      return;\n    }\n    if (this.clone && evt.changedTouches && Browser.isDevice && Browser.isTouch) {\n      evt.preventDefault();\n    }\n    var left;\n    var top;\n    this.position = this.getMousePosition(evt, this.isDragScroll);\n    var docHeight = this.getDocumentWidthHeight('Height');\n    if (docHeight < this.position.top) {\n      this.position.top = docHeight;\n    }\n    var docWidth = this.getDocumentWidthHeight('Width');\n    if (docWidth < this.position.left) {\n      this.position.left = docWidth;\n    }\n    if (this.drag) {\n      var curTarget = this.getProperTargetElement(evt);\n      this.trigger('drag', {\n        event: evt,\n        element: this.element,\n        target: curTarget\n      });\n    }\n    var eleObj = this.checkTargetElement(evt);\n    if (eleObj.target && eleObj.instance) {\n      /* tslint:disable no-any */\n      var flag = true;\n      if (this.hoverObject) {\n        if (this.hoverObject.instance !== eleObj.instance) {\n          this.triggerOutFunction(evt, eleObj);\n        } else {\n          flag = false;\n        }\n      }\n      if (flag) {\n        eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n        eleObj.instance.intOver(evt, eleObj.target);\n        this.hoverObject = eleObj;\n      }\n    } else if (this.hoverObject) {\n      this.triggerOutFunction(evt, eleObj);\n    }\n    var helperElement = this.droppables[this.scope].helper;\n    this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n    var tLeft = this.parentClientRect.left;\n    var tTop = this.parentClientRect.top;\n    var intCoord = this.getCoordinates(evt);\n    var pagex = intCoord.pageX;\n    var pagey = intCoord.pageY;\n    var dLeft = this.position.left - this.diffX;\n    var dTop = this.position.top - this.diffY;\n    var styles = getComputedStyle(helperElement);\n    if (this.dragArea) {\n      if (this.pageX !== pagex || this.skipDistanceCheck) {\n        var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft) + parseFloat(styles.marginRight));\n        if (this.dragLimit.left > dLeft && dLeft > 0) {\n          left = this.dragLimit.left;\n        } else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n          left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n        } else {\n          left = dLeft < 0 ? this.dragLimit.left : dLeft;\n        }\n      }\n      if (this.pageY !== pagey || this.skipDistanceCheck) {\n        var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop) + parseFloat(styles.marginBottom));\n        if (this.dragLimit.top > dTop && dTop > 0) {\n          top = this.dragLimit.top;\n        } else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n          top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n        } else {\n          top = dTop < 0 ? this.dragLimit.top : dTop;\n        }\n      }\n    } else {\n      left = dLeft;\n      top = dTop;\n    }\n    var iTop = tTop + this.borderWidth.top;\n    var iLeft = tLeft + this.borderWidth.left;\n    if (this.dragProcessStarted) {\n      if (isNullOrUndefined(top)) {\n        top = this.prevTop;\n      }\n      if (isNullOrUndefined(left)) {\n        left = this.prevLeft;\n      }\n    }\n    var draEleTop;\n    var draEleLeft;\n    if (this.dragArea) {\n      this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n      draEleTop = top - iTop < 0 ? this.dragLimit.top : top - this.borderWidth.top;\n      draEleLeft = left - iLeft < 0 ? this.dragLimit.left : left - this.borderWidth.left;\n    } else {\n      draEleTop = top - this.borderWidth.top;\n      draEleLeft = left - this.borderWidth.left;\n    }\n    var marginTop = parseFloat(getComputedStyle(this.element).marginTop);\n    // when drag-element has margin-top\n    /* istanbul ignore next */\n    if (marginTop > 0) {\n      if (this.clone) {\n        draEleTop += marginTop;\n        if (dTop < 0) {\n          if (marginTop + dTop >= 0) {\n            draEleTop = marginTop + dTop;\n          } else {\n            draEleTop -= marginTop;\n          }\n        }\n        draEleTop = this.dragLimit.bottom < draEleTop ? this.dragLimit.bottom : draEleTop;\n      }\n      if (top - iTop < 0) {\n        if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n          var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n          if (tempDraEleTop + marginTop + iTop < 0) {\n            draEleTop -= marginTop + iTop;\n          } else {\n            draEleTop = tempDraEleTop;\n          }\n        } else {\n          draEleTop -= marginTop + iTop;\n        }\n      }\n    }\n    if (this.dragArea) {\n      var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop) + parseFloat(styles.marginBottom));\n      draEleTop = draEleTop + helperHeight > this.dragLimit.bottom ? this.dragLimit.bottom - helperHeight : draEleTop;\n    }\n    /* istanbul ignore next */\n    // if(this.eleTop > 0) {\n    //      draEleTop += this.eleTop;\n    // }\n    if (this.enableScrollHandler && !this.clone) {\n      draEleTop -= this.parentScrollY;\n      draEleLeft -= this.parentScrollX;\n    }\n    var dragValue = this.getProcessedPositionValue({\n      top: draEleTop + 'px',\n      left: draEleLeft + 'px'\n    });\n    setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n    if (!this.elementInViewport(helperElement) && this.enableAutoScroll && !this.helperElement.classList.contains('e-treeview')) {\n      this.helperElement.scrollIntoView();\n    }\n    var elements = document.querySelectorAll(':hover');\n    if (this.enableAutoScroll && this.helperElement.classList.contains('e-treeview')) {\n      if (elements.length === 0) {\n        elements = this.getPathElements(evt);\n      }\n      /* tslint:disable no-any */\n      var scrollParent = this.getScrollParent(elements, false);\n      if (this.elementInViewport(this.helperElement)) {\n        this.getScrollPosition(scrollParent, draEleTop);\n      } else if (!this.elementInViewport(this.helperElement)) {\n        elements = [].slice.call(document.querySelectorAll(':hover'));\n        if (elements.length === 0) {\n          elements = this.getPathElements(evt);\n        }\n        scrollParent = this.getScrollParent(elements, true);\n        this.getScrollPosition(scrollParent, draEleTop);\n      }\n    }\n    this.dragProcessStarted = true;\n    this.prevLeft = left;\n    this.prevTop = top;\n    this.position.left = left;\n    this.position.top = top;\n    this.pageX = pagex;\n    this.pageY = pagey;\n  };\n  /* tslint:disable no-any */\n  Draggable.prototype.getScrollParent = function (node, reverse) {\n    /* tslint:disable no-any */\n    var nodeEl = reverse ? node.reverse() : node;\n    var hasScroll;\n    for (var i = nodeEl.length - 1; i >= 0; i--) {\n      hasScroll = window.getComputedStyle(nodeEl[i])['overflow-y'];\n      if ((hasScroll === 'auto' || hasScroll === 'scroll') && nodeEl[i].scrollHeight > nodeEl[i].clientHeight) {\n        return nodeEl[i];\n      }\n    }\n    hasScroll = window.getComputedStyle(document.scrollingElement)['overflow-y'];\n    if (hasScroll === 'visible') {\n      document.scrollingElement.style.overflow = 'auto';\n      return document.scrollingElement;\n    }\n  };\n  Draggable.prototype.getScrollPosition = function (nodeEle, draEleTop) {\n    if (nodeEle && nodeEle === document.scrollingElement) {\n      if (nodeEle.clientHeight + document.scrollingElement.scrollTop - this.helperElement.clientHeight < draEleTop && nodeEle.getBoundingClientRect().height + this.parentClientRect.top > draEleTop) {\n        nodeEle.scrollTop += this.helperElement.clientHeight;\n      } else if (nodeEle.scrollTop > draEleTop - this.helperElement.clientHeight) {\n        nodeEle.scrollTop -= this.helperElement.clientHeight;\n      }\n    } else if (nodeEle && nodeEle !== document.scrollingElement) {\n      if (nodeEle.clientHeight + nodeEle.getBoundingClientRect().top - this.helperElement.clientHeight + document.scrollingElement.scrollTop - this.borderWidth.top - this.borderWidth.bottom <= draEleTop) {\n        nodeEle.scrollTop += this.helperElement.clientHeight;\n      } else if (nodeEle.getBoundingClientRect().top > draEleTop - this.helperElement.clientHeight - document.scrollingElement.scrollTop) {\n        nodeEle.scrollTop -= this.helperElement.clientHeight;\n      }\n    }\n  };\n  Draggable.prototype.getPathElements = function (evt) {\n    var elementTop = evt.clientX > 0 ? evt.clientX : 0;\n    var elementLeft = evt.clientY > 0 ? evt.clientY : 0;\n    return document.elementsFromPoint(elementTop, elementLeft);\n  };\n  Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n    this.hoverObject.instance.intOut(evt, eleObj.target);\n    this.hoverObject.instance.dragData[this.scope] = null;\n    this.hoverObject = null;\n  };\n  Draggable.prototype.getDragPosition = function (dragValue) {\n    var temp = extend({}, dragValue);\n    if (this.axis) {\n      if (this.axis === 'x') {\n        delete temp.top;\n      } else if (this.axis === 'y') {\n        delete temp.left;\n      }\n    }\n    return temp;\n  };\n  Draggable.prototype.getDocumentWidthHeight = function (str) {\n    var docBody = document.body;\n    var docEle = document.documentElement;\n    var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n    return returnValue;\n  };\n  Draggable.prototype.intDragStop = function (evt) {\n    this.dragProcessStarted = false;\n    if (!isUndefined(evt.changedTouches) && evt.changedTouches.length !== 1) {\n      return;\n    }\n    var type = ['touchend', 'pointerup', 'mouseup'];\n    if (type.indexOf(evt.type) !== -1) {\n      if (this.dragStop) {\n        var curTarget = this.getProperTargetElement(evt);\n        this.trigger('dragStop', {\n          event: evt,\n          element: this.element,\n          target: curTarget,\n          helper: this.helperElement\n        });\n      }\n      this.intDestroy(evt);\n    } else {\n      this.element.setAttribute('aria-grabbed', 'false');\n    }\n    var eleObj = this.checkTargetElement(evt);\n    if (eleObj.target && eleObj.instance) {\n      eleObj.instance.dragStopCalled = true;\n      eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n      eleObj.instance.intDrop(evt, eleObj.target);\n    }\n    this.setGlobalDroppables(true);\n    document.body.classList.remove('e-prevent-select');\n  };\n  /**\n   * @private\n   */\n  Draggable.prototype.intDestroy = function (evt) {\n    this.dragProcessStarted = false;\n    this.toggleEvents();\n    document.body.classList.remove('e-prevent-select');\n    this.element.setAttribute('aria-grabbed', 'false');\n    EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n    EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n    EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n    EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n    if (this.isDragStarted()) {\n      this.isDragStarted(true);\n    }\n  };\n  // triggers when property changed\n  Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n    //No Code to handle\n  };\n  Draggable.prototype.getModuleName = function () {\n    return 'draggable';\n  };\n  Draggable.prototype.isDragStarted = function (change) {\n    if (change) {\n      isDraggedObject.isDragged = !isDraggedObject.isDragged;\n    }\n    return isDraggedObject.isDragged;\n  };\n  Draggable.prototype.setDragArea = function () {\n    var eleWidthBound;\n    var eleHeightBound;\n    var top = 0;\n    var left = 0;\n    var ele;\n    var type = typeof this.dragArea;\n    if (type === 'string') {\n      ele = select(this.dragArea);\n    } else {\n      ele = this.dragArea;\n    }\n    if (ele) {\n      var elementArea = ele.getBoundingClientRect();\n      eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n      eleHeightBound = ele.scrollHeight ? this.dragArea && this.helperElement.classList.contains('e-treeview') ? ele.clientHeight : ele.scrollHeight : elementArea.bottom - elementArea.top;\n      var keys = ['Top', 'Left', 'Bottom', 'Right'];\n      var styles = getComputedStyle(ele);\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var tborder = styles['border' + key + 'Width'];\n        var tpadding = styles['padding' + key];\n        var lowerKey = key.toLowerCase();\n        this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n        this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n      }\n      top = elementArea.top + document.scrollingElement.scrollTop;\n      left = elementArea.left;\n      this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n      this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n      this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n      this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n    }\n  };\n  Draggable.prototype.getProperTargetElement = function (evt) {\n    var intCoord = this.getCoordinates(evt);\n    var ele;\n    var prevStyle = this.helperElement.style.pointerEvents || '';\n    if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n      this.helperElement.style.pointerEvents = 'none';\n      ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n      this.helperElement.style.pointerEvents = prevStyle;\n    } else {\n      ele = evt.target;\n    }\n    return ele;\n  };\n  /* istanbul ignore next */\n  Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n    var elem;\n    if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n      elem = this.currentStateTarget;\n    } else {\n      elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n    }\n    return elem;\n  };\n  Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n    /* tslint:disable no-any */\n    var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n    var intCoord = this.getCoordinates(evt);\n    var pageX;\n    var pageY;\n    var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n    /* istanbul ignore next */\n    if (isdragscroll) {\n      pageX = this.clone ? intCoord.pageX : intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft) - this.relativeXPosition;\n      pageY = this.clone ? intCoord.pageY : intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop) - this.relativeYPosition;\n    } else {\n      pageX = this.clone ? intCoord.pageX : intCoord.pageX + window.pageXOffset - this.relativeXPosition;\n      pageY = this.clone ? intCoord.pageY : intCoord.pageY + window.pageYOffset - this.relativeYPosition;\n    }\n    return {\n      left: pageX - (this.margin.left + this.cursorAt.left),\n      top: pageY - (this.margin.top + this.cursorAt.top)\n    };\n  };\n  Draggable.prototype.getCoordinates = function (evt) {\n    if (evt.type.indexOf('touch') > -1) {\n      return evt.changedTouches[0];\n    }\n    return evt;\n  };\n  Draggable.prototype.getHelperElement = function (evt) {\n    var element;\n    if (this.clone) {\n      if (this.helper) {\n        element = this.helper({\n          sender: evt,\n          element: this.target\n        });\n      } else {\n        element = createElement('div', {\n          className: 'e-drag-helper e-block-touch',\n          innerHTML: 'Draggable'\n        });\n        document.body.appendChild(element);\n      }\n    } else {\n      element = this.element;\n    }\n    return element;\n  };\n  Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n    this.droppables[this.scope] = reset ? null : {\n      draggable: drag,\n      helper: helper,\n      draggedElement: this.element\n    };\n  };\n  Draggable.prototype.checkTargetElement = function (evt) {\n    var target = this.getProperTargetElement(evt);\n    var dropIns = this.getDropInstance(target);\n    if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n      var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n      if (parent_1) {\n        dropIns = this.getDropInstance(parent_1);\n      }\n    }\n    return {\n      target: target,\n      instance: dropIns\n    };\n  };\n  Draggable.prototype.getDropInstance = function (ele) {\n    var name = 'getModuleName';\n    var drop;\n    var eleInst = ele && ele.ej2_instances;\n    if (eleInst) {\n      for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n        var inst = eleInst_1[_i];\n        if (inst[name]() === 'droppable') {\n          drop = inst;\n          break;\n        }\n      }\n    }\n    return drop;\n  };\n  Draggable.prototype.destroy = function () {\n    this.toggleEvents(true);\n    _super.prototype.destroy.call(this);\n  };\n  var Draggable_1;\n  __decorate([Complex({}, Position)], Draggable.prototype, \"cursorAt\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"clone\", void 0);\n  __decorate([Property()], Draggable.prototype, \"dragArea\", void 0);\n  __decorate([Property()], Draggable.prototype, \"isDragScroll\", void 0);\n  __decorate([Property()], Draggable.prototype, \"isReplaceDragEle\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"isPreventSelect\", void 0);\n  __decorate([Event()], Draggable.prototype, \"drag\", void 0);\n  __decorate([Event()], Draggable.prototype, \"dragStart\", void 0);\n  __decorate([Event()], Draggable.prototype, \"dragStop\", void 0);\n  __decorate([Property(1)], Draggable.prototype, \"distance\", void 0);\n  __decorate([Property()], Draggable.prototype, \"handle\", void 0);\n  __decorate([Property()], Draggable.prototype, \"abort\", void 0);\n  __decorate([Property()], Draggable.prototype, \"helper\", void 0);\n  __decorate([Property('default')], Draggable.prototype, \"scope\", void 0);\n  __decorate([Property('')], Draggable.prototype, \"dragTarget\", void 0);\n  __decorate([Property()], Draggable.prototype, \"axis\", void 0);\n  __decorate([Property()], Draggable.prototype, \"queryPositionInfo\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableTailMode\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"skipDistanceCheck\", void 0);\n  __decorate([Property(true)], Draggable.prototype, \"preventDefault\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableAutoScroll\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableTapHold\", void 0);\n  __decorate([Property(750)], Draggable.prototype, \"tapHoldThreshold\", void 0);\n  __decorate([Property(false)], Draggable.prototype, \"enableScrollHandler\", void 0);\n  Draggable = Draggable_1 = __decorate([NotifyPropertyChanges], Draggable);\n  return Draggable;\n}(Base);\nexport { Draggable };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Base","Browser","isVisible","Property","Complex","NotifyPropertyChanges","Event","EventHandler","ChildProperty","select","closest","setStyleAttribute","addClass","createElement","extend","isUndefined","isNullOrUndefined","compareElementParent","isBlazor","defaultPosition","left","top","bottom","right","positionProp","axisMapper","axisValueMapper","isDraggedObject","isDragged","Position","_super","apply","Draggable","element","options","_this","call","dragLimit","Draggable_1","getDefaultPosition","borderWidth","padding","diffX","prevLeft","prevTop","dragProcessStarted","eleTop","tapHoldTimer","externalInitialize","diffY","parentScrollX","parentScrollY","droppables","bind","toggleEvents","isIE","scope","isUnWire","ele","handle","handler","enableTapHold","isDevice","isTouch","mobileInitialize","initialize","remove","touchStartEvent","add","evt","currentTarget","setTimeout","removeTapholdTimer","tapHoldThreshold","document","touchMoveEvent","touchEndEvent","clearTimeout","getScrollableParent","axis","scroll","client","scrollTop","scrollLeft","tempScrollHeight","scrollHeight","tempScrollWidth","scrollWidth","parentNode","getScrollableValues","isModalDialog","classList","contains","verticalScrollParent","horizontalScrollParent","curTarget","currentStateTarget","isDragStarted","abort","abortSelectors","preventDefault","changedTouches","type","setAttribute","intCoord","getCoordinates","initialPosition","x","pageX","y","pageY","clone","pos","getBoundingClientRect","clientX","clientY","relativeXPosition","relativeYPosition","intDragStart","intDestroy","isPreventSelect","body","trigger","documentElement","isChangeTouch","intCordinate","styleProp","getComputedStyle","margin","parseInt","marginLeft","marginTop","marginRight","marginBottom","dragTarget","intClosest","isReplaceDragEle","currentStateCheck","offset","calculateParentPosition","position","getMousePosition","isDragScroll","distance","Math","sqrt","getHelperElement","dragTargetElement","helperElement","parentClientRect","offsetParent","dragStart","getProperTargetElement","args","event","bindEvents","bindDragEvents","dragElement","dragArea","setDragArea","enableTailMode","styles","parseFloat","isNaN","enableScrollHandler","posValue","getProcessedPositionValue","dragElePosition","getDragPosition","intDrag","intDragStop","setGlobalDroppables","elementInViewport","el","offsetTop","offsetLeft","width","offsetWidth","height","offsetHeight","window","pageYOffset","pageXOffset","innerHeight","innerWidth","value","queryPositionInfo","rect","style","docHeight","getDocumentWidthHeight","docWidth","drag","eleObj","checkTargetElement","instance","flag","hoverObject","triggerOutFunction","dragData","intOver","helper","tLeft","tTop","pagex","pagey","dLeft","dTop","skipDistanceCheck","helperWidth","helperHeight","iTop","iLeft","draEleTop","draEleLeft","tempDraEleTop","dragValue","enableAutoScroll","scrollIntoView","elements","querySelectorAll","getPathElements","scrollParent","getScrollParent","getScrollPosition","slice","node","reverse","nodeEl","hasScroll","clientHeight","scrollingElement","overflow","nodeEle","elementTop","elementLeft","elementsFromPoint","intOut","temp","str","docBody","docEle","returnValue","max","indexOf","dragStop","dragStopCalled","intDrop","onPropertyChanged","newProp","oldProp","getModuleName","change","eleWidthBound","eleHeightBound","elementArea","keys","tborder","tpadding","lowerKey","toLowerCase","prevStyle","pointerEvents","elementFromPoint","oldEle","elem","isdragscroll","dragEle","srcElement","undefined","isOffsetParent","cursorAt","sender","className","innerHTML","appendChild","reset","draggable","draggedElement","dropIns","getDropInstance","parent_1","parentElement","name","drop","eleInst","ej2_instances","_i","eleInst_1","inst","destroy"],"sources":["/Users/macbookpro16/Desktop/cs222/client/node_modules/@syncfusion/ej2-base/src/draggable.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Base } from './base';\nimport { Browser } from './browser';\nimport { isVisible } from './dom';\nimport { Property, Complex, NotifyPropertyChanges, Event } from './notify-property-change';\nimport { EventHandler } from './event-handler';\nimport { ChildProperty } from './child-property';\nimport { select, closest, setStyleAttribute, addClass, createElement } from './dom';\nimport { extend, isUndefined, isNullOrUndefined, compareElementParent, isBlazor } from './util';\nvar defaultPosition = { left: 0, top: 0, bottom: 0, right: 0 };\nvar positionProp = ['offsetLeft', 'offsetTop'];\nvar axisMapper = ['x', 'y'];\nvar axisValueMapper = ['left', 'top'];\nvar isDraggedObject = { isDragged: false };\n/**\n * Specifies the position coordinates\n */\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Position.prototype, \"top\", void 0);\n    return Position;\n}(ChildProperty));\nexport { Position };\n/**\n * Draggable Module provides support to enable draggable functionality in Dom Elements.\n * ```html\n * <div id='drag'>Draggable</div>\n * <script>\n * var ele = document.getElementById('drag');\n * var drag:Draggable = new Draggable(ele,{\n *     clone:false,\n *     drag: function(e) {\n *      //drag handler code.\n *      },\n *     handle:'.class'\n * });\n * </script>\n * ```\n */\nvar Draggable = /** @class */ (function (_super) {\n    __extends(Draggable, _super);\n    function Draggable(element, options) {\n        var _this = _super.call(this, options, element) || this;\n        _this.dragLimit = Draggable_1.getDefaultPosition();\n        _this.borderWidth = Draggable_1.getDefaultPosition();\n        _this.padding = Draggable_1.getDefaultPosition();\n        _this.diffX = 0;\n        _this.prevLeft = 0;\n        _this.prevTop = 0;\n        _this.dragProcessStarted = false;\n        /* tslint:disable no-any */\n        _this.eleTop = 0;\n        _this.tapHoldTimer = 0;\n        _this.externalInitialize = false;\n        _this.diffY = 0;\n        _this.parentScrollX = 0;\n        _this.parentScrollY = 0;\n        _this.droppables = {};\n        _this.bind();\n        return _this;\n    }\n    Draggable_1 = Draggable;\n    Draggable.prototype.bind = function () {\n        this.toggleEvents();\n        if (Browser.isIE) {\n            addClass([this.element], 'e-block-touch');\n        }\n        this.droppables[this.scope] = {};\n    };\n    Draggable.getDefaultPosition = function () {\n        return extend({}, defaultPosition);\n    };\n    Draggable.prototype.toggleEvents = function (isUnWire) {\n        var ele;\n        if (!isUndefined(this.handle)) {\n            ele = select(this.handle, this.element);\n        }\n        var handler = (this.enableTapHold && Browser.isDevice && Browser.isTouch) ? this.mobileInitialize : this.initialize;\n        if (isUnWire) {\n            EventHandler.remove(ele || this.element, Browser.touchStartEvent, handler);\n        }\n        else {\n            EventHandler.add(ele || this.element, Browser.touchStartEvent, handler, this);\n        }\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.mobileInitialize = function (evt) {\n        var _this = this;\n        var target = evt.currentTarget;\n        this.tapHoldTimer = setTimeout(function () {\n            _this.externalInitialize = true;\n            _this.removeTapholdTimer();\n            _this.initialize(evt, target);\n        }, this.tapHoldThreshold);\n        EventHandler.add(document, Browser.touchMoveEvent, this.removeTapholdTimer, this);\n        EventHandler.add(document, Browser.touchEndEvent, this.removeTapholdTimer, this);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.removeTapholdTimer = function () {\n        clearTimeout(this.tapHoldTimer);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.removeTapholdTimer);\n        EventHandler.remove(document, Browser.touchEndEvent, this.removeTapholdTimer);\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.getScrollableParent = function (element, axis) {\n        var scroll = { 'vertical': 'scrollHeight', 'horizontal': 'scrollWidth' };\n        var client = { 'vertical': 'clientHeight', 'horizontal': 'clientWidth' };\n        if (isNullOrUndefined(element)) {\n            return null;\n        }\n        if (element[scroll[axis]] > element[client[axis]]) {\n            if (axis === 'vertical' ? element.scrollTop > 0 : element.scrollLeft > 0) {\n                if (axis === 'vertical') {\n                    this.parentScrollY = this.parentScrollY +\n                        (this.parentScrollY === 0 ? element.scrollTop : element.scrollTop - this.parentScrollY);\n                    this.tempScrollHeight = element.scrollHeight;\n                }\n                else {\n                    this.parentScrollX = this.parentScrollX +\n                        (this.parentScrollX === 0 ? element.scrollLeft : element.scrollLeft - this.parentScrollX);\n                    this.tempScrollWidth = element.scrollWidth;\n                }\n                if (!isNullOrUndefined(element)) {\n                    return this.getScrollableParent(element.parentNode, axis);\n                }\n                else {\n                    return element;\n                }\n            }\n            else {\n                return this.getScrollableParent(element.parentNode, axis);\n            }\n        }\n        else {\n            return this.getScrollableParent(element.parentNode, axis);\n        }\n    };\n    Draggable.prototype.getScrollableValues = function () {\n        this.parentScrollX = 0;\n        this.parentScrollY = 0;\n        var isModalDialog = this.element.classList.contains('e-dialog') && this.element.classList.contains('e-dlg-modal');\n        var verticalScrollParent = this.getScrollableParent(this.element.parentNode, 'vertical');\n        var horizontalScrollParent = this.getScrollableParent(this.element.parentNode, 'horizontal');\n    };\n    Draggable.prototype.initialize = function (evt, curTarget) {\n        this.currentStateTarget = evt.target;\n        if (this.isDragStarted()) {\n            return;\n        }\n        else {\n            this.isDragStarted(true);\n            this.externalInitialize = false;\n        }\n        this.target = (evt.currentTarget || curTarget);\n        this.dragProcessStarted = false;\n        if (this.abort) {\n            /* tslint:disable no-any */\n            var abortSelectors = this.abort;\n            if (typeof abortSelectors === 'string') {\n                abortSelectors = [abortSelectors];\n            }\n            for (var i = 0; i < abortSelectors.length; i++) {\n                if (!isNullOrUndefined(closest(evt.target, abortSelectors[i]))) {\n                    /* istanbul ignore next */\n                    if (this.isDragStarted()) {\n                        this.isDragStarted(true);\n                    }\n                    return;\n                }\n            }\n        }\n        if (this.preventDefault && !isUndefined(evt.changedTouches) && evt.type !== 'touchstart') {\n            evt.preventDefault();\n        }\n        this.element.setAttribute('aria-grabbed', 'true');\n        var intCoord = this.getCoordinates(evt);\n        this.initialPosition = { x: intCoord.pageX, y: intCoord.pageY };\n        if (!this.clone) {\n            var pos = this.element.getBoundingClientRect();\n            this.getScrollableValues();\n            if (evt.clientX === evt.pageX) {\n                this.parentScrollX = 0;\n            }\n            if (evt.clientY === evt.pageY) {\n                this.parentScrollY = 0;\n            }\n            this.relativeXPosition = intCoord.pageX - (pos.left + this.parentScrollX);\n            this.relativeYPosition = intCoord.pageY - (pos.top + this.parentScrollY);\n        }\n        if (this.externalInitialize) {\n            this.intDragStart(evt);\n        }\n        else {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDragStart, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDestroy, this);\n        }\n        this.toggleEvents(true);\n        if (evt.type !== 'touchstart' && this.isPreventSelect) {\n            document.body.classList.add('e-prevent-select');\n        }\n        this.externalInitialize = false;\n        EventHandler.trigger(document.documentElement, Browser.touchStartEvent, evt);\n    };\n    Draggable.prototype.intDragStart = function (evt) {\n        this.removeTapholdTimer();\n        var isChangeTouch = !isUndefined(evt.changedTouches);\n        if (isChangeTouch && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var intCordinate = this.getCoordinates(evt);\n        var pos;\n        var styleProp = getComputedStyle(this.element);\n        this.margin = {\n            left: parseInt(styleProp.marginLeft, 10),\n            top: parseInt(styleProp.marginTop, 10),\n            right: parseInt(styleProp.marginRight, 10),\n            bottom: parseInt(styleProp.marginBottom, 10),\n        };\n        var element = this.element;\n        if (this.clone && this.dragTarget) {\n            var intClosest = closest(evt.target, this.dragTarget);\n            if (!isNullOrUndefined(intClosest)) {\n                element = intClosest;\n            }\n        }\n        /* istanbul ignore next */\n        if (this.isReplaceDragEle) {\n            element = this.currentStateCheck(evt.target, element);\n        }\n        this.offset = this.calculateParentPosition(element);\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var x = this.initialPosition.x - intCordinate.pageX;\n        var y = this.initialPosition.y - intCordinate.pageY;\n        var distance = Math.sqrt((x * x) + (y * y));\n        if ((distance >= this.distance || this.externalInitialize)) {\n            var ele = this.getHelperElement(evt);\n            if (!ele || isNullOrUndefined(ele)) {\n                return;\n            }\n            if (isChangeTouch) {\n                evt.preventDefault();\n            }\n            var dragTargetElement = this.helperElement = ele;\n            this.parentClientRect = this.calculateParentPosition(dragTargetElement.offsetParent);\n            if (this.dragStart) {\n                var curTarget = this.getProperTargetElement(evt);\n                var args = {\n                    event: evt,\n                    element: element,\n                    target: curTarget,\n                    bindEvents: isBlazor() ? this.bindDragEvents.bind(this) : null,\n                    dragElement: dragTargetElement\n                };\n                this.trigger('dragStart', args);\n            }\n            if (this.dragArea) {\n                this.setDragArea();\n            }\n            else {\n                this.dragLimit = { left: 0, right: 0, bottom: 0, top: 0 };\n                this.borderWidth = { top: 0, left: 0 };\n            }\n            pos = { left: this.position.left - this.parentClientRect.left, top: this.position.top - this.parentClientRect.top };\n            if (this.clone && !this.enableTailMode) {\n                this.diffX = this.position.left - this.offset.left;\n                this.diffY = this.position.top - this.offset.top;\n            }\n            this.getScrollableValues();\n            // when drag element has margin-top\n            var styles = getComputedStyle(element);\n            var marginTop = parseFloat(styles.marginTop);\n            /* istanbul ignore next */\n            if (this.clone && marginTop !== 0) {\n                pos.top += marginTop;\n            }\n            this.eleTop = !isNaN(parseFloat(styles.top)) ? parseFloat(styles.top) - this.offset.top : 0;\n            /* istanbul ignore next */\n            // if (this.eleTop > 0) {\n            //     pos.top += this.eleTop;\n            // }\n            if (this.enableScrollHandler && !this.clone) {\n                pos.top -= this.parentScrollY;\n                pos.left -= this.parentScrollX;\n            }\n            var posValue = this.getProcessedPositionValue({\n                top: (pos.top - this.diffY) + 'px',\n                left: (pos.left - this.diffX) + 'px'\n            });\n            this.dragElePosition = { top: pos.top, left: pos.left };\n            setStyleAttribute(dragTargetElement, this.getDragPosition({ position: 'absolute', left: posValue.left, top: posValue.top }));\n            EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n            EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n            if (!isBlazor()) {\n                this.bindDragEvents(dragTargetElement);\n            }\n        }\n    };\n    Draggable.prototype.bindDragEvents = function (dragTargetElement) {\n        if (isVisible(dragTargetElement)) {\n            EventHandler.add(document, Browser.touchMoveEvent, this.intDrag, this);\n            EventHandler.add(document, Browser.touchEndEvent, this.intDragStop, this);\n            this.setGlobalDroppables(false, this.element, dragTargetElement);\n        }\n        else {\n            this.toggleEvents();\n            document.body.classList.remove('e-prevent-select');\n        }\n    };\n    Draggable.prototype.elementInViewport = function (el) {\n        this.top = el.offsetTop;\n        this.left = el.offsetLeft;\n        this.width = el.offsetWidth;\n        this.height = el.offsetHeight;\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            this.top += el.offsetTop;\n            this.left += el.offsetLeft;\n        }\n        return (this.top >= window.pageYOffset &&\n            this.left >= window.pageXOffset &&\n            (this.top + this.height) <= (window.pageYOffset + window.innerHeight) &&\n            (this.left + this.width) <= (window.pageXOffset + window.innerWidth));\n    };\n    Draggable.prototype.getProcessedPositionValue = function (value) {\n        if (this.queryPositionInfo) {\n            return this.queryPositionInfo(value);\n        }\n        return value;\n    };\n    Draggable.prototype.calculateParentPosition = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return { left: 0, top: 0 };\n        }\n        var rect = ele.getBoundingClientRect();\n        var style = getComputedStyle(ele);\n        return {\n            left: (rect.left + window.pageXOffset) - parseInt(style.marginLeft, 10),\n            top: (rect.top + window.pageYOffset) - parseInt(style.marginTop, 10)\n        };\n    };\n    // tslint:disable-next-line:max-func-body-length\n    Draggable.prototype.intDrag = function (evt) {\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        if (this.clone && evt.changedTouches && Browser.isDevice && Browser.isTouch) {\n            evt.preventDefault();\n        }\n        var left;\n        var top;\n        this.position = this.getMousePosition(evt, this.isDragScroll);\n        var docHeight = this.getDocumentWidthHeight('Height');\n        if (docHeight < this.position.top) {\n            this.position.top = docHeight;\n        }\n        var docWidth = this.getDocumentWidthHeight('Width');\n        if (docWidth < this.position.left) {\n            this.position.left = docWidth;\n        }\n        if (this.drag) {\n            var curTarget = this.getProperTargetElement(evt);\n            this.trigger('drag', { event: evt, element: this.element, target: curTarget });\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            /* tslint:disable no-any */\n            var flag = true;\n            if (this.hoverObject) {\n                if (this.hoverObject.instance !== eleObj.instance) {\n                    this.triggerOutFunction(evt, eleObj);\n                }\n                else {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n                eleObj.instance.intOver(evt, eleObj.target);\n                this.hoverObject = eleObj;\n            }\n        }\n        else if (this.hoverObject) {\n            this.triggerOutFunction(evt, eleObj);\n        }\n        var helperElement = this.droppables[this.scope].helper;\n        this.parentClientRect = this.calculateParentPosition(this.helperElement.offsetParent);\n        var tLeft = this.parentClientRect.left;\n        var tTop = this.parentClientRect.top;\n        var intCoord = this.getCoordinates(evt);\n        var pagex = intCoord.pageX;\n        var pagey = intCoord.pageY;\n        var dLeft = this.position.left - this.diffX;\n        var dTop = this.position.top - this.diffY;\n        var styles = getComputedStyle(helperElement);\n        if (this.dragArea) {\n            if (this.pageX !== pagex || this.skipDistanceCheck) {\n                var helperWidth = helperElement.offsetWidth + (parseFloat(styles.marginLeft)\n                    + parseFloat(styles.marginRight));\n                if (this.dragLimit.left > dLeft && dLeft > 0) {\n                    left = this.dragLimit.left;\n                }\n                else if (this.dragLimit.right + window.pageXOffset < dLeft + helperWidth && dLeft > 0) {\n                    left = dLeft - (dLeft - this.dragLimit.right) + window.pageXOffset - helperWidth;\n                }\n                else {\n                    left = dLeft < 0 ? this.dragLimit.left : dLeft;\n                }\n            }\n            if (this.pageY !== pagey || this.skipDistanceCheck) {\n                var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                    + parseFloat(styles.marginBottom));\n                if (this.dragLimit.top > dTop && dTop > 0) {\n                    top = this.dragLimit.top;\n                }\n                else if (this.dragLimit.bottom + window.pageYOffset < dTop + helperHeight && dTop > 0) {\n                    top = dTop - (dTop - this.dragLimit.bottom) + window.pageYOffset - helperHeight;\n                }\n                else {\n                    top = dTop < 0 ? this.dragLimit.top : dTop;\n                }\n            }\n        }\n        else {\n            left = dLeft;\n            top = dTop;\n        }\n        var iTop = tTop + this.borderWidth.top;\n        var iLeft = tLeft + this.borderWidth.left;\n        if (this.dragProcessStarted) {\n            if (isNullOrUndefined(top)) {\n                top = this.prevTop;\n            }\n            if (isNullOrUndefined(left)) {\n                left = this.prevLeft;\n            }\n        }\n        var draEleTop;\n        var draEleLeft;\n        if (this.dragArea) {\n            this.dragLimit.top = this.clone ? this.dragLimit.top : 0;\n            draEleTop = (top - iTop) < 0 ? this.dragLimit.top : (top - this.borderWidth.top);\n            draEleLeft = (left - iLeft) < 0 ? this.dragLimit.left : (left - this.borderWidth.left);\n        }\n        else {\n            draEleTop = top - this.borderWidth.top;\n            draEleLeft = left - this.borderWidth.left;\n        }\n        var marginTop = parseFloat(getComputedStyle(this.element).marginTop);\n        // when drag-element has margin-top\n        /* istanbul ignore next */\n        if (marginTop > 0) {\n            if (this.clone) {\n                draEleTop += marginTop;\n                if (dTop < 0) {\n                    if ((marginTop + dTop) >= 0) {\n                        draEleTop = marginTop + dTop;\n                    }\n                    else {\n                        draEleTop -= marginTop;\n                    }\n                }\n                draEleTop = (this.dragLimit.bottom < draEleTop) ? this.dragLimit.bottom : draEleTop;\n            }\n            if ((top - iTop) < 0) {\n                if (dTop + marginTop + (helperElement.offsetHeight - iTop) >= 0) {\n                    var tempDraEleTop = this.dragLimit.top + dTop - iTop;\n                    if ((tempDraEleTop + marginTop + iTop) < 0) {\n                        draEleTop -= marginTop + iTop;\n                    }\n                    else {\n                        draEleTop = tempDraEleTop;\n                    }\n                }\n                else {\n                    draEleTop -= marginTop + iTop;\n                }\n            }\n        }\n        if (this.dragArea) {\n            var helperHeight = helperElement.offsetHeight + (parseFloat(styles.marginTop)\n                + parseFloat(styles.marginBottom));\n            draEleTop = (draEleTop + helperHeight) > this.dragLimit.bottom ? (this.dragLimit.bottom - helperHeight) : draEleTop;\n        }\n        /* istanbul ignore next */\n        // if(this.eleTop > 0) {\n        //      draEleTop += this.eleTop;\n        // }\n        if (this.enableScrollHandler && !this.clone) {\n            draEleTop -= this.parentScrollY;\n            draEleLeft -= this.parentScrollX;\n        }\n        var dragValue = this.getProcessedPositionValue({ top: draEleTop + 'px', left: draEleLeft + 'px' });\n        setStyleAttribute(helperElement, this.getDragPosition(dragValue));\n        if (!this.elementInViewport(helperElement) && this.enableAutoScroll && !this.helperElement.classList.contains('e-treeview')) {\n            this.helperElement.scrollIntoView();\n        }\n        var elements = document.querySelectorAll(':hover');\n        if (this.enableAutoScroll && this.helperElement.classList.contains('e-treeview')) {\n            if (elements.length === 0) {\n                elements = this.getPathElements(evt);\n            }\n            /* tslint:disable no-any */\n            var scrollParent = this.getScrollParent(elements, false);\n            if (this.elementInViewport(this.helperElement)) {\n                this.getScrollPosition(scrollParent, draEleTop);\n            }\n            else if (!this.elementInViewport(this.helperElement)) {\n                elements = [].slice.call(document.querySelectorAll(':hover'));\n                if (elements.length === 0) {\n                    elements = this.getPathElements(evt);\n                }\n                scrollParent = this.getScrollParent(elements, true);\n                this.getScrollPosition(scrollParent, draEleTop);\n            }\n        }\n        this.dragProcessStarted = true;\n        this.prevLeft = left;\n        this.prevTop = top;\n        this.position.left = left;\n        this.position.top = top;\n        this.pageX = pagex;\n        this.pageY = pagey;\n    };\n    /* tslint:disable no-any */\n    Draggable.prototype.getScrollParent = function (node, reverse) {\n        /* tslint:disable no-any */\n        var nodeEl = reverse ? node.reverse() : node;\n        var hasScroll;\n        for (var i = nodeEl.length - 1; i >= 0; i--) {\n            hasScroll = window.getComputedStyle(nodeEl[i])['overflow-y'];\n            if ((hasScroll === 'auto' || hasScroll === 'scroll')\n                && nodeEl[i].scrollHeight > nodeEl[i].clientHeight) {\n                return nodeEl[i];\n            }\n        }\n        hasScroll = window.getComputedStyle(document.scrollingElement)['overflow-y'];\n        if (hasScroll === 'visible') {\n            document.scrollingElement.style.overflow = 'auto';\n            return document.scrollingElement;\n        }\n    };\n    Draggable.prototype.getScrollPosition = function (nodeEle, draEleTop) {\n        if (nodeEle && nodeEle === document.scrollingElement) {\n            if ((nodeEle.clientHeight + document.scrollingElement.scrollTop - this.helperElement.clientHeight) < draEleTop\n                && nodeEle.getBoundingClientRect().height + this.parentClientRect.top > draEleTop) {\n                nodeEle.scrollTop += this.helperElement.clientHeight;\n            }\n            else if (nodeEle.scrollTop > draEleTop - this.helperElement.clientHeight) {\n                nodeEle.scrollTop -= this.helperElement.clientHeight;\n            }\n        }\n        else if (nodeEle && nodeEle !== document.scrollingElement) {\n            if ((nodeEle.clientHeight + nodeEle.getBoundingClientRect().top - this.helperElement.clientHeight + document.scrollingElement.scrollTop - this.borderWidth.top - this.borderWidth.bottom) <= draEleTop) {\n                nodeEle.scrollTop += this.helperElement.clientHeight;\n            }\n            else if (nodeEle.getBoundingClientRect().top > (draEleTop - this.helperElement.clientHeight - document.scrollingElement.scrollTop)) {\n                nodeEle.scrollTop -= this.helperElement.clientHeight;\n            }\n        }\n    };\n    Draggable.prototype.getPathElements = function (evt) {\n        var elementTop = evt.clientX > 0 ? evt.clientX : 0;\n        var elementLeft = evt.clientY > 0 ? evt.clientY : 0;\n        return document.elementsFromPoint(elementTop, elementLeft);\n    };\n    Draggable.prototype.triggerOutFunction = function (evt, eleObj) {\n        this.hoverObject.instance.intOut(evt, eleObj.target);\n        this.hoverObject.instance.dragData[this.scope] = null;\n        this.hoverObject = null;\n    };\n    Draggable.prototype.getDragPosition = function (dragValue) {\n        var temp = extend({}, dragValue);\n        if (this.axis) {\n            if (this.axis === 'x') {\n                delete temp.top;\n            }\n            else if (this.axis === 'y') {\n                delete temp.left;\n            }\n        }\n        return temp;\n    };\n    Draggable.prototype.getDocumentWidthHeight = function (str) {\n        var docBody = document.body;\n        var docEle = document.documentElement;\n        var returnValue = Math.max(docBody['scroll' + str], docEle['scroll' + str], docBody['offset' + str], docEle['offset' + str], docEle['client' + str]);\n        return returnValue;\n    };\n    Draggable.prototype.intDragStop = function (evt) {\n        this.dragProcessStarted = false;\n        if (!isUndefined(evt.changedTouches) && (evt.changedTouches.length !== 1)) {\n            return;\n        }\n        var type = ['touchend', 'pointerup', 'mouseup'];\n        if (type.indexOf(evt.type) !== -1) {\n            if (this.dragStop) {\n                var curTarget = this.getProperTargetElement(evt);\n                this.trigger('dragStop', { event: evt, element: this.element, target: curTarget, helper: this.helperElement });\n            }\n            this.intDestroy(evt);\n        }\n        else {\n            this.element.setAttribute('aria-grabbed', 'false');\n        }\n        var eleObj = this.checkTargetElement(evt);\n        if (eleObj.target && eleObj.instance) {\n            eleObj.instance.dragStopCalled = true;\n            eleObj.instance.dragData[this.scope] = this.droppables[this.scope];\n            eleObj.instance.intDrop(evt, eleObj.target);\n        }\n        this.setGlobalDroppables(true);\n        document.body.classList.remove('e-prevent-select');\n    };\n    /**\n     * @private\n     */\n    Draggable.prototype.intDestroy = function (evt) {\n        this.dragProcessStarted = false;\n        this.toggleEvents();\n        document.body.classList.remove('e-prevent-select');\n        this.element.setAttribute('aria-grabbed', 'false');\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDragStart);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDragStop);\n        EventHandler.remove(document, Browser.touchEndEvent, this.intDestroy);\n        EventHandler.remove(document, Browser.touchMoveEvent, this.intDrag);\n        if (this.isDragStarted()) {\n            this.isDragStarted(true);\n        }\n    };\n    // triggers when property changed\n    Draggable.prototype.onPropertyChanged = function (newProp, oldProp) {\n        //No Code to handle\n    };\n    Draggable.prototype.getModuleName = function () {\n        return 'draggable';\n    };\n    Draggable.prototype.isDragStarted = function (change) {\n        if (change) {\n            isDraggedObject.isDragged = !isDraggedObject.isDragged;\n        }\n        return isDraggedObject.isDragged;\n    };\n    Draggable.prototype.setDragArea = function () {\n        var eleWidthBound;\n        var eleHeightBound;\n        var top = 0;\n        var left = 0;\n        var ele;\n        var type = typeof this.dragArea;\n        if (type === 'string') {\n            ele = select(this.dragArea);\n        }\n        else {\n            ele = this.dragArea;\n        }\n        if (ele) {\n            var elementArea = ele.getBoundingClientRect();\n            eleWidthBound = ele.scrollWidth ? ele.scrollWidth : elementArea.right - elementArea.left;\n            eleHeightBound = ele.scrollHeight ? (this.dragArea && this.helperElement.classList.contains('e-treeview')) ? ele.clientHeight : ele.scrollHeight : elementArea.bottom - elementArea.top;\n            var keys = ['Top', 'Left', 'Bottom', 'Right'];\n            var styles = getComputedStyle(ele);\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var tborder = styles['border' + key + 'Width'];\n                var tpadding = styles['padding' + key];\n                var lowerKey = key.toLowerCase();\n                this.borderWidth[lowerKey] = isNaN(parseFloat(tborder)) ? 0 : parseFloat(tborder);\n                this.padding[lowerKey] = isNaN(parseFloat(tpadding)) ? 0 : parseFloat(tpadding);\n            }\n            top = elementArea.top + document.scrollingElement.scrollTop;\n            left = elementArea.left;\n            this.dragLimit.left = left + this.borderWidth.left + this.padding.left;\n            this.dragLimit.top = ele.offsetTop + this.borderWidth.top + this.padding.top;\n            this.dragLimit.right = left + eleWidthBound - (this.borderWidth.right + this.padding.right);\n            this.dragLimit.bottom = top + eleHeightBound - (this.borderWidth.bottom + this.padding.bottom);\n        }\n    };\n    Draggable.prototype.getProperTargetElement = function (evt) {\n        var intCoord = this.getCoordinates(evt);\n        var ele;\n        var prevStyle = this.helperElement.style.pointerEvents || '';\n        if (compareElementParent(evt.target, this.helperElement) || evt.type.indexOf('touch') !== -1) {\n            this.helperElement.style.pointerEvents = 'none';\n            ele = document.elementFromPoint(intCoord.clientX, intCoord.clientY);\n            this.helperElement.style.pointerEvents = prevStyle;\n        }\n        else {\n            ele = evt.target;\n        }\n        return ele;\n    };\n    /* istanbul ignore next */\n    Draggable.prototype.currentStateCheck = function (ele, oldEle) {\n        var elem;\n        if (!isNullOrUndefined(this.currentStateTarget) && this.currentStateTarget !== ele) {\n            elem = this.currentStateTarget;\n        }\n        else {\n            elem = !isNullOrUndefined(oldEle) ? oldEle : ele;\n        }\n        return elem;\n    };\n    Draggable.prototype.getMousePosition = function (evt, isdragscroll) {\n        /* tslint:disable no-any */\n        var dragEle = evt.srcElement !== undefined ? evt.srcElement : evt.target;\n        var intCoord = this.getCoordinates(evt);\n        var pageX;\n        var pageY;\n        var isOffsetParent = isNullOrUndefined(dragEle.offsetParent);\n        /* istanbul ignore next */\n        if (isdragscroll) {\n            pageX = this.clone ? intCoord.pageX :\n                (intCoord.pageX + (isOffsetParent ? 0 : dragEle.offsetParent.scrollLeft)) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY :\n                (intCoord.pageY + (isOffsetParent ? 0 : dragEle.offsetParent.scrollTop)) - this.relativeYPosition;\n        }\n        else {\n            pageX = this.clone ? intCoord.pageX : (intCoord.pageX + window.pageXOffset) - this.relativeXPosition;\n            pageY = this.clone ? intCoord.pageY : (intCoord.pageY + window.pageYOffset) - this.relativeYPosition;\n        }\n        return {\n            left: pageX - (this.margin.left + this.cursorAt.left),\n            top: pageY - (this.margin.top + this.cursorAt.top)\n        };\n    };\n    Draggable.prototype.getCoordinates = function (evt) {\n        if (evt.type.indexOf('touch') > -1) {\n            return evt.changedTouches[0];\n        }\n        return evt;\n    };\n    Draggable.prototype.getHelperElement = function (evt) {\n        var element;\n        if (this.clone) {\n            if (this.helper) {\n                element = this.helper({ sender: evt, element: this.target });\n            }\n            else {\n                element = createElement('div', { className: 'e-drag-helper e-block-touch', innerHTML: 'Draggable' });\n                document.body.appendChild(element);\n            }\n        }\n        else {\n            element = this.element;\n        }\n        return element;\n    };\n    Draggable.prototype.setGlobalDroppables = function (reset, drag, helper) {\n        this.droppables[this.scope] = reset ? null : {\n            draggable: drag,\n            helper: helper,\n            draggedElement: this.element\n        };\n    };\n    Draggable.prototype.checkTargetElement = function (evt) {\n        var target = this.getProperTargetElement(evt);\n        var dropIns = this.getDropInstance(target);\n        if (!dropIns && target && !isNullOrUndefined(target.parentNode)) {\n            var parent_1 = closest(target.parentNode, '.e-droppable') || target.parentElement;\n            if (parent_1) {\n                dropIns = this.getDropInstance(parent_1);\n            }\n        }\n        return { target: target, instance: dropIns };\n    };\n    Draggable.prototype.getDropInstance = function (ele) {\n        var name = 'getModuleName';\n        var drop;\n        var eleInst = ele && ele.ej2_instances;\n        if (eleInst) {\n            for (var _i = 0, eleInst_1 = eleInst; _i < eleInst_1.length; _i++) {\n                var inst = eleInst_1[_i];\n                if (inst[name]() === 'droppable') {\n                    drop = inst;\n                    break;\n                }\n            }\n        }\n        return drop;\n    };\n    Draggable.prototype.destroy = function () {\n        this.toggleEvents(true);\n        _super.prototype.destroy.call(this);\n    };\n    var Draggable_1;\n    __decorate([\n        Complex({}, Position)\n    ], Draggable.prototype, \"cursorAt\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"clone\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isDragScroll\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"isReplaceDragEle\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"isPreventSelect\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Draggable.prototype, \"dragStop\", void 0);\n    __decorate([\n        Property(1)\n    ], Draggable.prototype, \"distance\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"handle\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"abort\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"helper\", void 0);\n    __decorate([\n        Property('default')\n    ], Draggable.prototype, \"scope\", void 0);\n    __decorate([\n        Property('')\n    ], Draggable.prototype, \"dragTarget\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"axis\", void 0);\n    __decorate([\n        Property()\n    ], Draggable.prototype, \"queryPositionInfo\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTailMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"skipDistanceCheck\", void 0);\n    __decorate([\n        Property(true)\n    ], Draggable.prototype, \"preventDefault\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableAutoScroll\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableTapHold\", void 0);\n    __decorate([\n        Property(750)\n    ], Draggable.prototype, \"tapHoldThreshold\", void 0);\n    __decorate([\n        Property(false)\n    ], Draggable.prototype, \"enableScrollHandler\", void 0);\n    Draggable = Draggable_1 = __decorate([\n        NotifyPropertyChanges\n    ], Draggable);\n    return Draggable;\n}(Base));\nexport { Draggable };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}