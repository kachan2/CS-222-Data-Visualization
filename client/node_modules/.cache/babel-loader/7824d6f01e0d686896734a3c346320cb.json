{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\n/**\n * This module enables the export to PDF functionality in Maps control.\n *\n * @hidden\n */\nvar PdfExport = /** @class */function () {\n  /**\n   * Constructor for Maps\n   *\n   * @param {Maps} control Specifies the instance of the map\n   */\n  function PdfExport() {}\n  /**\n   * To export the file as image/svg format\n   *\n   * @param {ExportType} type - Specifies the type of the document\n   * @param {string} fileName - Specifies the file name of the document\n   * @param {boolean} allowDownload - Specifies whether to download the document or not\n   * @param {PdfPageOrientation} orientation - Specifies the orientation of the PDF document to export the component\n   * @returns {Promise<string>} - Returns the promise string\n   * @private\n   */\n  PdfExport.prototype.export = function (maps, type, fileName, allowDownload, orientation) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var promise = new Promise(function (resolve, reject) {\n      var canvasElement = createElement('canvas', {\n        id: 'ej2-canvas',\n        attrs: {\n          'width': maps.availableSize.width.toString(),\n          'height': maps.availableSize.height.toString()\n        }\n      });\n      orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n      var svgParent = document.getElementById(maps.element.id + '_Tile_SVG_Parent');\n      var svgData;\n      var exportElement = maps.svgObject.cloneNode(true);\n      var backgroundElement = exportElement.childNodes[0];\n      var backgroundColor = backgroundElement.getAttribute('fill');\n      if ((maps.theme === 'Tailwind' || maps.theme === 'TailwindDark' || maps.theme === 'Bootstrap5' || maps.theme === 'Bootstrap5Dark' || maps.theme === 'Fluent' || maps.theme === 'FluentDark') && (backgroundColor === 'rgba(255,255,255, 0.0)' || backgroundColor === 'transparent')) {\n        exportElement.childNodes[0].setAttribute('fill', 'rgba(255,255,255, 1)');\n      }\n      var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] : [new XMLSerializer().serializeToString(exportElement)], {\n        type: 'image/svg+xml'\n      }));\n      var pdfDocument = new PdfDocument();\n      var image = new Image();\n      var ctx = canvasElement.getContext('2d');\n      if (!maps.isTileMap) {\n        image.onload = function () {\n          ctx.drawImage(image, 0, 0);\n          window.URL.revokeObjectURL(url);\n          if (type === 'PDF') {\n            var imageString = canvasElement.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n            pdfDocument.pageSettings.orientation = orientation;\n            imageString = imageString.slice(imageString.indexOf(',') + 1);\n            pdfDocument.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, maps.availableSize.width - 60, maps.availableSize.height);\n            if (allowDownload) {\n              pdfDocument.save(fileName + '.pdf');\n              pdfDocument.destroy();\n            } else {\n              resolve(null);\n            }\n          }\n        };\n        image.src = url;\n      } else {\n        var svgParentElement = document.getElementById(maps.element.id + '_MapAreaBorder');\n        var top_1 = parseFloat(svgParentElement.getAttribute('y'));\n        var left_1 = parseFloat(svgParentElement.getAttribute('x'));\n        var xHttp = new XMLHttpRequest();\n        var tileLength_1 = maps.mapLayerPanel.tiles.length;\n        var _loop_1 = function (i) {\n          var tile = document.getElementById(maps.element.id + '_tile_' + (i - 1));\n          var tileImg = new Image();\n          tileImg.crossOrigin = 'Anonymous';\n          ctx.fillStyle = maps.background ? maps.background : '#FFFFFF';\n          ctx.fillRect(0, 0, maps.availableSize.width, maps.availableSize.height);\n          ctx.font = maps.titleSettings.textStyle.size + ' Arial';\n          var titleElement = document.getElementById(maps.element.id + '_Map_title');\n          if (!isNullOrUndefined(titleElement)) {\n            ctx.fillStyle = titleElement.getAttribute('fill');\n            ctx.fillText(maps.titleSettings.text, parseFloat(titleElement.getAttribute('x')), parseFloat(titleElement.getAttribute('y')));\n          }\n          tileImg.onload = function () {\n            if (i === 0 || i === tileLength_1 + 1) {\n              if (i === 0) {\n                ctx.setTransform(1, 0, 0, 1, 0, 0);\n                ctx.rect(0, top_1, parseFloat(svgParent.style.width), parseFloat(svgParent.style.height));\n                ctx.clip();\n              } else {\n                ctx.setTransform(1, 0, 0, 1, left_1, top_1);\n              }\n            } else {\n              ctx.setTransform(1, 0, 0, 1, parseFloat(tile.style.left) + left_1, parseFloat(tile.style.top) + top_1);\n            }\n            ctx.drawImage(tileImg, 0, 0);\n            if (i === tileLength_1 + 1) {\n              if (type === 'PDF') {\n                localStorage.setItem('saved-image-example', canvasElement.toDataURL('image/jpeg'));\n                var x = localStorage.getItem('saved-image-example');\n                pdfDocument.pageSettings.orientation = orientation;\n                x = x.slice(x.indexOf(',') + 1);\n                pdfDocument.pages.add().graphics.drawImage(new PdfBitmap(x), 0, 0, maps.availableSize.width - 60, maps.availableSize.height);\n                if (allowDownload) {\n                  pdfDocument.save(fileName + '.pdf');\n                  pdfDocument.destroy();\n                } else {\n                  resolve(null);\n                }\n              }\n            }\n          };\n          if (i === 0 || i === tileLength_1 + 1) {\n            if (i === 0) {\n              tileImg.src = url;\n            } else {\n              setTimeout(function () {\n                var tileSvg = document.getElementById(maps.element.id + '_Tile_SVG');\n                tileImg.src = window.URL.createObjectURL(new Blob([new XMLSerializer().serializeToString(tileSvg)], {\n                  type: 'image/svg+xml'\n                }));\n              }, 300);\n            }\n          } else {\n            xHttp.open('GET', tile.children[0].getAttribute('src'), true);\n            xHttp.send();\n            tileImg.src = tile.children[0].getAttribute('src');\n          }\n        };\n        for (var i = 0; i <= tileLength_1 + 1; i++) {\n          _loop_1(i);\n        }\n      }\n    });\n    return promise;\n  };\n  /**\n   * Get module name.\n   *\n   * @returns {string} - Returns the module name\n   */\n  PdfExport.prototype.getModuleName = function () {\n    return 'PdfExport';\n  };\n  /**\n   * To destroy the PdfExport.\n   *\n   * @returns {void}\n   * @private\n   */\n  PdfExport.prototype.destroy = function () {};\n  return PdfExport;\n}();\nexport { PdfExport };","map":{"version":3,"names":["createElement","isNullOrUndefined","PdfPageOrientation","PdfDocument","PdfBitmap","PdfExport","prototype","export","maps","type","fileName","allowDownload","orientation","promise","Promise","resolve","reject","canvasElement","id","attrs","availableSize","width","toString","height","Landscape","svgParent","document","getElementById","element","svgData","exportElement","svgObject","cloneNode","backgroundElement","childNodes","backgroundColor","getAttribute","theme","setAttribute","url","window","URL","createObjectURL","Blob","XMLSerializer","serializeToString","pdfDocument","image","Image","ctx","getContext","isTileMap","onload","drawImage","revokeObjectURL","imageString","toDataURL","replace","pageSettings","slice","indexOf","pages","add","graphics","save","destroy","src","svgParentElement","top_1","parseFloat","left_1","xHttp","XMLHttpRequest","tileLength_1","mapLayerPanel","tiles","length","_loop_1","i","tile","tileImg","crossOrigin","fillStyle","background","fillRect","font","titleSettings","textStyle","size","titleElement","fillText","text","setTransform","rect","style","clip","left","top","localStorage","setItem","x","getItem","setTimeout","tileSvg","open","children","send","getModuleName"],"sources":["/Users/macbookpro16/Desktop/cs222/client/node_modules/@syncfusion/ej2-maps/src/maps/model/export-pdf.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfPageOrientation, PdfDocument, PdfBitmap } from '@syncfusion/ej2-pdf-export';\n/**\n * This module enables the export to PDF functionality in Maps control.\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * Constructor for Maps\n     *\n     * @param {Maps} control Specifies the instance of the map\n     */\n    function PdfExport() {\n    }\n    /**\n     * To export the file as image/svg format\n     *\n     * @param {ExportType} type - Specifies the type of the document\n     * @param {string} fileName - Specifies the file name of the document\n     * @param {boolean} allowDownload - Specifies whether to download the document or not\n     * @param {PdfPageOrientation} orientation - Specifies the orientation of the PDF document to export the component\n     * @returns {Promise<string>} - Returns the promise string\n     * @private\n     */\n    PdfExport.prototype.export = function (maps, type, fileName, allowDownload, orientation) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var promise = new Promise(function (resolve, reject) {\n            var canvasElement = createElement('canvas', {\n                id: 'ej2-canvas',\n                attrs: {\n                    'width': maps.availableSize.width.toString(),\n                    'height': maps.availableSize.height.toString()\n                }\n            });\n            orientation = isNullOrUndefined(orientation) ? PdfPageOrientation.Landscape : orientation;\n            var svgParent = document.getElementById(maps.element.id + '_Tile_SVG_Parent');\n            var svgData;\n            var exportElement = maps.svgObject.cloneNode(true);\n            var backgroundElement = exportElement.childNodes[0];\n            var backgroundColor = backgroundElement.getAttribute('fill');\n            if ((maps.theme === 'Tailwind' || maps.theme === 'TailwindDark' || maps.theme === 'Bootstrap5' || maps.theme === 'Bootstrap5Dark'\n                || maps.theme === 'Fluent' || maps.theme === 'FluentDark') && (backgroundColor === 'rgba(255,255,255, 0.0)' || backgroundColor === 'transparent')) {\n                exportElement.childNodes[0].setAttribute('fill', 'rgba(255,255,255, 1)');\n            }\n            var url = window.URL.createObjectURL(new Blob(type === 'SVG' ? [svgData] :\n                [(new XMLSerializer()).serializeToString(exportElement)], { type: 'image/svg+xml' }));\n            var pdfDocument = new PdfDocument();\n            var image = new Image();\n            var ctx = canvasElement.getContext('2d');\n            if (!maps.isTileMap) {\n                image.onload = (function () {\n                    ctx.drawImage(image, 0, 0);\n                    window.URL.revokeObjectURL(url);\n                    if (type === 'PDF') {\n                        var imageString = canvasElement.toDataURL('image/jpeg').replace('image/jpeg', 'image/octet-stream');\n                        pdfDocument.pageSettings.orientation = orientation;\n                        imageString = imageString.slice(imageString.indexOf(',') + 1);\n                        pdfDocument.pages.add().graphics.drawImage(new PdfBitmap(imageString), 0, 0, (maps.availableSize.width - 60), maps.availableSize.height);\n                        if (allowDownload) {\n                            pdfDocument.save(fileName + '.pdf');\n                            pdfDocument.destroy();\n                        }\n                        else {\n                            resolve(null);\n                        }\n                    }\n                });\n                image.src = url;\n            }\n            else {\n                var svgParentElement = document.getElementById(maps.element.id + '_MapAreaBorder');\n                var top_1 = parseFloat(svgParentElement.getAttribute('y'));\n                var left_1 = parseFloat(svgParentElement.getAttribute('x'));\n                var xHttp = new XMLHttpRequest();\n                var tileLength_1 = maps.mapLayerPanel.tiles.length;\n                var _loop_1 = function (i) {\n                    var tile = document.getElementById(maps.element.id + '_tile_' + (i - 1));\n                    var tileImg = new Image();\n                    tileImg.crossOrigin = 'Anonymous';\n                    ctx.fillStyle = maps.background ? maps.background : '#FFFFFF';\n                    ctx.fillRect(0, 0, maps.availableSize.width, maps.availableSize.height);\n                    ctx.font = maps.titleSettings.textStyle.size + ' Arial';\n                    var titleElement = document.getElementById(maps.element.id + '_Map_title');\n                    if (!isNullOrUndefined(titleElement)) {\n                        ctx.fillStyle = titleElement.getAttribute('fill');\n                        ctx.fillText(maps.titleSettings.text, parseFloat(titleElement.getAttribute('x')), parseFloat(titleElement.getAttribute('y')));\n                    }\n                    tileImg.onload = (function () {\n                        if (i === 0 || i === tileLength_1 + 1) {\n                            if (i === 0) {\n                                ctx.setTransform(1, 0, 0, 1, 0, 0);\n                                ctx.rect(0, top_1, parseFloat(svgParent.style.width), parseFloat(svgParent.style.height));\n                                ctx.clip();\n                            }\n                            else {\n                                ctx.setTransform(1, 0, 0, 1, left_1, top_1);\n                            }\n                        }\n                        else {\n                            ctx.setTransform(1, 0, 0, 1, parseFloat(tile.style.left) + left_1, parseFloat(tile.style.top) + top_1);\n                        }\n                        ctx.drawImage(tileImg, 0, 0);\n                        if (i === tileLength_1 + 1) {\n                            if (type === 'PDF') {\n                                localStorage.setItem('saved-image-example', canvasElement.toDataURL('image/jpeg'));\n                                var x = localStorage.getItem('saved-image-example');\n                                pdfDocument.pageSettings.orientation = orientation;\n                                x = x.slice(x.indexOf(',') + 1);\n                                pdfDocument.pages.add().graphics.drawImage(new PdfBitmap(x), 0, 0, (maps.availableSize.width - 60), maps.availableSize.height);\n                                if (allowDownload) {\n                                    pdfDocument.save(fileName + '.pdf');\n                                    pdfDocument.destroy();\n                                }\n                                else {\n                                    resolve(null);\n                                }\n                            }\n                        }\n                    });\n                    if (i === 0 || i === tileLength_1 + 1) {\n                        if (i === 0) {\n                            tileImg.src = url;\n                        }\n                        else {\n                            setTimeout(function () {\n                                var tileSvg = document.getElementById(maps.element.id + '_Tile_SVG');\n                                tileImg.src = window.URL.createObjectURL(new Blob([(new XMLSerializer()).serializeToString(tileSvg)], { type: 'image/svg+xml' }));\n                            }, 300);\n                        }\n                    }\n                    else {\n                        xHttp.open('GET', tile.children[0].getAttribute('src'), true);\n                        xHttp.send();\n                        tileImg.src = tile.children[0].getAttribute('src');\n                    }\n                };\n                for (var i = 0; i <= tileLength_1 + 1; i++) {\n                    _loop_1(i);\n                }\n            }\n        });\n        return promise;\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Returns the module name\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'PdfExport';\n    };\n    /**\n     * To destroy the PdfExport.\n     *\n     * @returns {void}\n     * @private\n     */\n    PdfExport.prototype.destroy = function () { };\n    return PdfExport;\n}());\nexport { PdfExport };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}