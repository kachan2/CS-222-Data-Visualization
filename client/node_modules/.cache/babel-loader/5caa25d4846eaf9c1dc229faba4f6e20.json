{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { tooltipRender } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-svg-base';\nimport { createElement, Browser, isNullOrUndefined, extend, remove } from '@syncfusion/ej2-base';\nimport { getMousePosition, Internalize, checkPropertyPath, getValueFromObject, formatValue, convertStringToValue } from '../utils/helper';\nimport { click } from '../model/constants';\n/**\n * Map Tooltip\n */\nvar MapsTooltip = /** @class */function () {\n  function MapsTooltip(maps) {\n    this.maps = maps;\n    this.tooltipId = this.maps.element.id + '_mapsTooltip';\n    this.addEventListener();\n  }\n  MapsTooltip.prototype.renderTooltip = function (e) {\n    var _this = this;\n    var pageX;\n    var pageY;\n    var target;\n    var touchArg;\n    var tooltipArgs;\n    var tooltipTemplateElement;\n    if (e.type.indexOf('touch') !== -1) {\n      this.isTouch = true;\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].pageX;\n      pageY = touchArg.changedTouches[0].pageY;\n      target = touchArg.target;\n    } else {\n      this.isTouch = e.pointerType === 'touch';\n      pageX = e.pageX;\n      pageY = e.pageY;\n      target = e.target;\n    }\n    var option;\n    var currentData = '';\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var targetId = target.id;\n    var item = {};\n    var tooltipEle;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var templateData = [];\n    var keyString;\n    var index = targetId.indexOf('_LayerIndex_') > -1 && parseFloat(targetId.split('_LayerIndex_')[1].split('_')[0]);\n    var layer = this.maps.layersCollection[index];\n    var tooltipContent = [];\n    var markerFill;\n    var location = getMousePosition(pageX, pageY, this.maps.svgObject);\n    this.tooltipTargetID = targetId;\n    var istooltipRender = targetId.indexOf('_shapeIndex_') > -1 || targetId.indexOf('_MarkerIndex_') > -1 || targetId.indexOf('_BubbleIndex_') > -1;\n    if (istooltipRender) {\n      if (targetId.indexOf('_shapeIndex_') > -1) {\n        option = layer.tooltipSettings;\n        var shape = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n        if (isNullOrUndefined(layer.layerData) || isNullOrUndefined(layer.layerData[shape])) {\n          return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var value = layer.layerData[shape]['property'];\n        var isShape = false;\n        var properties = Object.prototype.toString.call(layer.shapePropertyPath) === '[object Array]' ? layer.shapePropertyPath : [layer.shapePropertyPath];\n        if (!isNullOrUndefined(properties)) {\n          for (var k = 0; k < properties.length; k++) {\n            for (var i = 0; i < layer['dataSource']['length']; i++) {\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              var data = layer.dataSource[i];\n              var dataPath = layer.shapeDataPath.indexOf('.') > -1 ? getValueFromObject(data, layer.shapeDataPath) : data[layer.shapeDataPath];\n              var dataPathValue = !isNullOrUndefined(dataPath) && isNaN(data[layer.shapeDataPath]) ? dataPath.toLowerCase() : dataPath;\n              var propertyValue = !isNullOrUndefined(value[properties[k]]) && isNaN(value[properties[k]]) ? value[properties[k]].toLowerCase() : value[properties[k]];\n              if (dataPathValue === propertyValue) {\n                isShape = true;\n                index = i;\n                k = properties.length;\n                break;\n              }\n            }\n          }\n          index = isShape ? index : null;\n          if (!isNullOrUndefined(layer.dataSource[index])) {\n            templateData = JSON.parse(JSON.stringify(layer.dataSource[index]));\n            for (keyString in value) {\n              // eslint-disable-next-line no-prototype-builtins\n              if (!templateData.hasOwnProperty(keyString)) {\n                templateData[keyString] = value[keyString];\n              }\n            }\n          }\n        }\n        if (option.visible && (!isNullOrUndefined(index) && !isNaN(index) || !isNullOrUndefined(value))) {\n          if (layer.tooltipSettings.format) {\n            currentData = this.formatter(layer.tooltipSettings.format, templateData);\n          } else {\n            var shapePath = checkPropertyPath(layer.shapeDataPath, layer.shapePropertyPath, value);\n            currentData = !isNullOrUndefined(layer.dataSource) && !isNullOrUndefined(index) ? formatValue(option.valuePath.indexOf('.') > -1 ? getValueFromObject(layer.dataSource[index], option.valuePath) : layer.dataSource[index][option.valuePath], this.maps) : value[shapePath];\n            if (isNullOrUndefined(currentData)) {\n              currentData = option.valuePath.indexOf('.') > -1 ? getValueFromObject(value, option.valuePath) : value[option.valuePath];\n            }\n          }\n        }\n        //location.y = this.template(option, location);\n      } else if (targetId.indexOf('_MarkerIndex_') > -1) {\n        var markerIdex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[0], 10);\n        var dataIndex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[2], 10);\n        var marker = layer.markerSettings[markerIdex];\n        option = marker.tooltipSettings;\n        templateData = marker.dataSource[dataIndex];\n        if (option.visible && !isNaN(markerIdex)) {\n          if (marker.tooltipSettings.format) {\n            currentData = this.formatter(marker.tooltipSettings.format, marker.dataSource[dataIndex]);\n          } else {\n            if (marker.template && !marker.tooltipSettings.valuePath) {\n              currentData = marker.template.split('>')[1].split('<')[0];\n            } else {\n              currentData = formatValue(marker.tooltipSettings.valuePath.indexOf('.') > -1 ? getValueFromObject(marker.dataSource[dataIndex], marker.tooltipSettings.valuePath) : marker.dataSource[dataIndex][marker.tooltipSettings.valuePath], this.maps);\n            }\n          }\n        }\n        //location.y = this.template(option, location);\n      } else if (targetId.indexOf('_BubbleIndex_') > -1) {\n        var bubbleIndex = parseInt(targetId.split('_BubbleIndex_')[1].split('_')[0], 10);\n        var dataIndex = parseInt(targetId.split('_BubbleIndex_')[1].split('_')[2], 10);\n        var bubble = layer.bubbleSettings[bubbleIndex];\n        option = bubble.tooltipSettings;\n        templateData = bubble.dataSource[dataIndex];\n        if (option.visible && !isNaN(dataIndex)) {\n          if (bubble.tooltipSettings.format) {\n            currentData = this.formatter(bubble.tooltipSettings.format, bubble.dataSource[dataIndex]);\n          } else {\n            currentData = formatValue(bubble.tooltipSettings.valuePath.indexOf('.') > -1 ? getValueFromObject(bubble.dataSource[dataIndex], bubble.tooltipSettings.valuePath) : bubble.dataSource[dataIndex][bubble.tooltipSettings.valuePath], this.maps);\n          }\n        }\n        //location.y = this.template(option, location);\n      }\n\n      if (document.getElementById(this.tooltipId)) {\n        tooltipEle = document.getElementById(this.tooltipId);\n      } else {\n        tooltipEle = createElement('div', {\n          id: this.maps.element.id + '_mapsTooltip',\n          className: 'EJ2-maps-Tooltip',\n          styles: 'position: absolute;pointer-events:none;'\n        });\n        document.getElementById(this.maps.element.id + '_Secondary_Element').appendChild(tooltipEle);\n      }\n      if (option.template !== null && Object.keys(typeof option.template === 'object' ? option.template : {}).length === 1) {\n        option.template = option.template[Object.keys(option.template)[0]];\n      }\n      templateData = this.setTooltipContent(option, templateData);\n      var tooltipTextStyle = {\n        color: option.textStyle.color,\n        fontFamily: option.textStyle.fontFamily,\n        fontStyle: option.textStyle.fontStyle,\n        fontWeight: option.textStyle.fontWeight,\n        opacity: option.textStyle.opacity,\n        size: option.textStyle.size\n      };\n      var tooltipOption = {\n        location: location,\n        text: tooltipContent,\n        data: templateData,\n        textStyle: tooltipTextStyle,\n        template: option.template\n      };\n      tooltipArgs = {\n        cancel: false,\n        name: tooltipRender,\n        options: tooltipOption,\n        fill: option.fill,\n        maps: this.maps,\n        element: target,\n        eventArgs: e,\n        content: !isNullOrUndefined(currentData) ? currentData.toString() : ''\n      };\n      this.maps.trigger(tooltipRender, tooltipArgs, function (args) {\n        if (!tooltipArgs.cancel && option.visible && !isNullOrUndefined(currentData) && targetId.indexOf('_cluster_') === -1 && targetId.indexOf('_dataLabel_') === -1) {\n          _this.maps['isProtectedOnChange'] = true;\n          tooltipArgs.options['textStyle']['color'] = tooltipArgs.options['textStyle']['color'] || _this.maps.themeStyle.tooltipFontColor;\n          tooltipArgs.options['textStyle']['fontFamily'] = tooltipArgs.options['textStyle']['fontFamily'] || _this.maps.themeStyle.fontFamily;\n          tooltipArgs.options['textStyle']['opacity'] = tooltipArgs.options['textStyle']['opacity'] || _this.maps.themeStyle.tooltipTextOpacity;\n          if (tooltipArgs.cancel) {\n            _this.svgTooltip = new Tooltip({\n              enable: true,\n              header: '',\n              data: option['data'],\n              template: option['template'],\n              content: tooltipArgs.content.toString() != currentData.toString() ? [tooltipArgs.content.toString()] : [currentData.toString()],\n              shapes: [],\n              location: option['location'],\n              palette: [markerFill],\n              areaBounds: _this.maps.mapAreaRect,\n              textStyle: option['textStyle'],\n              availableSize: _this.maps.availableSize,\n              fill: option.fill || _this.maps.themeStyle.tooltipFillColor\n            });\n          } else {\n            _this.svgTooltip = new Tooltip({\n              enable: true,\n              header: '',\n              data: tooltipArgs.options['data'],\n              template: tooltipArgs.options['template'],\n              content: tooltipArgs.content.toString() != currentData.toString() ? [tooltipArgs.content.toString()] : [currentData.toString()],\n              shapes: [],\n              location: tooltipArgs.options['location'],\n              palette: [markerFill],\n              areaBounds: _this.maps.mapAreaRect,\n              textStyle: tooltipArgs.options['textStyle'],\n              availableSize: _this.maps.availableSize,\n              fill: tooltipArgs.fill || _this.maps.themeStyle.tooltipFillColor\n            });\n          }\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          if (_this.maps.isVue || _this.maps.isVue3) {\n            _this.svgTooltip.controlInstance = _this.maps;\n          }\n          _this.svgTooltip.opacity = _this.maps.themeStyle.tooltipFillOpacity || _this.svgTooltip.opacity;\n          _this.svgTooltip.appendTo(tooltipEle);\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          _this.maps.renderReactTemplates();\n          tooltipTemplateElement = document.getElementById(_this.maps.element.id + '_mapsTooltip');\n          if (tooltipTemplateElement !== null && tooltipTemplateElement.innerHTML.indexOf('href') !== -1 && tooltipTemplateElement.innerHTML.indexOf('</a>') !== -1) {\n            var templateStyle = tooltipTemplateElement.getAttribute('style');\n            templateStyle = templateStyle.replace('pointer-events: none;', 'position-events:all;');\n            tooltipTemplateElement.setAttribute('style', templateStyle);\n          }\n        } else {\n          _this.clearTooltip();\n        }\n      });\n      if (this.svgTooltip) {\n        this.maps.trigger('tooltipRenderComplete', {\n          cancel: false,\n          name: 'tooltipRenderComplete',\n          maps: this.maps,\n          options: tooltipOption,\n          element: this.svgTooltip.element\n        });\n      }\n      if (this.svgTooltip) {\n        this.maps.trigger('tooltipRenderComplete', {\n          cancel: false,\n          name: 'tooltipRenderComplete',\n          maps: this.maps,\n          options: tooltipOption,\n          element: this.svgTooltip.element\n        });\n      } else {\n        this.clearTooltip();\n      }\n    } else {\n      tooltipTemplateElement = document.getElementById(this.maps.element.id + '_mapsTooltip');\n      if (tooltipTemplateElement !== null && tooltipTemplateElement.innerHTML.indexOf('href') !== -1 && tooltipTemplateElement.innerHTML.indexOf('</a>') !== -1) {\n        this.maps.notify(click, this);\n      } else {\n        this.clearTooltip();\n      }\n    }\n  };\n  /**\n   * To get content for the current toolitp\n   *\n   * @param {TooltipSettingsModel} options - Specifies the options for rendering tooltip\n   * @param {any} templateData - Specifies the template data\n   * @returns {any} - Returns the local data\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MapsTooltip.prototype.setTooltipContent = function (options, templateData) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var localData = extend({}, templateData, null, true);\n    if (this.maps.format && !isNaN(Number(localData[options.valuePath]))) {\n      localData[options.valuePath] = Internalize(this.maps, Number(localData[options.valuePath]));\n    } else {\n      localData = Object.keys(localData).length ? localData : undefined;\n    }\n    return localData;\n  };\n  /*private template(tooltip: TooltipSettingsModel, location: MapLocation): number {\n      location.y = (tooltip.template) ? location.y + 10 : location.y;\n      return location.y;\n  }*/\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MapsTooltip.prototype.formatter = function (format, data) {\n    if (data === void 0) {\n      data = {};\n    }\n    var keys = Object.keys(data);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n      var key = keys_1[_i];\n      format = typeof data[key] === 'object' ? convertStringToValue('', format, data, this.maps) : format.split('${' + key + '}').join(formatValue(data[key], this.maps));\n    }\n    return format;\n  };\n  MapsTooltip.prototype.mouseUpHandler = function (e) {\n    this.renderTooltip(e);\n    if (this.maps.tooltipDisplayMode === 'MouseMove') {\n      clearTimeout(this.clearTimeout);\n      this.clearTimeout = setTimeout(this.removeTooltip.bind(this), 2000);\n    }\n  };\n  MapsTooltip.prototype.removeTooltip = function () {\n    var isTooltipRemoved = false;\n    if (document.getElementsByClassName('EJ2-maps-Tooltip').length > 0) {\n      remove(document.getElementsByClassName('EJ2-maps-Tooltip')[0]);\n      isTooltipRemoved = true;\n    }\n    return isTooltipRemoved;\n  };\n  MapsTooltip.prototype.clearTooltip = function () {\n    var isTooltipRemoved = this.removeTooltip();\n    if (isTooltipRemoved) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.maps.clearTemplate();\n    }\n  };\n  // eslint-disable-next-line valid-jsdoc\n  /**\n   * To bind events for tooltip module\n   */\n  MapsTooltip.prototype.addEventListener = function () {\n    if (this.maps.isDestroyed) {\n      return;\n    }\n    if (this.maps.tooltipDisplayMode === 'DoubleClick') {\n      this.maps.on('dblclick', this.renderTooltip, this);\n    } else if (this.maps.tooltipDisplayMode === 'Click') {\n      this.maps.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n    } else {\n      this.maps.on(Browser.touchMoveEvent, this.renderTooltip, this);\n    }\n    this.maps.element.addEventListener('contextmenu', this.removeTooltip);\n    this.maps.on(Browser.touchCancelEvent, this.removeTooltip, this);\n  };\n  MapsTooltip.prototype.removeEventListener = function () {\n    if (this.maps.isDestroyed) {\n      return;\n    }\n    if (this.maps.tooltipDisplayMode === 'DoubleClick') {\n      this.maps.off('dblclick', this.removeTooltip);\n    } else if (this.maps.tooltipDisplayMode === 'Click') {\n      this.maps.off(Browser.touchEndEvent, this.mouseUpHandler);\n    } else {\n      this.maps.off(Browser.touchMoveEvent, this.renderTooltip);\n    }\n    this.maps.off(Browser.touchCancelEvent, this.removeTooltip);\n  };\n  /**\n   * Get module name.\n   *\n   * @returns {string} Returns the module name\n   */\n  MapsTooltip.prototype.getModuleName = function () {\n    return 'MapsTooltip';\n  };\n  /**\n   * To destroy the tooltip.\n   *\n   * @returns {void}\n   * @private\n   */\n  MapsTooltip.prototype.destroy = function () {\n    if (!isNullOrUndefined(this.svgTooltip)) {\n      this.svgTooltip.destroy();\n    }\n    this.svgTooltip = null;\n    this.removeEventListener();\n    //TODO: Calling the below code throws spec issue.\n    //this.maps = null;\n  };\n\n  return MapsTooltip;\n}();\nexport { MapsTooltip };","map":{"version":3,"names":["tooltipRender","Tooltip","createElement","Browser","isNullOrUndefined","extend","remove","getMousePosition","Internalize","checkPropertyPath","getValueFromObject","formatValue","convertStringToValue","click","MapsTooltip","maps","tooltipId","element","id","addEventListener","prototype","renderTooltip","e","_this","pageX","pageY","target","touchArg","tooltipArgs","tooltipTemplateElement","type","indexOf","isTouch","changedTouches","pointerType","option","currentData","targetId","item","tooltipEle","templateData","keyString","index","parseFloat","split","layer","layersCollection","tooltipContent","markerFill","location","svgObject","tooltipTargetID","istooltipRender","tooltipSettings","shape","parseInt","layerData","value","isShape","properties","Object","toString","call","shapePropertyPath","k","length","i","data","dataSource","dataPath","shapeDataPath","dataPathValue","isNaN","toLowerCase","propertyValue","JSON","parse","stringify","hasOwnProperty","visible","format","formatter","shapePath","valuePath","markerIdex","dataIndex","marker","markerSettings","template","bubbleIndex","bubble","bubbleSettings","document","getElementById","className","styles","appendChild","keys","setTooltipContent","tooltipTextStyle","color","textStyle","fontFamily","fontStyle","fontWeight","opacity","size","tooltipOption","text","cancel","name","options","fill","eventArgs","content","trigger","args","themeStyle","tooltipFontColor","tooltipTextOpacity","svgTooltip","enable","header","shapes","palette","areaBounds","mapAreaRect","availableSize","tooltipFillColor","isVue","isVue3","controlInstance","tooltipFillOpacity","appendTo","renderReactTemplates","innerHTML","templateStyle","getAttribute","replace","setAttribute","clearTooltip","notify","localData","Number","undefined","_i","keys_1","key","join","mouseUpHandler","tooltipDisplayMode","clearTimeout","setTimeout","removeTooltip","bind","isTooltipRemoved","getElementsByClassName","clearTemplate","isDestroyed","on","touchEndEvent","touchMoveEvent","touchCancelEvent","removeEventListener","off","getModuleName","destroy"],"sources":["/Users/macbookpro16/Desktop/cs222/client/node_modules/@syncfusion/ej2-maps/src/maps/user-interaction/tooltip.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { tooltipRender } from '../index';\nimport { Tooltip } from '@syncfusion/ej2-svg-base';\nimport { createElement, Browser, isNullOrUndefined, extend, remove } from '@syncfusion/ej2-base';\nimport { getMousePosition, Internalize, checkPropertyPath, getValueFromObject, formatValue, convertStringToValue } from '../utils/helper';\nimport { click } from '../model/constants';\n/**\n * Map Tooltip\n */\nvar MapsTooltip = /** @class */ (function () {\n    function MapsTooltip(maps) {\n        this.maps = maps;\n        this.tooltipId = this.maps.element.id + '_mapsTooltip';\n        this.addEventListener();\n    }\n    MapsTooltip.prototype.renderTooltip = function (e) {\n        var _this = this;\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        var tooltipArgs;\n        var tooltipTemplateElement;\n        if (e.type.indexOf('touch') !== -1) {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].pageX;\n            pageY = touchArg.changedTouches[0].pageY;\n            target = touchArg.target;\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.pageX;\n            pageY = e.pageY;\n            target = e.target;\n        }\n        var option;\n        var currentData = '';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var targetId = target.id;\n        var item = {};\n        var tooltipEle;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var templateData = [];\n        var keyString;\n        var index = targetId.indexOf('_LayerIndex_') > -1 && parseFloat(targetId.split('_LayerIndex_')[1].split('_')[0]);\n        var layer = this.maps.layersCollection[index];\n        var tooltipContent = [];\n        var markerFill;\n        var location = getMousePosition(pageX, pageY, this.maps.svgObject);\n        this.tooltipTargetID = targetId;\n        var istooltipRender = (targetId.indexOf('_shapeIndex_') > -1)\n            || (targetId.indexOf('_MarkerIndex_') > -1) || (targetId.indexOf('_BubbleIndex_') > -1);\n        if (istooltipRender) {\n            if (targetId.indexOf('_shapeIndex_') > -1) {\n                option = layer.tooltipSettings;\n                var shape = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n                if (isNullOrUndefined(layer.layerData) || isNullOrUndefined(layer.layerData[shape])) {\n                    return;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var value = layer.layerData[shape]['property'];\n                var isShape = false;\n                var properties = (Object.prototype.toString.call(layer.shapePropertyPath) === '[object Array]' ?\n                    layer.shapePropertyPath : [layer.shapePropertyPath]);\n                if (!isNullOrUndefined(properties)) {\n                    for (var k = 0; k < properties.length; k++) {\n                        for (var i = 0; i < layer['dataSource']['length']; i++) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            var data = layer.dataSource[i];\n                            var dataPath = (layer.shapeDataPath.indexOf('.') > -1) ?\n                                (getValueFromObject(data, layer.shapeDataPath)) : data[layer.shapeDataPath];\n                            var dataPathValue = !isNullOrUndefined(dataPath) && isNaN(data[layer.shapeDataPath])\n                                ? dataPath.toLowerCase() : dataPath;\n                            var propertyValue = !isNullOrUndefined(value[properties[k]])\n                                && isNaN(value[properties[k]]) ? value[properties[k]].toLowerCase() :\n                                value[properties[k]];\n                            if (dataPathValue === propertyValue) {\n                                isShape = true;\n                                index = i;\n                                k = properties.length;\n                                break;\n                            }\n                        }\n                    }\n                    index = isShape ? index : null;\n                    if (!isNullOrUndefined(layer.dataSource[index])) {\n                        templateData = JSON.parse(JSON.stringify(layer.dataSource[index]));\n                        for (keyString in value) {\n                            // eslint-disable-next-line no-prototype-builtins\n                            if (!templateData.hasOwnProperty(keyString)) {\n                                templateData[keyString] = value[keyString];\n                            }\n                        }\n                    }\n                }\n                if (option.visible && ((!isNullOrUndefined(index) && !isNaN(index)) || (!isNullOrUndefined(value)))) {\n                    if (layer.tooltipSettings.format) {\n                        currentData = this.formatter(layer.tooltipSettings.format, templateData);\n                    }\n                    else {\n                        var shapePath = checkPropertyPath(layer.shapeDataPath, layer.shapePropertyPath, value);\n                        currentData = (!isNullOrUndefined(layer.dataSource) && !isNullOrUndefined(index)) ?\n                            formatValue(((option.valuePath.indexOf('.') > -1) ?\n                                (getValueFromObject(layer.dataSource[index], option.valuePath)) :\n                                layer.dataSource[index][option.valuePath]), this.maps) : value[shapePath];\n                        if (isNullOrUndefined(currentData)) {\n                            currentData = (option.valuePath.indexOf('.') > -1) ?\n                                (getValueFromObject(value, option.valuePath)) : value[option.valuePath];\n                        }\n                    }\n                }\n                //location.y = this.template(option, location);\n            }\n            else if (targetId.indexOf('_MarkerIndex_') > -1) {\n                var markerIdex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[0], 10);\n                var dataIndex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[2], 10);\n                var marker = layer.markerSettings[markerIdex];\n                option = marker.tooltipSettings;\n                templateData = marker.dataSource[dataIndex];\n                if (option.visible && !isNaN(markerIdex)) {\n                    if (marker.tooltipSettings.format) {\n                        currentData = this.formatter(marker.tooltipSettings.format, marker.dataSource[dataIndex]);\n                    }\n                    else {\n                        if (marker.template && !marker.tooltipSettings.valuePath) {\n                            currentData = marker.template.split('>')[1].split('<')[0];\n                        }\n                        else {\n                            currentData =\n                                formatValue(((marker.tooltipSettings.valuePath.indexOf('.') > -1) ?\n                                    (getValueFromObject(marker.dataSource[dataIndex], marker.tooltipSettings.valuePath)) :\n                                    marker.dataSource[dataIndex][marker.tooltipSettings.valuePath]), this.maps);\n                        }\n                    }\n                }\n                //location.y = this.template(option, location);\n            }\n            else if (targetId.indexOf('_BubbleIndex_') > -1) {\n                var bubbleIndex = parseInt(targetId.split('_BubbleIndex_')[1].split('_')[0], 10);\n                var dataIndex = parseInt(targetId.split('_BubbleIndex_')[1].split('_')[2], 10);\n                var bubble = layer.bubbleSettings[bubbleIndex];\n                option = bubble.tooltipSettings;\n                templateData = bubble.dataSource[dataIndex];\n                if (option.visible && !isNaN(dataIndex)) {\n                    if (bubble.tooltipSettings.format) {\n                        currentData = this.formatter(bubble.tooltipSettings.format, bubble.dataSource[dataIndex]);\n                    }\n                    else {\n                        currentData =\n                            formatValue(((bubble.tooltipSettings.valuePath.indexOf('.') > -1) ?\n                                (getValueFromObject(bubble.dataSource[dataIndex], bubble.tooltipSettings.valuePath)) :\n                                bubble.dataSource[dataIndex][bubble.tooltipSettings.valuePath]), this.maps);\n                    }\n                }\n                //location.y = this.template(option, location);\n            }\n            if (document.getElementById(this.tooltipId)) {\n                tooltipEle = document.getElementById(this.tooltipId);\n            }\n            else {\n                tooltipEle = createElement('div', {\n                    id: this.maps.element.id + '_mapsTooltip',\n                    className: 'EJ2-maps-Tooltip',\n                    styles: 'position: absolute;pointer-events:none;'\n                });\n                document.getElementById(this.maps.element.id + '_Secondary_Element').appendChild(tooltipEle);\n            }\n            if (option.template !== null && Object.keys(typeof option.template === 'object' ? option.template : {}).length === 1) {\n                option.template = option.template[Object.keys(option.template)[0]];\n            }\n            templateData = this.setTooltipContent(option, templateData);\n            var tooltipTextStyle = {\n                color: option.textStyle.color, fontFamily: option.textStyle.fontFamily, fontStyle: option.textStyle.fontStyle,\n                fontWeight: option.textStyle.fontWeight, opacity: option.textStyle.opacity, size: option.textStyle.size\n            };\n            var tooltipOption = {\n                location: location, text: tooltipContent, data: templateData,\n                textStyle: tooltipTextStyle,\n                template: option.template\n            };\n            tooltipArgs = {\n                cancel: false, name: tooltipRender,\n                options: tooltipOption,\n                fill: option.fill,\n                maps: this.maps,\n                element: target, eventArgs: e, content: !isNullOrUndefined(currentData) ? currentData.toString() : ''\n            };\n            this.maps.trigger(tooltipRender, tooltipArgs, function (args) {\n                if (!tooltipArgs.cancel && option.visible && !isNullOrUndefined(currentData) &&\n                    (targetId.indexOf('_cluster_') === -1 && targetId.indexOf('_dataLabel_') === -1)) {\n                    _this.maps['isProtectedOnChange'] = true;\n                    tooltipArgs.options['textStyle']['color'] = tooltipArgs.options['textStyle']['color']\n                        || _this.maps.themeStyle.tooltipFontColor;\n                    tooltipArgs.options['textStyle']['fontFamily'] = tooltipArgs.options['textStyle']['fontFamily']\n                        || _this.maps.themeStyle.fontFamily;\n                    tooltipArgs.options['textStyle']['opacity'] = tooltipArgs.options['textStyle']['opacity']\n                        || _this.maps.themeStyle.tooltipTextOpacity;\n                    if (tooltipArgs.cancel) {\n                        _this.svgTooltip = new Tooltip({\n                            enable: true,\n                            header: '',\n                            data: option['data'],\n                            template: option['template'],\n                            content: tooltipArgs.content.toString() != currentData.toString() ? [tooltipArgs.content.toString()] : [currentData.toString()],\n                            shapes: [],\n                            location: option['location'],\n                            palette: [markerFill],\n                            areaBounds: _this.maps.mapAreaRect,\n                            textStyle: option['textStyle'],\n                            availableSize: _this.maps.availableSize,\n                            fill: option.fill || _this.maps.themeStyle.tooltipFillColor\n                        });\n                    }\n                    else {\n                        _this.svgTooltip = new Tooltip({\n                            enable: true,\n                            header: '',\n                            data: tooltipArgs.options['data'],\n                            template: tooltipArgs.options['template'],\n                            content: tooltipArgs.content.toString() != currentData.toString() ? [tooltipArgs.content.toString()] : [currentData.toString()],\n                            shapes: [],\n                            location: tooltipArgs.options['location'],\n                            palette: [markerFill],\n                            areaBounds: _this.maps.mapAreaRect,\n                            textStyle: tooltipArgs.options['textStyle'],\n                            availableSize: _this.maps.availableSize,\n                            fill: tooltipArgs.fill || _this.maps.themeStyle.tooltipFillColor\n                        });\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    if (_this.maps.isVue || _this.maps.isVue3) {\n                        _this.svgTooltip.controlInstance = _this.maps;\n                    }\n                    _this.svgTooltip.opacity = _this.maps.themeStyle.tooltipFillOpacity || _this.svgTooltip.opacity;\n                    _this.svgTooltip.appendTo(tooltipEle);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    _this.maps.renderReactTemplates();\n                    tooltipTemplateElement = document.getElementById(_this.maps.element.id + '_mapsTooltip');\n                    if (tooltipTemplateElement !== null && tooltipTemplateElement.innerHTML.indexOf('href') !== -1\n                        && tooltipTemplateElement.innerHTML.indexOf('</a>') !== -1) {\n                        var templateStyle = tooltipTemplateElement.getAttribute('style');\n                        templateStyle = templateStyle.replace('pointer-events: none;', 'position-events:all;');\n                        tooltipTemplateElement.setAttribute('style', templateStyle);\n                    }\n                }\n                else {\n                    _this.clearTooltip();\n                }\n            });\n            if (this.svgTooltip) {\n                this.maps.trigger('tooltipRenderComplete', {\n                    cancel: false, name: 'tooltipRenderComplete', maps: this.maps, options: tooltipOption,\n                    element: this.svgTooltip.element\n                });\n            }\n            if (this.svgTooltip) {\n                this.maps.trigger('tooltipRenderComplete', {\n                    cancel: false, name: 'tooltipRenderComplete', maps: this.maps, options: tooltipOption, element: this.svgTooltip.element\n                });\n            }\n            else {\n                this.clearTooltip();\n            }\n        }\n        else {\n            tooltipTemplateElement = document.getElementById(this.maps.element.id + '_mapsTooltip');\n            if (tooltipTemplateElement !== null && tooltipTemplateElement.innerHTML.indexOf('href') !== -1\n                && tooltipTemplateElement.innerHTML.indexOf('</a>') !== -1) {\n                this.maps.notify(click, this);\n            }\n            else {\n                this.clearTooltip();\n            }\n        }\n    };\n    /**\n     * To get content for the current toolitp\n     *\n     * @param {TooltipSettingsModel} options - Specifies the options for rendering tooltip\n     * @param {any} templateData - Specifies the template data\n     * @returns {any} - Returns the local data\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MapsTooltip.prototype.setTooltipContent = function (options, templateData) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var localData = extend({}, templateData, null, true);\n        if (this.maps.format && !isNaN(Number(localData[options.valuePath]))) {\n            localData[options.valuePath] = Internalize(this.maps, Number(localData[options.valuePath]));\n        }\n        else {\n            localData = Object.keys(localData).length ? localData : undefined;\n        }\n        return localData;\n    };\n    /*private template(tooltip: TooltipSettingsModel, location: MapLocation): number {\n        location.y = (tooltip.template) ? location.y + 10 : location.y;\n        return location.y;\n    }*/\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MapsTooltip.prototype.formatter = function (format, data) {\n        if (data === void 0) { data = {}; }\n        var keys = Object.keys(data);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            format = (typeof data[key] === 'object') ? convertStringToValue('', format, data, this.maps) :\n                format.split('${' + key + '}').join(formatValue(data[key], this.maps));\n        }\n        return format;\n    };\n    MapsTooltip.prototype.mouseUpHandler = function (e) {\n        this.renderTooltip(e);\n        if (this.maps.tooltipDisplayMode === 'MouseMove') {\n            clearTimeout(this.clearTimeout);\n            this.clearTimeout = setTimeout(this.removeTooltip.bind(this), 2000);\n        }\n    };\n    MapsTooltip.prototype.removeTooltip = function () {\n        var isTooltipRemoved = false;\n        if (document.getElementsByClassName('EJ2-maps-Tooltip').length > 0) {\n            remove(document.getElementsByClassName('EJ2-maps-Tooltip')[0]);\n            isTooltipRemoved = true;\n        }\n        return isTooltipRemoved;\n    };\n    MapsTooltip.prototype.clearTooltip = function () {\n        var isTooltipRemoved = this.removeTooltip();\n        if (isTooltipRemoved) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.maps.clearTemplate();\n        }\n    };\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * To bind events for tooltip module\n     */\n    MapsTooltip.prototype.addEventListener = function () {\n        if (this.maps.isDestroyed) {\n            return;\n        }\n        if (this.maps.tooltipDisplayMode === 'DoubleClick') {\n            this.maps.on('dblclick', this.renderTooltip, this);\n        }\n        else if (this.maps.tooltipDisplayMode === 'Click') {\n            this.maps.on(Browser.touchEndEvent, this.mouseUpHandler, this);\n        }\n        else {\n            this.maps.on(Browser.touchMoveEvent, this.renderTooltip, this);\n        }\n        this.maps.element.addEventListener('contextmenu', this.removeTooltip);\n        this.maps.on(Browser.touchCancelEvent, this.removeTooltip, this);\n    };\n    MapsTooltip.prototype.removeEventListener = function () {\n        if (this.maps.isDestroyed) {\n            return;\n        }\n        if (this.maps.tooltipDisplayMode === 'DoubleClick') {\n            this.maps.off('dblclick', this.removeTooltip);\n        }\n        else if (this.maps.tooltipDisplayMode === 'Click') {\n            this.maps.off(Browser.touchEndEvent, this.mouseUpHandler);\n        }\n        else {\n            this.maps.off(Browser.touchMoveEvent, this.renderTooltip);\n        }\n        this.maps.off(Browser.touchCancelEvent, this.removeTooltip);\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} Returns the module name\n     */\n    MapsTooltip.prototype.getModuleName = function () {\n        return 'MapsTooltip';\n    };\n    /**\n     * To destroy the tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    MapsTooltip.prototype.destroy = function () {\n        if (!isNullOrUndefined(this.svgTooltip)) {\n            this.svgTooltip.destroy();\n        }\n        this.svgTooltip = null;\n        this.removeEventListener();\n        //TODO: Calling the below code throws spec issue.\n        //this.maps = null;\n    };\n    return MapsTooltip;\n}());\nexport { MapsTooltip };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}