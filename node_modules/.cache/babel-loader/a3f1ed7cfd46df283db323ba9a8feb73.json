{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable max-len */\n/**\n * Helper functions for maps control\n */\nimport { createElement, isNullOrUndefined, remove, compile as templateComplier, merge } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { itemSelection } from '../../index';\nimport { animationComplete } from '../index';\nimport { markerClusterRendering } from '../index';\n/**\n * Maps internal use of `Size` type\n */\nvar Size = /** @class */function () {\n  function Size(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n  return Size;\n}();\nexport { Size };\n/**\n * To find number from string\n *\n * @param {string} value Specifies the value\n * @param {number} containerSize Specifies the container size\n * @returns {number} Returns the number\n * @private\n */\nexport function stringToNumber(value, containerSize) {\n  if (value !== null && value !== undefined) {\n    return value.indexOf('%') !== -1 ? containerSize / 100 * parseInt(value, 10) : parseInt(value, 10);\n  }\n  return null;\n}\n/**\n * Method to calculate the width and height of the maps\n *\n * @param {Maps} maps Specifies the maps instance\n * @returns {void}\n */\nexport function calculateSize(maps) {\n  maps.element.style.height = !isNullOrUndefined(maps.height) ? maps.height : 'auto';\n  maps.element.style.width = !isNullOrUndefined(maps.width) ? maps.width : 'auto';\n  var containerWidth = maps.element.clientWidth;\n  var containerHeight = maps.element.clientHeight;\n  var containerElementWidth = stringToNumber(maps.element.style.width, containerWidth);\n  var containerElementHeight = stringToNumber(maps.element.style.height, containerHeight);\n  var availableSize = new Size(0, 0);\n  if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n    availableSize = new Size(0, 0);\n  } else {\n    availableSize = new Size(stringToNumber(maps.width, containerWidth) || containerWidth || containerElementWidth || 600, stringToNumber(maps.height, containerHeight) || containerHeight || containerElementHeight || (maps.isDevice ? Math.min(window.innerWidth, window.innerHeight) : 450));\n  }\n  return availableSize;\n}\n/**\n * Method to create svg for maps.\n *\n * @param {Maps} maps Specifies the map instance\n * @returns {void}\n */\nexport function createSvg(maps) {\n  maps.renderer = new SvgRenderer(maps.element.id);\n  maps.availableSize = calculateSize(maps);\n  maps.svgObject = maps.renderer.createSvg({\n    id: maps.element.id + '_svg',\n    width: maps.availableSize.width,\n    height: maps.availableSize.height\n  });\n  if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n    maps.svgObject.setAttribute('height', '0');\n    maps.svgObject.setAttribute('width', '0');\n  }\n}\n/**\n * Method to get the mouse position\n *\n * @param {number} pageX - Specifies the pageX.\n * @param {number} pageY - Specifies the pageY.\n * @param {Element} element - Specifies the element.\n * @returns {MapLocation} - Returns the location.\n */\nexport function getMousePosition(pageX, pageY, element) {\n  var elementRect = element.getBoundingClientRect();\n  var pageXOffset = element.ownerDocument.defaultView.pageXOffset;\n  var pageYOffset = element.ownerDocument.defaultView.pageYOffset;\n  var clientTop = element.ownerDocument.documentElement.clientTop;\n  var clientLeft = element.ownerDocument.documentElement.clientLeft;\n  var positionX = elementRect.left + pageXOffset - clientLeft;\n  var positionY = elementRect.top + pageYOffset - clientTop;\n  return new MapLocation(pageX - positionX, pageY - positionY);\n}\n/**\n * Method to convert degrees to radians\n *\n * @param {number} deg Specifies the degree value\n * @returns {number} Returns the number\n */\nexport function degreesToRadians(deg) {\n  return deg * (Math.PI / 180);\n}\n/**\n * Convert radians to degrees method\n *\n * @param {number} radian Specifies the radian value\n * @returns {number} Returns the number\n */\nexport function radiansToDegrees(radian) {\n  return radian * (180 / Math.PI);\n}\n/**\n * Method for converting from latitude and longitude values to points\n *\n * @param {number} latitude - Specifies the latitude.\n * @param {number} longitude - Specifies the longitude.\n * @param {number} factor - Specifies the factor.\n * @param {LayerSettings} layer - Specifies the layer settings.\n * @param {Maps} mapModel - Specifies the maps.\n * @returns {Point} - Returns the point values.\n */\nexport function convertGeoToPoint(latitude, longitude, factor, layer, mapModel) {\n  var mapSize = new Size(mapModel.mapAreaRect.width, mapModel.mapAreaRect.height);\n  var x;\n  var y;\n  var value;\n  var lat;\n  var lng;\n  var temp;\n  var longitudeMinMax = mapModel.baseMapBounds.longitude;\n  var latitudeMinMax = mapModel.baseMapBounds.latitude;\n  var latRadian = degreesToRadians(latitude);\n  var lngRadian = degreesToRadians(longitude);\n  var type = mapModel.projectionType;\n  var size = mapModel.isTileMap ? Math.pow(2, 1) * 256 : isNullOrUndefined(factor) ? Math.min(mapSize.width, mapSize.height) : Math.min(mapSize.width, mapSize.height) * factor;\n  if (layer.geometryType === 'Normal') {\n    x = isNullOrUndefined(factor) ? longitude : Math.abs((longitude - longitudeMinMax.min) * factor);\n    y = isNullOrUndefined(factor) ? latitude : Math.abs((latitudeMinMax.max - latitude) * factor);\n  } else if (layer.geometryType === 'Geographic') {\n    switch (type) {\n      case 'Mercator':\n        {\n          var pixelOrigin = new Point(size / 2, size / 2);\n          x = pixelOrigin.x + longitude * (size / 360);\n          var sinY = calculateBound(Math.sin(degreesToRadians(latitude)), -0.9999, 0.9999);\n          y = pixelOrigin.y + 0.5 * Math.log((1 + sinY) / (1 - sinY)) * -(size / (2 * Math.PI));\n          break;\n        }\n      case 'Winkel3':\n        value = aitoff(lngRadian, latRadian);\n        lng = (value.x + lngRadian / (Math.PI / 2)) / 2;\n        lat = (value.y + latRadian) / 2;\n        break;\n      case 'Miller':\n        lng = lngRadian;\n        lat = 1.25 * Math.log(Math.tan(Math.PI / 4 + .4 * latRadian));\n        break;\n      case 'Eckert3':\n        temp = Math.sqrt(Math.PI * (4 + Math.PI));\n        lng = 2 / temp * lngRadian * (1 + Math.sqrt(1 - 4 * latRadian * latRadian / (Math.PI * Math.PI)));\n        lat = 4 / temp * latRadian;\n        break;\n      case 'AitOff':\n        value = aitoff(lngRadian, latRadian);\n        lng = value.x;\n        lat = value.y;\n        break;\n      case 'Eckert5':\n        lng = lngRadian * (1 + Math.cos(latRadian)) / Math.sqrt(2 + Math.PI);\n        lat = 2 * latRadian / Math.sqrt(2 + Math.PI);\n        break;\n      case 'Equirectangular':\n        lng = lngRadian;\n        lat = latRadian;\n        break;\n      case 'Eckert6':\n        {\n          var epsilon = 1e-6;\n          temp = (1 + Math.PI / 2) * Math.sin(latRadian);\n          var delta = Infinity;\n          for (var i = 0; i < 10 && Math.abs(delta) > epsilon; i++) {\n            delta = (latRadian + Math.sin(latRadian) - temp) / (1 + Math.cos(latRadian));\n            latRadian = latRadian - delta;\n          }\n          temp = Math.sqrt(2 + Math.PI);\n          lng = lngRadian * (1 + Math.cos(latRadian)) / temp;\n          lat = 2 * latRadian / temp;\n          break;\n        }\n    }\n    x = type === 'Mercator' ? x : roundTo(xToCoordinate(mapModel, radiansToDegrees(lng)), 3);\n    y = type === 'Mercator' ? y : -roundTo(yToCoordinate(mapModel, radiansToDegrees(lat)), 3);\n  }\n  return new Point(x, y);\n}\n/**\n * Converting tile latitude and longitude to point\n *\n * @param {MapLocation} center Specifies the map center location\n * @param {number} zoomLevel Specifies the zoom level\n * @param {MapLocation} tileTranslatePoint Specifies the tile translate point\n * @param {boolean} isMapCoordinates Specifies the boolean value\n * @returns {MapLocation} Returns the location value\n */\nexport function convertTileLatLongToPoint(center, zoomLevel, tileTranslatePoint, isMapCoordinates) {\n  var size = Math.pow(2, zoomLevel) * 256;\n  var x = (center.x + 180) / 360;\n  var sinLatitude = Math.sin(center.y * Math.PI / 180);\n  var y = 0.5 - Math.log((1 + sinLatitude) / (1 - sinLatitude)) / (4 * Math.PI);\n  var pixelX = center.x;\n  var pixelY = center.y;\n  if (isMapCoordinates) {\n    pixelX = x * size + 0.5 + tileTranslatePoint.x;\n    pixelY = y * size + 0.5 + tileTranslatePoint.y;\n  }\n  return {\n    x: pixelX,\n    y: pixelY\n  };\n}\n/**\n * Method for calculate x point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function xToCoordinate(mapObject, val) {\n  var longitudeMinMax = mapObject.baseMapBounds.longitude;\n  var totalSize = isNullOrUndefined(mapObject.baseSize) ? mapObject.mapAreaRect.width : mapObject.mapAreaRect.width + Math.abs(mapObject.baseSize.width - mapObject.mapAreaRect.width) / 2;\n  return Math.round(totalSize * (val - longitudeMinMax.min) / (longitudeMinMax.max - longitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate y point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function yToCoordinate(mapObject, val) {\n  var latitudeMinMax = mapObject.baseMapBounds.latitude;\n  return Math.round(mapObject.mapAreaRect.height * (val - latitudeMinMax.min) / (latitudeMinMax.max - latitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate aitoff projection\n *\n * @param {number} x - Specifies the x value.\n * @param {number} y - Specifies the y value.\n * @returns {Point} - Returns the point value.\n */\nexport function aitoff(x, y) {\n  var cosy = Math.cos(y);\n  var sincia = sinci(acos(cosy * Math.cos(x /= 2)));\n  return new Point(2 * cosy * Math.sin(x) * sincia, Math.sin(y) * sincia);\n}\n/**\n * Method to round the number\n *\n * @param {number} a - Specifies the a value\n * @param {number} b - Specifies the b value\n * @returns {number} - Returns the number\n */\nexport function roundTo(a, b) {\n  var c = Math.pow(10, b);\n  return Math.round(a * c) / c;\n}\n/**\n *\n * @param {number} x - Specifies the x value\n * @returns {number} - Returns the number\n */\nexport function sinci(x) {\n  return x / Math.sin(x);\n}\n/**\n *\n * @param {number} a - Specifies the a value\n * @returns {number} - Returns the number\n */\nexport function acos(a) {\n  return Math.acos(a);\n}\n/**\n * Method to calculate bound\n *\n * @param {number} value Specifies the value\n * @param {number} min Specifies the minimum value\n * @param {number} max Specifies the maximum value\n * @returns {number} Returns the value\n */\nexport function calculateBound(value, min, max) {\n  if (!isNullOrUndefined(min)) {\n    value = Math.max(value, min);\n  }\n  if (!isNullOrUndefined(max)) {\n    value = Math.min(value, max);\n  }\n  return value;\n}\n/**\n * To trigger the download element\n *\n * @param {string} fileName Specifies the file name\n * @param {ExportType} type Specifies the type\n * @param {string} url Specifies the url\n * @param {boolean} isDownload Specifies whether download a file.\n * @returns {void}\n */\nexport function triggerDownload(fileName, type, url, isDownload) {\n  createElement('a', {\n    attrs: {\n      'download': fileName + '.' + type.toLocaleLowerCase(),\n      'href': url\n    }\n  }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n    view: window,\n    bubbles: false,\n    cancelable: true\n  }));\n}\n/**\n * Map internal class for point\n */\nvar Point = /** @class */function () {\n  function Point(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  return Point;\n}();\nexport { Point };\n/**\n * Map internal class for min and max\n *\n */\nvar MinMax = /** @class */function () {\n  function MinMax(min, max) {\n    this.min = min;\n    this.max = max;\n  }\n  return MinMax;\n}();\nexport { MinMax };\n/**\n * Map internal class locations\n */\nvar GeoLocation = /** @class */function () {\n  function GeoLocation(latitude, longitude) {\n    this.latitude = new MinMax(latitude.min, latitude.max);\n    this.longitude = new MinMax(longitude.min, longitude.max);\n  }\n  return GeoLocation;\n}();\nexport { GeoLocation };\n/**\n * Function to measure the height and width of the text.\n *\n * @param  {string} text Specifies the text\n * @param  {FontModel} font Specifies the font\n * @returns {Size} Returns the size\n * @private\n */\nexport function measureText(text, font) {\n  var measureObject = document.getElementById('mapsmeasuretext');\n  if (measureObject === null) {\n    measureObject = createElement('text', {\n      id: 'mapsmeasuretext'\n    });\n    document.body.appendChild(measureObject);\n  }\n  measureObject.innerHTML = text;\n  measureObject.style.position = 'absolute';\n  if (typeof font.size === 'number') {\n    measureObject.style.fontSize = font.size + 'px';\n  } else {\n    measureObject.style.fontSize = font.size;\n  }\n  measureObject.style.fontWeight = font.fontWeight;\n  measureObject.style.fontStyle = font.fontStyle;\n  measureObject.style.fontFamily = font.fontFamily;\n  measureObject.style.visibility = 'hidden';\n  measureObject.style.top = '-100';\n  measureObject.style.left = '0';\n  measureObject.style.whiteSpace = 'nowrap';\n  // For bootstrap line height issue\n  measureObject.style.lineHeight = 'normal';\n  return new Size(measureObject.clientWidth, measureObject.clientHeight);\n}\n/**\n * Internal use of text options\n *\n * @private\n */\nvar TextOption = /** @class */function () {\n  function TextOption(id, x, y, anchor, text, transform, baseLine) {\n    if (transform === void 0) {\n      transform = '';\n    }\n    this.transform = '';\n    this.baseLine = 'auto';\n    this.id = id;\n    this.text = text;\n    this.transform = transform;\n    this.anchor = anchor;\n    this.x = x;\n    this.y = y;\n    this.baseLine = baseLine;\n  }\n  return TextOption;\n}();\nexport { TextOption };\n/**\n * Internal use of path options\n *\n * @private\n */\nvar PathOption = /** @class */function () {\n  function PathOption(id, fill, width, color, fillOpacity, strokeOpacity, dashArray, d) {\n    this.id = id;\n    this['fill-opacity'] = fillOpacity;\n    this['stroke-opacity'] = strokeOpacity;\n    this.fill = fill;\n    this.stroke = color;\n    this['stroke-width'] = width;\n    this['stroke-dasharray'] = dashArray;\n    this.d = d;\n  }\n  return PathOption;\n}();\nexport { PathOption };\n/** @private */\nvar ColorValue = /** @class */function () {\n  function ColorValue(r, g, b) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n  return ColorValue;\n}();\nexport { ColorValue };\n/**\n * Internal use of rectangle options\n *\n * @private\n */\nvar RectOption = /** @class */function (_super) {\n  __extends(RectOption, _super);\n  function RectOption(id, fill, border, fillOpacity, rect, rx, ry, transform, dashArray) {\n    var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity) || this;\n    _this.y = rect.y;\n    _this.x = rect.x;\n    _this.height = rect.height;\n    _this.width = rect.width;\n    _this.rx = rx ? rx : 0;\n    _this.ry = ry ? ry : 0;\n    _this.transform = transform ? transform : '';\n    _this['stroke-dasharray'] = dashArray;\n    _this['fill-opacity'] = fillOpacity;\n    _this['stroke-opacity'] = border.opacity;\n    return _this;\n  }\n  return RectOption;\n}(PathOption);\nexport { RectOption };\n/**\n * Internal use of circle options\n *\n * @private\n */\nvar CircleOption = /** @class */function (_super) {\n  __extends(CircleOption, _super);\n  function CircleOption(id, fill, border, fillOpacity, cx, cy, r, dashArray) {\n    var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity, dashArray) || this;\n    _this.cy = cy;\n    _this.cx = cx;\n    _this.r = r;\n    _this['stroke-dasharray'] = dashArray;\n    _this['fill-opacity'] = fillOpacity;\n    _this['stroke-opacity'] = border.opacity;\n    return _this;\n  }\n  return CircleOption;\n}(PathOption);\nexport { CircleOption };\n/**\n * Internal use of polygon options\n *\n * @private\n */\nvar PolygonOption = /** @class */function (_super) {\n  __extends(PolygonOption, _super);\n  function PolygonOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n    var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n    _this.points = points;\n    return _this;\n  }\n  return PolygonOption;\n}(PathOption);\nexport { PolygonOption };\n/**\n * Internal use of polyline options\n *\n * @private\n */\nvar PolylineOption = /** @class */function (_super) {\n  __extends(PolylineOption, _super);\n  function PolylineOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n    return _super.call(this, id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n  }\n  return PolylineOption;\n}(PolygonOption);\nexport { PolylineOption };\n/**\n * Internal use of line options\n *\n * @private\n */\nvar LineOption = /** @class */function (_super) {\n  __extends(LineOption, _super);\n  function LineOption(id, line, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n    if (fillOpacity === void 0) {\n      fillOpacity = 1;\n    }\n    if (strokeOpacity === void 0) {\n      strokeOpacity = 1;\n    }\n    if (dashArray === void 0) {\n      dashArray = '';\n    }\n    var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n    _this.x1 = line.x1;\n    _this.y1 = line.y1;\n    _this.x2 = line.x2;\n    _this.y2 = line.y2;\n    return _this;\n  }\n  return LineOption;\n}(PathOption);\nexport { LineOption };\n/**\n * Internal use of line\n *\n * @property {number} Line - Specifies the line class\n */\nvar Line = /** @class */function () {\n  function Line(x1, y1, x2, y2) {\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n  return Line;\n}();\nexport { Line };\n/**\n * Internal use of map location type\n *\n */\nvar MapLocation = /** @class */function () {\n  function MapLocation(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  return MapLocation;\n}();\nexport { MapLocation };\n/**\n * Internal use of type rect\n *\n * @private\n */\nvar Rect = /** @class */function () {\n  function Rect(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n  return Rect;\n}();\nexport { Rect };\n/**\n * Internal use for pattern creation.\n *\n * @property {PatternOptions} PatternOptions - Specifies the pattern option class.\n */\nvar PatternOptions = /** @class */function () {\n  function PatternOptions(id, x, y, width, height, patternUnits, patternContentUnits, patternTransform, href) {\n    if (patternUnits === void 0) {\n      patternUnits = 'userSpaceOnUse';\n    }\n    if (patternContentUnits === void 0) {\n      patternContentUnits = 'userSpaceOnUse';\n    }\n    if (patternTransform === void 0) {\n      patternTransform = '';\n    }\n    if (href === void 0) {\n      href = '';\n    }\n    this.id = id;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.patternUnits = patternUnits;\n    this.patternContentUnits = patternContentUnits;\n    this.patternTransform = patternTransform;\n    this.href = href;\n  }\n  return PatternOptions;\n}();\nexport { PatternOptions };\n/**\n * Internal rendering of text\n *\n * @param {TextOption} option Specifies the text option\n * @param {FontModel} style Specifies the style\n * @param {string} color Specifies the color\n * @param {HTMLElement | Element} parent Specifies the parent element\n * @param {boolean} isMinus Specifies the boolean value\n * @returns {Element} Returns the html object\n * @private\n */\nexport function renderTextElement(option, style, color, parent, isMinus) {\n  if (isMinus === void 0) {\n    isMinus = false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var renderOptions = {\n    'id': option.id,\n    'x': option.x,\n    'y': option.y,\n    'fill': color,\n    'font-size': style.size,\n    'font-style': style.fontStyle,\n    'font-family': style.fontFamily,\n    'font-weight': style.fontWeight,\n    'text-anchor': option.anchor,\n    'transform': option.transform,\n    'opacity': style.opacity,\n    'dominant-baseline': option.baseLine\n  };\n  var text = typeof option.text === 'string' || typeof option.text === 'number' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\n  var tspanElement;\n  var renderer = new SvgRenderer('');\n  var height;\n  var htmlObject = renderer.createText(renderOptions, text);\n  htmlObject.style['user-select'] = 'none';\n  htmlObject.style['font-family'] = style.fontFamily;\n  htmlObject.style['font-size'] = style.size;\n  htmlObject.style['font-weight'] = style.fontWeight;\n  htmlObject.style['font-color'] = style.color;\n  htmlObject.style['-moz-user-select'] = 'none';\n  htmlObject.style['-webkit-touch-callout'] = 'none';\n  htmlObject.style['-webkit-user-select'] = 'none';\n  htmlObject.style['-khtml-user-select'] = 'none';\n  htmlObject.style['-ms-user-select'] = 'none';\n  htmlObject.style['-o-user-select'] = 'none';\n  if (typeof option.text !== 'string' && option.text.length > 1) {\n    for (var i = 1, len = option.text.length; i < len; i++) {\n      height = measureText(option.text[i], style).height;\n      tspanElement = renderer.createTSpan({\n        'x': option.x,\n        'id': option.id,\n        'y': option.y + (isMinus ? -(i * height) : i * height)\n      }, isMinus ? option.text[option.text.length - (i + 1)] : option.text[i]);\n      htmlObject.appendChild(tspanElement);\n    }\n  }\n  parent.appendChild(htmlObject);\n  return htmlObject;\n}\n/**\n * @param {HTMLCollection} element Specifies the html collection\n * @param {string} markerId Specifies the marker id\n * @param {any} data Specifies the data\n * @param {number} index Specifies the index\n * @param {Maps} mapObj Specifies the map object\n * @returns {HTMLCollection} Returns the html collection\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElement(element, markerId, data, index, mapObj) {\n  var childElement = createElement('div', {\n    id: markerId,\n    styles: 'position: absolute;pointer-events: auto;'\n  });\n  var elementLength = element.length;\n  while (elementLength > 0) {\n    childElement.appendChild(element[0]);\n    elementLength--;\n  }\n  var templateHtml = childElement.innerHTML;\n  var templateSplitValue;\n  var properties = Object.keys(data);\n  for (var i = 0; i < properties.length; i++) {\n    if (typeof data[properties[i]] === 'object') {\n      templateHtml = convertStringToValue(templateHtml, '', data, mapObj);\n      // eslint-disable-next-line @typescript-eslint/ban-types\n    } else if (properties[i].toLowerCase() !== 'latitude' && properties[i].toLowerCase() !== 'longitude') {\n      templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n    }\n  }\n  childElement.innerHTML = templateHtml;\n  return childElement;\n}\n/**\n *\n * @param {string} value - Specifies the value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\nexport function formatValue(value, maps) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var formatValue;\n  var formatFunction;\n  if (maps.format && !isNaN(Number(value))) {\n    formatFunction = maps.intl.getNumberFormat({\n      format: maps.format,\n      useGrouping: maps.useGroupingSeparator\n    });\n    formatValue = formatFunction(Number(value));\n  } else {\n    formatValue = value;\n  }\n  return formatValue;\n}\n/**\n *\n * @param {string} stringTemplate - Specifies the template\n * @param {string} format - Specifies the format\n * @param {any} data - Specifies the data\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertStringToValue(stringTemplate, format, data, maps) {\n  var templateHtml = stringTemplate === '' ? format : stringTemplate;\n  var templateValue = stringTemplate === '' ? templateHtml.split('${') : templateHtml.split('{{:');\n  for (var i = 0; i < templateValue.length; i++) {\n    if (templateValue[i].indexOf('}}') > -1 && templateValue[i].indexOf('.') > -1 || templateValue[i].indexOf('}') > -1 && templateValue[i].search('.') > -1) {\n      var split = stringTemplate === '' ? templateValue[i].split('}') : templateValue[i].split('}}');\n      for (var j = 0; j < split.length; j++) {\n        if (split[j].indexOf('.') > -1) {\n          var templateSplitValue = getValueFromObject(data, split[j]).toString();\n          templateHtml = stringTemplate === '' ? templateHtml.split('${' + split[j] + '}').join(formatValue(templateSplitValue, maps)) : templateHtml.replace(new RegExp('{{:' + split[j] + '}}', 'g'), templateSplitValue);\n        }\n      }\n    }\n  }\n  return templateHtml;\n}\n/**\n *\n * @param {Element} element - Specifies the element\n * @param {string} labelId - Specifies the label id\n * @param {any} data - Specifies the data\n * @param {number} index - Specifies the index\n * @param {Maps} mapObj - Specifies the map object\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElementFromLabel(element, labelId, data, index, mapObj) {\n  var labelEle = isNullOrUndefined(element.childElementCount) ? element[0] : element;\n  var templateHtml = labelEle.outerHTML;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var properties = Object.keys(data);\n  for (var i = 0; i < properties.length; i++) {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n  }\n  return createElement('div', {\n    id: labelId,\n    innerHTML: templateHtml,\n    styles: 'position: absolute'\n  });\n}\n/**\n *\n * @param {MarkerType} shape - Specifies the shape\n * @param {string} imageUrl - Specifies the image url\n * @param {Point} location - Specifies the location\n * @param {string} markerID - Specifies the marker id\n * @param {any} shapeCustom - Specifies the shape custom\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function drawSymbols(shape, imageUrl, location, markerID, shapeCustom, markerCollection, maps) {\n  var markerEle;\n  var x;\n  var y;\n  var size = shapeCustom['size'];\n  var borderColor = shapeCustom['borderColor'];\n  var borderWidth = parseFloat(shapeCustom['borderWidth']);\n  var borderOpacity = parseFloat(shapeCustom['borderOpacity']);\n  var fill = shapeCustom['fill'];\n  var dashArray = shapeCustom['dashArray'];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var border = {\n    color: borderColor,\n    width: borderWidth,\n    opacity: borderOpacity\n  };\n  var opacity = shapeCustom['opacity'];\n  var padding = 5;\n  var rectOptions;\n  var pathOptions = new PathOption(markerID, fill, borderWidth, borderColor, opacity, borderOpacity, dashArray, '');\n  size.width = typeof size.width === 'string' ? parseInt(size.width, 10) : size.width;\n  size.height = typeof size.height === 'string' ? parseInt(size.height, 10) : size.height;\n  if (shape === 'Circle') {\n    var radius = (size.width + size.height) / 4;\n    var circleOptions = new CircleOption(markerID, fill, border, opacity, location.x, location.y, radius, dashArray);\n    markerEle = maps.renderer.drawCircle(circleOptions);\n  } else if (shape === 'Rectangle') {\n    x = location.x - size.width / 2;\n    y = location.y - size.height / 2;\n    rectOptions = new RectOption(markerID, fill, border, opacity, new Rect(x, y, size.width, size.height), null, null, '', dashArray);\n    markerEle = maps.renderer.drawRectangle(rectOptions);\n  } else if (shape === 'Image') {\n    x = location.x - size.width / 2;\n    y = location.y - size.height;\n    merge(pathOptions, {\n      'href': imageUrl,\n      'height': size.height,\n      'width': size.width,\n      x: x,\n      y: y\n    });\n    markerEle = maps.renderer.drawImage(pathOptions);\n  } else {\n    markerEle = calculateShapes(maps, shape, pathOptions, size, location, markerCollection);\n  }\n  return markerEle;\n}\n/**\n *\n * @param {any} data - Specifies the data\n * @param {string} value - Specifies the value\n * @returns {any} - Returns the data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getValueFromObject(data, value) {\n  if (!isNullOrUndefined(data) && !isNullOrUndefined(value)) {\n    var splits = value.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n    if (splits.length === 1) {\n      data = data[splits[0]];\n    } else {\n      for (var i = 0; i < splits.length && !isNullOrUndefined(data); i++) {\n        data = data[splits[i]];\n      }\n    }\n  }\n  return data;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerColorChoose(eventArgs, data) {\n  var color = !isNullOrUndefined(eventArgs.colorValuePath) ? eventArgs.colorValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.colorValuePath).toString() : data[eventArgs.colorValuePath] : data[eventArgs.colorValuePath];\n  eventArgs.fill = !isNullOrUndefined(eventArgs.colorValuePath) && !isNullOrUndefined(color) ? eventArgs.colorValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.colorValuePath).toString() : data[eventArgs.colorValuePath] : eventArgs.fill;\n  return eventArgs;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerShapeChoose(eventArgs, data) {\n  if (!isNullOrUndefined(eventArgs.shapeValuePath) && !isNullOrUndefined(data[eventArgs.shapeValuePath])) {\n    var shape = eventArgs.shapeValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : data[eventArgs.shapeValuePath];\n    eventArgs.shape = shape.toString() !== \"\" ? shape : eventArgs.shape;\n    if (data[eventArgs.shapeValuePath] === 'Image') {\n      eventArgs.imageUrl = !isNullOrUndefined(eventArgs.imageUrlValuePath) ? eventArgs.imageUrlValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : !isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ? data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl : eventArgs.imageUrl;\n    }\n  } else {\n    var shapes = !isNullOrUndefined(eventArgs.shapeValuePath) ? eventArgs.shapeValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : eventArgs.shape : eventArgs.shape;\n    eventArgs.shape = shapes.toString() !== \"\" ? shapes : eventArgs.shape;\n    var shapeImage = !isNullOrUndefined(eventArgs.imageUrlValuePath) ? eventArgs.imageUrlValuePath.indexOf('.') > -1 ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : !isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ? data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl : eventArgs.imageUrl;\n    eventArgs.imageUrl = shapeImage;\n  }\n  return eventArgs;\n}\n/**\n *\n * @param {LayerSettings} currentLayer - Specifies the current layer\n * @param {HTMLElement | Element} markerTemplate - Specifies the marker template\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} layerIndex - Specifies the layer index\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Element} layerElement - Specifies the layer element\n * @param {boolean} check - Specifies the boolean value\n * @param {boolean} zoomCheck - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterTemplate(currentLayer, markerTemplate, maps, layerIndex, markerCollection, layerElement, check, zoomCheck) {\n  var bounds1;\n  var bounds2;\n  var colloideBounds = [];\n  var clusterColloideBounds = [];\n  var tempX = 0;\n  var tempY = 0;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var data;\n  var style = currentLayer.markerClusterSettings.labelStyle;\n  var options;\n  var textElement;\n  var tempElement1;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shapeCustom;\n  var tempElement;\n  var postionY = 15 / 4;\n  var m = 0;\n  var indexCollection = [];\n  var clusters = currentLayer.markerClusterSettings;\n  var clusterGroup = maps.renderer.createGroup({\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster'\n  });\n  var eventArg = {\n    cancel: false,\n    name: markerClusterRendering,\n    fill: clusters.fill,\n    height: clusters.height,\n    width: clusters.width,\n    imageUrl: clusters.imageUrl,\n    shape: clusters.shape,\n    data: data,\n    maps: maps,\n    cluster: clusters,\n    border: clusters.border\n  };\n  maps.trigger('markerClusterRendering', eventArg, function (clusterargs) {\n    for (var o = 0; o < markerTemplate.childElementCount; o++) {\n      indexCollection = [];\n      if (markerTemplate.childNodes[o]['style']['visibility'] !== 'hidden') {\n        tempElement = markerTemplate.childNodes[o];\n        bounds1 = tempElement.getBoundingClientRect();\n        indexCollection.push(o);\n        if (!isNullOrUndefined(bounds1)) {\n          for (var p = o + 1; p < markerTemplate.childElementCount; p++) {\n            if (markerTemplate.childNodes[p]['style']['visibility'] !== 'hidden') {\n              tempElement = markerTemplate.childNodes[p];\n              bounds2 = tempElement.getBoundingClientRect();\n              if (!isNullOrUndefined(bounds2)) {\n                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                  colloideBounds.push(bounds2);\n                  markerTemplate.childNodes[p]['style']['visibility'] = 'hidden';\n                  indexCollection.push(p);\n                }\n              }\n            }\n          }\n          tempX = bounds1.left + bounds1.width / 2;\n          tempY = bounds1.top + bounds1.height;\n          if (colloideBounds.length > 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            indexCollection = indexCollection.filter(function (item, index, value) {\n              return value.indexOf(item) === index;\n            });\n            var container = maps.element.getBoundingClientRect();\n            tempX = tempX - container['left'];\n            tempY = tempY - (maps.availableSize.height <= container['height'] ? container['top'] : container['bottom'] - container['top']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var translate = maps.isTileMap ? new Object() : getTranslate(maps, currentLayer, false);\n            var transPoint = maps.isTileMap ? {\n              x: 0,\n              y: 0\n            } : maps.translatePoint.x !== 0 ? maps.translatePoint : translate['location'];\n            var dataIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_dataIndex_')[1].split('_')[0], 10);\n            var markerIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_MarkerIndex_')[1].split('_')[0], 10);\n            var markerSetting = currentLayer.markerSettings[markerIndex];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var markerData = markerSetting.dataSource[dataIndex];\n            var factor = void 0;\n            var location_1 = void 0;\n            var longitude = !isNullOrUndefined(markerSetting.longitudeValuePath) ? Number(getValueFromObject(markerData, markerSetting.longitudeValuePath)) : !isNullOrUndefined(markerData['longitude']) ? parseFloat(markerData['longitude']) : !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n            var latitude = !isNullOrUndefined(markerSetting.latitudeValuePath) ? Number(getValueFromObject(markerData, markerSetting.latitudeValuePath)) : !isNullOrUndefined(markerData['latitude']) ? parseFloat(markerData['latitude']) : !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n            if (!maps.isTileMap) {\n              factor = maps.mapLayerPanel.calculateFactor(currentLayer);\n              location_1 = convertGeoToPoint(latitude, longitude, factor, currentLayer, maps);\n            } else if (maps.isTileMap && !maps.zoomSettings.enable) {\n              location_1 = convertTileLatLongToPoint(new Point(longitude, latitude), maps.tileZoomLevel, maps.tileTranslatePoint, true);\n            }\n            markerTemplate.childNodes[o]['style']['visibility'] = 'hidden';\n            var clusters_1 = currentLayer.markerClusterSettings;\n            if (eventArg.cancel) {\n              shapeCustom = {\n                size: new Size(clusters_1.width, clusters_1.height),\n                fill: clusters_1.fill,\n                borderColor: clusters_1.border.color,\n                borderWidth: clusters_1.border.width,\n                opacity: clusters_1.opacity,\n                dashArray: clusters_1.dashArray\n              };\n              shapeCustom['fill'] = clusters_1.fill;\n              shapeCustom['size']['width'] = clusters_1.width;\n              shapeCustom['size']['height'] = clusters_1.height;\n              shapeCustom['imageUrl'] = clusters_1.imageUrl;\n              shapeCustom['shape'] = clusters_1.shape;\n              shapeCustom['borderColor'] = clusters_1.border.color;\n              shapeCustom['borderWidth'] = clusters_1.border.width;\n              shapeCustom['borderOpacity'] = isNullOrUndefined(clusters_1.border.opacity) ? clusters_1.opacity : clusters_1.border.opacity;\n            } else {\n              shapeCustom = {\n                size: new Size(clusters_1.width, clusters_1.height),\n                fill: clusters_1.fill,\n                borderColor: clusters_1.border.color,\n                borderWidth: clusters_1.border.width,\n                opacity: clusters_1.opacity,\n                dashArray: clusters_1.dashArray\n              };\n              shapeCustom['fill'] = eventArg.fill;\n              shapeCustom['size']['width'] = eventArg.width;\n              shapeCustom['size']['height'] = eventArg.height;\n              shapeCustom['imageUrl'] = eventArg.imageUrl;\n              shapeCustom['shape'] = eventArg.shape;\n              shapeCustom['borderColor'] = eventArg.border.color;\n              shapeCustom['borderWidth'] = eventArg.border.width;\n              shapeCustom['borderOpacity'] = isNullOrUndefined(eventArg.border.opacity) ? clusters_1.opacity : eventArg.border.opacity;\n            }\n            tempX = maps.isTileMap ? tempX : markerTemplate.id.indexOf('_Markers_Group') > -1 ? tempX : tempX + postionY - eventArg.width / 2;\n            tempY = maps.isTileMap ? tempY : markerTemplate.id.indexOf('_Markers_Group') > -1 ? tempY : tempY - eventArg.height / 2;\n            if (maps.isTileMap && !maps.zoomSettings.enable) {\n              tempX = location_1.x;\n              tempY = location_1.y;\n            }\n            var clusterID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + m;\n            var labelID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + m + '_datalabel_' + m;\n            m++;\n            var imageShapeY = shapeCustom['shape'] === 'Image' ? shapeCustom['size']['height'] / 2 : 0;\n            var ele = drawSymbols(shapeCustom['shape'], shapeCustom['imageUrl'], {\n              x: 0,\n              y: imageShapeY\n            }, clusterID, shapeCustom, markerCollection, maps);\n            ele.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n            if (eventArg.shape === 'Balloon') {\n              ele.children[0].innerHTML = indexCollection.toString();\n            } else {\n              ele.innerHTML = indexCollection.toString();\n            }\n            options = new TextOption(labelID, 0, postionY, 'middle', (colloideBounds.length + 1).toString(), '', '');\n            textElement = renderTextElement(options, style, style.color, markerCollection);\n            textElement.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n            clusterGroup.appendChild(textElement);\n            clusterGroup.appendChild(ele);\n          }\n        }\n        colloideBounds = [];\n      }\n    }\n    layerElement.appendChild(clusterGroup);\n    maps.svgObject.appendChild(layerElement);\n    maps.element.appendChild(maps.svgObject);\n    for (var o = 0; o < clusterGroup.childElementCount; o++) {\n      if (clusterGroup.childNodes[o]['style']['visibility'] !== 'hidden') {\n        tempElement = clusterGroup.childNodes[o];\n        bounds1 = tempElement.getBoundingClientRect();\n        if (!isNullOrUndefined(bounds1) && !(tempElement.id.indexOf('_datalabel_') > -1)) {\n          for (var p = o + 1; p < clusterGroup.childElementCount; p++) {\n            if (clusterGroup.childNodes[p]['style']['visibility'] !== 'hidden') {\n              tempElement1 = clusterGroup.childNodes[p];\n              bounds2 = tempElement1.getBoundingClientRect();\n              if (!isNullOrUndefined(bounds2) && !(tempElement1.id.indexOf('_datalabel_') > -1)) {\n                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                  clusterColloideBounds.push(tempElement1);\n                  clusterColloideBounds.push(clusterGroup.childNodes[p - 1]);\n                  clusterGroup.childNodes[p]['style']['visibility'] = 'hidden';\n                  clusterGroup.childNodes[p - 1]['style']['visibility'] = 'hidden';\n                  indexCollection.push(p);\n                }\n              }\n            }\n          }\n          if (clusterColloideBounds.length > 0) {\n            tempElement = clusterGroup.childNodes[o];\n            for (var i = 0; i < clusterColloideBounds.length; i++) {\n              if (tempElement.tagName === 'g') {\n                tempElement.childNodes[0].textContent = tempElement.childNodes[0].textContent + ',' + clusterColloideBounds[i].textContent;\n              } else {\n                tempElement.textContent = tempElement.textContent + ',' + clusterColloideBounds[i].textContent;\n              }\n              clusterGroup.childNodes[o - 1].textContent = (+clusterGroup.childNodes[o - 1].textContent + +clusterColloideBounds[i + 1].textContent).toString();\n              i++;\n            }\n          }\n          clusterColloideBounds = [];\n        }\n      }\n    }\n    while (0 < clusterGroup.childNodes.length) {\n      markerCollection.insertBefore(clusterGroup.childNodes[0], markerCollection.firstChild);\n    }\n    if (check) {\n      layerElement.appendChild(markerCollection);\n    } else {\n      getElementByID(maps.element.id + '_Secondary_Element').appendChild(markerCollection);\n      layerElement.appendChild(markerCollection);\n    }\n    var markerCluster = document.getElementById(maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster');\n    if (!isNullOrUndefined(markerCluster)) {\n      markerCluster.remove();\n    }\n    if (zoomCheck) {\n      var layerGroupElement = document.getElementById(maps.element.id + '_Layer_Collections');\n      if (!isNullOrUndefined(layerGroupElement)) {\n        layerGroupElement.appendChild(layerElement);\n      }\n    }\n  });\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @returns {void}\n */\nexport function mergeSeparateCluster(sameMarkerData, maps, markerElement) {\n  var layerIndex = sameMarkerData[0].layerIndex;\n  var clusterIndex = sameMarkerData[0].targetClusterIndex;\n  var markerIndex = sameMarkerData[0].markerIndex;\n  var dataIndex = sameMarkerData[0].dataIndex;\n  var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n  var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n  var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n  var clusterEle = maps.layers[layerIndex].markerClusterSettings.shape === 'Balloon' ? getElement(clusterId + '_Group') : getElement(clusterId);\n  var clusterEleLabel = getElement(clusterId + '_datalabel_' + clusterIndex);\n  clusterEle.setAttribute('visibility', 'visible');\n  clusterEleLabel.setAttribute('visibility', 'visible');\n  var markerEle;\n  var markerDataLength = sameMarkerData[0].data.length;\n  for (var i = 0; i < markerDataLength; i++) {\n    markerEle = marker.shape === 'Balloon' ? getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index'] + '_Group') : getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n    markerEle['style']['visibility'] = 'hidden';\n  }\n  removeElement(maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine');\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @param {boolean} isDom - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterSeparate(sameMarkerData, maps, markerElement, isDom) {\n  var layerIndex = sameMarkerData[0].layerIndex;\n  var markerIndex = sameMarkerData[0].markerIndex;\n  var clusterIndex = sameMarkerData[0].targetClusterIndex;\n  var dataIndex = sameMarkerData[0].dataIndex;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var getElementFunction = isDom ? getElement : markerElement.querySelector.bind(markerElement);\n  var getQueryConnect = isDom ? '' : '#';\n  var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n  var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n  var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n  var clusterEle = maps.layers[layerIndex].markerClusterSettings.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + clusterId + '_Group') : getElementFunction(getQueryConnect + '' + clusterId);\n  var clusterEleLabel = getElementFunction(getQueryConnect + '' + clusterId + '_datalabel_' + clusterIndex);\n  clusterEle.setAttribute('visibility', 'hidden');\n  clusterEleLabel.setAttribute('visibility', 'hidden');\n  var markerEle = marker.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex + '_Group') : getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex);\n  var height = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().height : marker.height;\n  var width = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().width : marker.width;\n  var centerX = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[0];\n  var centerY = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[1].split(')')[0].trim();\n  var radius = width + 5;\n  var area = 2 * 3.14 * radius;\n  var totalMarker = 0;\n  var numberOfMarker = Math.round(area / width);\n  totalMarker += numberOfMarker;\n  var markerDataLength = sameMarkerData[0].data.length;\n  var percent = Math.round(height / area * 100);\n  percent = markerDataLength < numberOfMarker ? 100 / markerDataLength : percent;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var angle = percent / 100 * 360;\n  var newAngle = markerDataLength < numberOfMarker ? 45 : 0;\n  var count = 1;\n  var start = 'M ' + centerX + ' ' + centerY + ' ';\n  var path = '';\n  for (var i = 0; i < markerDataLength; i++) {\n    if (totalMarker === i || Math.round(newAngle) >= 360) {\n      count++;\n      radius = (width + 5) * count;\n      newAngle = 0;\n      area = 2 * 3.14 * radius;\n      numberOfMarker = Math.round(area / height);\n      percent = Math.round(height / area * 100);\n      while (percent * numberOfMarker < 100) {\n        numberOfMarker++;\n      }\n      angle = percent / 100 * 360;\n      totalMarker += numberOfMarker;\n    }\n    var x1 = centerX + radius * Math.sin(Math.PI * 2 * newAngle / 360);\n    var y1 = centerY + radius * Math.cos(Math.PI * 2 * newAngle / 360);\n    path += start + 'L ' + x1 + ' ' + y1 + ' ';\n    markerEle = marker.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index'] + '_Group') : getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n    if (markerEle.parentElement.id.indexOf('Template_Group') > -1) {\n      markerEle['style']['transform'] = '';\n      markerEle['style']['left'] = maps.isTileMap ? x1 - width / 2 + 'px' : x1 - width / 2 - 10 + 'px';\n      markerEle['style']['top'] = maps.isTileMap ? y1 - height / 2 + 'px' : y1 - height / 2 - 10 + 'px';\n      markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n    } else {\n      markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n    }\n    markerEle['style']['visibility'] = 'visible';\n    newAngle += angle;\n  }\n  var connectorLine = maps.layers[layerIndex].markerClusterSettings.connectorLineSettings;\n  var options = {\n    d: path,\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_markerClusterConnectorLine',\n    stroke: connectorLine.color,\n    'fill-opacity': connectorLine.opacity,\n    'stroke-opacity': connectorLine.opacity,\n    'stroke-width': connectorLine.width\n  };\n  markerElement = isDom ? getElementFunction(maps.element.id + '_Markers_Group') : markerElement;\n  var groupEle = maps.renderer.createGroup({\n    id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine'\n  });\n  groupEle.appendChild(maps.renderer.drawPath(options));\n  if (marker.shape === 'Balloon') {\n    markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0_Group'));\n  } else {\n    markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0'));\n  }\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {MarkerSettings} markerSettings - Specifies the marker settings\n * @param {any[]} markerData - Specifies the marker data\n * @param {number} dataIndex - Specifies the data index\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point\n * @param {string} markerID - Specifies the marker id\n * @param {Point} offset - Specifies the offset value\n * @param {number} scale - Specifies the scale value\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element} markerCollection - Specifies the marker collection\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function marker(eventArgs, markerSettings, markerData, dataIndex, location, transPoint, markerID, offset, scale, maps, markerCollection) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shapeCustom = {\n    size: new Size(eventArgs.width, eventArgs.height),\n    fill: eventArgs.fill,\n    borderColor: eventArgs.border.color,\n    borderWidth: eventArgs.border.width,\n    opacity: markerSettings.opacity,\n    dashArray: markerSettings.dashArray,\n    borderOpacity: isNullOrUndefined(eventArgs.border.opacity) ? markerSettings.opacity : eventArgs.border.opacity\n  };\n  removeElement(markerID);\n  var ele = drawSymbols(eventArgs.shape, eventArgs.imageUrl, {\n    x: 0,\n    y: 0\n  }, markerID, shapeCustom, markerCollection, maps);\n  var x = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x;\n  var y = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y;\n  ele.setAttribute('transform', 'translate( ' + x + ' ' + y + ' )');\n  maintainSelection(maps.selectedMarkerElementId, maps.markerSelectionClass, ele, 'MarkerselectionMapStyle');\n  markerCollection.appendChild(ele);\n  var element = markerData.length - 1 === dataIndex ? 'marker' : null;\n  var markerPoint = new Point(x, y);\n  if (markerSettings.animationDuration > 0) {\n    elementAnimate(ele, markerSettings.animationDelay, markerSettings.animationDuration, markerPoint, maps, element);\n  }\n  return markerCollection;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {any} templateFn - Specifies the template function\n * @param {string} markerID - Specifies the marker id\n * @param {any} data - Specifies the data\n * @param {number} markerIndex - Specifies the marker index\n * @param {HTMLElement} markerTemplate - Specifies the marker template element\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point.\n * @param {number} scale - Specifies the scale value\n * @param {Point} offset - Specifies the offset value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplate, location, transPoint, scale, offset, maps) {\n  templateFn = getTemplateFunction(eventArgs.template, maps);\n  if (templateFn && templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false).length) {\n    var templateElement = templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false);\n    var markerElement = convertElement(templateElement, markerID, data, markerIndex, maps);\n    for (var i = 0; i < markerElement.children.length; i++) {\n      markerElement.children[i].style.pointerEvents = 'none';\n    }\n    markerElement.style.left = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x - maps.mapAreaRect.x + 'px';\n    markerElement.style.top = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y - maps.mapAreaRect.y + 'px';\n    markerTemplate.appendChild(markerElement);\n    if (maps.layers[maps.baseLayerIndex].layerType === 'GoogleStaticMap') {\n      var staticMapOffset = getElementByID(maps.element.id + '_StaticGoogleMap').getBoundingClientRect();\n      var markerElementOffset = markerElement.getBoundingClientRect();\n      var staticMapOffsetWidth = 640;\n      if ((staticMapOffset['x'] > markerElementOffset['x'] || staticMapOffset['x'] + staticMapOffsetWidth < markerElementOffset['x'] + markerElementOffset['width']) && (staticMapOffset['y'] > markerElementOffset['y'] || staticMapOffset['y'] + staticMapOffset['height'] < markerElementOffset['y'] + markerElementOffset['height'])) {\n        markerElement.style.display = 'none';\n      }\n    }\n  }\n  return markerTemplate;\n}\n/**\n * To maintain selection during page resize\n *\n * @param {string[]} elementId - Specifies the element id\n * @param {Element} elementClass - Specifies the element class\n * @param {Element} element - Specifies the element\n * @param {string} className - Specifies the class name\n * @returns {void}\n * @private\n */\nexport function maintainSelection(elementId, elementClass, element, className) {\n  if (elementId) {\n    for (var index = 0; index < elementId.length; index++) {\n      if (element.getAttribute('id') === elementId[index]) {\n        if (index === 0 || element.tagName === 'g') {\n          if (!isNullOrUndefined(elementClass) && !isNullOrUndefined(elementClass.id)) {\n            document.body.appendChild(elementClass);\n          }\n          if (element.id.indexOf('_MarkerIndex_') > -1 && element.childElementCount > 0) {\n            element.children[0].setAttribute('class', className);\n          }\n        }\n        element.setAttribute('class', className);\n      }\n    }\n  }\n}\n/**\n * To maintain selection style class\n *\n * @param {string} id - Specifies the id\n * @param {string} idClass - Specifies the class id\n * @param {string} fill - Specifies the fill\n * @param {string} opacity - Specifies the opactiy\n * @param {string} borderColor - Specifies the border color\n * @param {string} borderWidth - Specifies the border width\n * @param {Maps} maps - Specifies the maps\n * @returns {void}\n * @private\n */\nexport function maintainStyleClass(id, idClass, fill, opacity, borderColor, borderWidth, maps) {\n  if (!getElement(id)) {\n    var styleClass = createElement('style', {\n      id: id,\n      innerHTML: '.' + idClass + '{fill:' + fill + ';' + 'opacity:' + opacity + ';' + 'stroke-width:' + borderWidth + ';' + 'stroke:' + borderColor + ';' + '}'\n    });\n    maps.shapeSelectionClass = styleClass;\n    document.body.appendChild(styleClass);\n  }\n}\n/**\n * Internal use of append shape element\n *\n * @param {Element} shape - Specifies the shape\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function appendShape(shape, element) {\n  if (element) {\n    element.appendChild(shape);\n  }\n  return shape;\n}\n/**\n * Internal rendering of Circle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {CircleOption} options - Specifies the circle options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCircle(maps, options, element) {\n  return appendShape(maps.renderer.drawCircle(options), element);\n}\n/**\n * Internal rendering of Rectangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {RectOption} options - Specifies the rect options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawRectangle(maps, options, element) {\n  return appendShape(maps.renderer.drawRectangle(options), element);\n}\n/**\n * Internal rendering of Path\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPath(maps, options, element) {\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Polygon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolygonOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolygon(maps, options, element) {\n  return appendShape(maps.renderer.drawPolygon(options), element);\n}\n/**\n * Internal rendering of Polyline\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolylineOption} options - Specifies the poly line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolyline(maps, options, element) {\n  return appendShape(maps.renderer.drawPolyline(options), element);\n}\n/**\n * Internal rendering of Line\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {LineOption} options - Specifies the line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawLine(maps, options, element) {\n  return appendShape(maps.renderer.drawLine(options), element);\n}\n/**\n * Calculate marker shapes\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {MarkerType} shape - Specifies the marker type\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} markerEle - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function calculateShapes(maps, shape, options, size, location, markerEle) {\n  var tempGroup;\n  switch (shape) {\n    case 'Balloon':\n      tempGroup = drawBalloon(maps, options, size, location, 'Marker', markerEle);\n      break;\n    case 'Cross':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n      break;\n    case 'Diamond':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n      break;\n    case 'Star':\n      options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n      break;\n    case 'Triangle':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n      break;\n    case 'HorizontalLine':\n      options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n      break;\n    case 'VerticalLine':\n      options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n      break;\n    case 'InvertedTriangle':\n      options.d = 'M ' + (location.x - size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' Z';\n      break;\n    case 'Pentagon':\n      // eslint-disable-next-line no-case-declarations\n      var eq = 72;\n      var xValue = void 0;\n      var yValue = void 0;\n      for (var i = 0; i < 5; i++) {\n        xValue = size.width / 2 * Math.cos(Math.PI / 180 * (i * eq));\n        yValue = size.height / 2 * Math.sin(Math.PI / 180 * (i * eq));\n        options.d += (i === 0 ? 'M ' : 'L ') + (location.x + xValue) + ' ' + (location.y + yValue);\n      }\n      options.d += ' Z';\n      break;\n  }\n  if (shape === 'Cross' || shape === 'HorizontalLine' || shape === 'VerticalLine') {\n    options['stroke'] = options['stroke'] === 'transparent' ? options['fill'] : options['stroke'];\n  }\n  return shape === 'Balloon' ? tempGroup : maps.renderer.drawPath(options);\n}\n/**\n * Internal rendering of Diamond\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawDiamond(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Triangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawTriangle(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Cross\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCross(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of HorizontalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawHorizontalLine(maps, options, size, location, element) {\n  options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of VerticalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawVerticalLine(maps, options, size, location, element) {\n  options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Star\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawStar(maps, options, size, location, element) {\n  options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n  return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Balloon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawBalloon(maps, options, size, location, type, element) {\n  var width = size.width;\n  var height = size.height;\n  var pathElement;\n  location.x -= width / 2;\n  location.y -= height;\n  options.d = 'M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16' + 'c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z';\n  var balloon = maps.renderer.drawPath(options);\n  var x = size.width / 30;\n  var y = size.height / 30;\n  balloon.setAttribute('transform', 'translate(' + location.x + ', ' + location.y + ') scale(' + x + ', ' + y + ')');\n  if (type === 'Marker') {\n    var g = maps.renderer.createGroup({\n      id: options.id + '_Group'\n    });\n    appendShape(balloon, g);\n    pathElement = appendShape(g, element);\n  } else {\n    pathElement = balloon;\n  }\n  return pathElement;\n}\n/**\n * Internal rendering of Pattern\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PatternOptions} options - Specifies the pattern options\n * @param {Element[]} elements - Specifies the elements\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPattern(maps, options, elements, element) {\n  var pattern = maps.renderer.createPattern(options, 'pattern');\n  for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n    var ele = elements_1[_i];\n    appendShape(ele, pattern);\n  }\n  return appendShape(pattern, element);\n}\n/**\n * Method to get specific field and vaues from data.\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {string[]} fields - Specifies the fields\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getFieldData(dataSource, fields) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var newData = [];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var data;\n  for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n    var temp = dataSource_1[_i];\n    data = {};\n    for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n      var field = fields_1[_a];\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (temp[field]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        data[field] = temp[field];\n      }\n    }\n    newData.push(data);\n  }\n  return newData;\n}\n/**\n * To find the index of dataSource from shape properties\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {any} properties - Specifies the properties\n * @param {string} dataPath - Specifies the data path\n * @param {string | string[]} propertyPath - Specifies the property path\n * @param {LayerSettingsModel} layer - Specifies the layer settings\n * @returns {number} - Returns the number\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkShapeDataFields(dataSource, properties, dataPath, propertyPath, layer) {\n  if (!isNullOrUndefined(properties)) {\n    for (var i = 0; i < dataSource.length; i++) {\n      var shapeDataPath = dataPath.indexOf('.') > -1 ? getValueFromObject(dataSource[i], dataPath) : dataSource[i][dataPath];\n      var shapePath = checkPropertyPath(shapeDataPath, propertyPath, properties);\n      var shapeDataPathValue = !isNullOrUndefined(shapeDataPath) && isNaN(properties[shapePath]) ? typeof shapeDataPath === 'string' ? shapeDataPath.toLowerCase() : shapeDataPath : shapeDataPath;\n      var propertiesShapePathValue = !isNullOrUndefined(properties[shapePath]) && isNaN(properties[shapePath]) ? properties[shapePath].toLowerCase() : properties[shapePath];\n      if (shapeDataPathValue === propertiesShapePathValue) {\n        return i;\n      }\n    }\n  }\n  return null;\n}\n/**\n *\n * @param {string} shapeData - Specifies the shape data\n * @param {string | string[]} shapePropertyPath -  Specifies the shape property path\n * @param {any} shape -  Specifies the shape\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkPropertyPath(shapeData, shapePropertyPath, shape) {\n  if (!isNullOrUndefined(shapeData) && !isNullOrUndefined(shape)) {\n    if (!isNullOrUndefined(shapePropertyPath)) {\n      var length_1;\n      var properties = Object.prototype.toString.call(shapePropertyPath) === '[object Array]' ? shapePropertyPath : [shapePropertyPath];\n      for (var i = 0; i < properties.length; i++) {\n        var shapeDataValue = !isNullOrUndefined(shapeData) && typeof shapeData === 'string' ? shapeData.toLowerCase() : shapeData;\n        var shapePropertiesValue = !isNullOrUndefined(shape[properties[i]]) && isNaN(shape[properties[i]]) ? shape[properties[i]].toLowerCase() : shape[properties[i]];\n        if (shapeDataValue === shapePropertiesValue) {\n          return properties[i];\n        }\n      }\n    }\n  }\n  return null;\n}\n/**\n *\n * @param {MapLocation[]} points - Specifies the location\n * @param {number} start - Specifies the start value\n * @param {number} end - Specifies the end value\n * @returns {MapLocation[]} - Returns the location\n */\nexport function filter(points, start, end) {\n  var pointObject = [];\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n    if (start <= point.y && end >= point.y) {\n      pointObject.push(point);\n    }\n  }\n  return pointObject;\n}\n/**\n *\n * @param {number} min - Specifies the min value\n * @param {number} max - Specifies the max value\n * @param {number} value - Specifies the value\n * @param {number} minValue - Specifies the minValue\n * @param {number} maxValue -Specifies the maxValue\n * @returns {number} - Returns the number\n */\nexport function getRatioOfBubble(min, max, value, minValue, maxValue) {\n  var percent = 100 / (maxValue - minValue) * (value - minValue);\n  var bubbleRadius = (max - min) / 100 * percent + min;\n  if (maxValue === minValue) {\n    bubbleRadius = (max - min) / 100 + min;\n  }\n  return bubbleRadius;\n}\n/**\n * To find the midpoint of the polygon from points\n *\n * @param {MapLocation[]} points - Specifies the points\n * @param {string} type - Specifies the type\n * @param {string} geometryType - Specified the type of the geometry\n * @returns {any} - Specifies the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function findMidPointOfPolygon(points, type, geometryType) {\n  if (!points.length) {\n    return null;\n  }\n  var min = 0;\n  var max = points.length;\n  var startX;\n  var startY;\n  var startX1;\n  var startY1;\n  var sum = 0;\n  var xSum = 0;\n  var ySum = 0;\n  for (var i = min; i <= max - 1; i++) {\n    startX = points[i].x;\n    startY = type === 'Mercator' || geometryType === 'Normal' ? points[i].y : -points[i].y;\n    if (i === max - 1) {\n      startX1 = points[0].x;\n      startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[0].y : -points[0].y;\n    } else {\n      startX1 = points[i + 1].x;\n      startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[i + 1].y : -points[i + 1].y;\n    }\n    sum = sum + Math.abs(startX * startY1 - startX1 * startY);\n    xSum = xSum + Math.abs((startX + startX1) * (startX * startY1 - startX1 * startY));\n    ySum = ySum + Math.abs((startY + startY1) * (startX * startY1 - startX1 * startY));\n  }\n  sum = 0.5 * sum;\n  xSum = 1 / (4 * sum) * xSum;\n  ySum = 1 / (4 * sum) * ySum;\n  /* Code for finding nearest points in polygon related to midPoint*/\n  var rightMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var rightMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var leftMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var leftMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var bottomMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var bottomMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var topMinPoint = {\n    x: 0,\n    y: 0\n  };\n  var topMaxPoint = {\n    x: 0,\n    y: 0\n  };\n  var height = 0;\n  for (var i = min; i <= max - 1; i++) {\n    var point = points[i];\n    point.y = type === 'Mercator' || geometryType === 'Normal' ? point.y : -point.y;\n    if (point.y > ySum) {\n      if (point.x < xSum && xSum - point.x < xSum - bottomMinPoint.x) {\n        bottomMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.x > xSum && (bottomMaxPoint.x === 0 || point.x - xSum < bottomMaxPoint.x - xSum)) {\n        bottomMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    } else {\n      if (point.x < xSum && xSum - point.x < xSum - topMinPoint.x) {\n        topMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.x > xSum && (topMaxPoint.x === 0 || point.x - xSum < topMaxPoint.x - xSum)) {\n        topMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    }\n    height = bottomMaxPoint.y - topMaxPoint.y + (bottomMaxPoint.y - topMaxPoint.y) / 4;\n    if (point.x > xSum) {\n      if (point.y < ySum && ySum - point.y < ySum - rightMinPoint.y) {\n        rightMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.y > ySum && (rightMaxPoint.y === 0 || point.y - ySum < rightMaxPoint.y - ySum)) {\n        rightMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    } else {\n      if (point.y < ySum && ySum - point.y < ySum - leftMinPoint.y) {\n        leftMinPoint = {\n          x: point.x,\n          y: point.y\n        };\n      } else if (point.y > ySum && (leftMaxPoint.y === 0 || point.y - ySum < leftMaxPoint.y - ySum)) {\n        leftMaxPoint = {\n          x: point.x,\n          y: point.y\n        };\n      }\n    }\n  }\n  return {\n    x: xSum,\n    y: ySum,\n    rightMin: rightMinPoint,\n    rightMax: rightMaxPoint,\n    leftMin: leftMinPoint,\n    leftMax: leftMaxPoint,\n    points: points,\n    topMax: topMaxPoint,\n    topMin: topMinPoint,\n    bottomMax: bottomMaxPoint,\n    bottomMin: bottomMinPoint,\n    height: height\n  };\n}\n/**\n * Check custom path\n *\n * @param {any[]} layerData - Specifies the layer data\n * @returns {boolean} - Returns the boolean vlue\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isCustomPath(layerData) {\n  var customPath = false;\n  if (Object.prototype.toString.call(layerData) === '[object Array]') {\n    Array.prototype.forEach.call(layerData, function (layer, index) {\n      if (!isNullOrUndefined(layer['geometry']) && layer['geometry']['type'] === 'Path') {\n        customPath = true;\n      }\n    });\n  }\n  return customPath;\n}\n/**\n * Trim the title text\n *\n * @param {number} maxWidth - Specifies the maximum width\n * @param {string} text - Specifies the text\n * @param {FontModel} font - Specifies the font\n * @returns {string} - Returns the string\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n  var label = text;\n  var size = measureText(text, font).width;\n  if (size > maxWidth) {\n    var textLength = text.length;\n    for (var i = textLength - 1; i >= 0; --i) {\n      label = text.substring(0, i) + '...';\n      size = measureText(label, font).width;\n      if (size <= maxWidth || label.length < 4) {\n        if (label.length < 4) {\n          label = ' ';\n        }\n        return label;\n      }\n    }\n  }\n  return label;\n}\n/**\n * Method to calculate x position of title\n *\n * @param {Rect} location - Specifies the location\n * @param {Alignment} alignment - Specifies the alignment\n * @param {Size} textSize - Specifies the text size\n * @param {string} type - Specifies the type\n * @returns {Point} - Returns the point values\n */\nexport function findPosition(location, alignment, textSize, type) {\n  var x;\n  switch (alignment) {\n    case 'Near':\n      x = location.x;\n      break;\n    case 'Center':\n      x = type === 'title' ? location.width / 2 - textSize.width / 2 : location.x + location.width / 2 - textSize.width / 2;\n      break;\n    case 'Far':\n      x = type === 'title' ? location.width - location.y - textSize.width : location.x + location.width - textSize.width;\n      break;\n  }\n  var y = type === 'title' ? location.y + textSize.height / 2 : location.y + location.height / 2 + textSize.height / 2;\n  return new Point(x, y);\n}\n/**\n * To remove element by id\n *\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function removeElement(id) {\n  var element = document.getElementById(id);\n  return element ? remove(element) : null;\n}\n/**\n * To calculate map center position from pixel values\n *\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @returns {Point} - Returns the x and y points\n */\nexport function calculateCenterFromPixel(mapObject, layer) {\n  var point1 = convertGeoToPoint(mapObject.minLatOfGivenLocation, mapObject.minLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n  var point2 = convertGeoToPoint(mapObject.maxLatOfGivenLocation, mapObject.maxLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n  var x = (point1.x + point2.x) / 2;\n  var y = (point1.y + point2.y) / 2;\n  return new Point(x, y);\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTranslate(mapObject, layer, animate) {\n  var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n  var scaleFactor;\n  var center = mapObject.centerPosition;\n  var centerLatitude = center.latitude;\n  var centerLongitude = center.longitude;\n  var checkMethodeZoom = !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && mapObject.zoomNotApplied;\n  if (isNullOrUndefined(mapObject.mapScaleValue)) {\n    mapObject.mapScaleValue = zoomFactorValue;\n  }\n  if (mapObject.zoomSettings.shouldZoomInitially && mapObject.zoomSettings.enable) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = (mapObject.zoomSettings.shouldZoomInitially || mapObject.enablePersistence) && mapObject.scale === 1 ? mapObject.scale : isNullOrUndefined(mapObject.markerZoomFactor) ? 1 : mapObject.markerZoomFactor;\n    if (mapObject.mapScaleValue !== mapObject.markerZoomFactor && !mapObject.enablePersistence) {\n      mapObject.mapScaleValue = zoomFactorValue = mapObject.markerZoomFactor;\n    }\n    if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n      centerLatitude = mapObject.markerCenterLatitude;\n      centerLongitude = mapObject.markerCenterLongitude;\n    }\n  }\n  if (checkMethodeZoom) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var min = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['min'] : null;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var max = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['max'] : null;\n  var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n  if (isNullOrUndefined(mapObject.currentShapeDataLength)) {\n    mapObject.currentShapeDataLength = !isNullOrUndefined(layer.shapeData['features']) ? layer.shapeData['features'].length : layer.shapeData['geometries'].length;\n  }\n  var size = mapObject.totalRect && mapObject.legendSettings.visible ? mapObject.totalRect : mapObject.mapAreaRect;\n  var availSize = mapObject.availableSize;\n  var x;\n  var y;\n  if (!isNullOrUndefined(min) && !isNullOrUndefined(max)) {\n    var mapWidth = Math.abs(max['x'] - min['x']);\n    var mapHeight = Math.abs(min['y'] - max['y']);\n    var factor = animate ? 1 : mapObject.markerZoomFactor === 1 ? mapObject.mapScaleValue : zoomFactorValue;\n    center = mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomedState && !mapObject.zoomPersistence ? mapObject.markerZoomCenterPoint : mapObject.centerPosition;\n    if (!isNullOrUndefined(centerLongitude) && !isNullOrUndefined(centerLatitude) || checkMethodeZoom) {\n      var leftPosition = ((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2 + mapObject.mapAreaRect.x) / factor;\n      var topPosition = ((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2 + mapObject.mapAreaRect.y) / factor;\n      var point = checkMethodeZoom ? calculateCenterFromPixel(mapObject, layer) : convertGeoToPoint(centerLatitude, centerLongitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n      if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n        x = -point.x + leftPosition;\n        y = -point.y + topPosition;\n        scaleFactor = zoomFactor;\n      } else {\n        if (Math.floor(mapObject.scale) !== 1 && mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n          x = -point.x + leftPosition;\n          y = -point.y + topPosition;\n        } else {\n          if (mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n            x = -point.x + leftPosition;\n            y = -point.y + topPosition;\n            scaleFactor = zoomFactor;\n          } else {\n            x = mapObject.zoomTranslatePoint.x;\n            y = mapObject.zoomTranslatePoint.y;\n          }\n        }\n        scaleFactor = mapObject.mapScaleValue;\n      }\n    } else {\n      if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n        if (mapHeight === 0 || mapWidth === 0 || mapHeight === mapWidth) {\n          mapWidth = size.width / 2;\n          mapHeight = size.height;\n        }\n        scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n        scaleFactor = scaleFactor > 1.05 ? 1 : scaleFactor;\n        mapWidth *= scaleFactor;\n        mapHeight *= scaleFactor;\n        var widthDiff = min['x'] !== 0 && mapObject.translateType === 'layers' ? availSize.width - size.width : 0;\n        x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2)) - widthDiff;\n        y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n        mapObject.previousTranslate = new Point(x, y);\n      } else {\n        if (!mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomFactor === 1 && mapObject.mapScaleValue === 1) {\n          scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n          mapHeight *= scaleFactor;\n          mapWidth *= scaleFactor;\n          y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n          x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n        } else {\n          scaleFactor = mapObject.mapScaleValue < 1 ? mapObject.mapScaleValue + 1 : mapObject.mapScaleValue;\n          mapObject.mapScaleValue = mapObject.zoomSettings.enable && mapObject.mapScaleValue !== 1 ? mapObject.mapScaleValue : 1;\n          if (mapObject.currentShapeDataLength !== (!isNullOrUndefined(layer.shapeData['features']) ? layer.shapeData['features'].length : layer.shapeData['geometries'].length) && layer.type !== 'SubLayer') {\n            var scale = parseFloat(Math.min(size.height / mapHeight, size.width / mapWidth).toFixed(2));\n            mapHeight *= scale;\n            mapWidth *= scale;\n            y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n            scaleFactor = scale;\n            x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n          } else if (mapObject.availableSize.height !== mapObject.heightBeforeRefresh || mapObject.widthBeforeRefresh !== mapObject.availableSize.width) {\n            var cscaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n            var cmapWidth = mapWidth;\n            cmapWidth *= cscaleFactor;\n            var cmapHeight = mapHeight;\n            cmapHeight *= cscaleFactor;\n            var x1 = size.x + (-min['x'] + (size.width / 2 - cmapWidth / 2));\n            var y1 = size.y + (-min['y'] + (size.height / 2 - cmapHeight / 2));\n            var xdiff = (mapObject.translatePoint.x - mapObject.previousTranslate.x) / mapObject.widthBeforeRefresh;\n            var ydiff = (mapObject.translatePoint.y - mapObject.previousTranslate.y) / mapObject.heightBeforeRefresh;\n            var actxdiff = xdiff * mapObject.availableSize.width;\n            var actydiff = ydiff * mapObject.availableSize.height;\n            x = x1 + actxdiff;\n            y = y1 + actydiff;\n            mapObject.previousTranslate = new Point(x1, y1);\n            mapObject.zoomTranslatePoint.x = x;\n            mapObject.zoomTranslatePoint.y = y;\n          } else {\n            if (!isNullOrUndefined(mapObject.previousProjection) && (mapObject.mapScaleValue === 1 || mapObject.mapScaleValue <= 1.05) && !mapObject.zoomModule.isDragZoom) {\n              scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n              scaleFactor = scaleFactor > 1.05 ? 1 : scaleFactor;\n              mapWidth *= scaleFactor;\n              x = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n              mapHeight *= scaleFactor;\n              y = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n            } else {\n              x = mapObject.zoomTranslatePoint.x;\n              y = mapObject.zoomTranslatePoint.y;\n              scaleFactor = mapObject.scale;\n            }\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : x;\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : y;\n    }\n  }\n  scaleFactor = mapObject.enablePersistence ? mapObject.mapScaleValue >= 1 ? mapObject.mapScaleValue : 1 : scaleFactor;\n  mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n  mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n  return {\n    scale: scaleFactor,\n    location: new Point(x, y)\n  };\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object.\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getZoomTranslate(mapObject, layer, animate) {\n  var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n  var scaleFactor;\n  var center = mapObject.centerPosition;\n  var latitude = center.latitude;\n  var longitude = center.longitude;\n  var checkZoomMethod = !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && mapObject.zoomNotApplied;\n  if (isNullOrUndefined(mapObject.previousCenterLatitude) && isNullOrUndefined(mapObject.previousCenterLongitude)) {\n    mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n    mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n  } else if (mapObject.previousCenterLatitude !== mapObject.centerPosition.latitude && mapObject.previousCenterLongitude !== mapObject.centerPosition.longitude) {\n    mapObject.centerPositionChanged = true;\n    mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n    mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n  } else {\n    mapObject.centerPositionChanged = false;\n  }\n  if (isNullOrUndefined(mapObject.mapScaleValue) || zoomFactorValue > mapObject.mapScaleValue) {\n    if (mapObject.isReset && mapObject.mapScaleValue === 1) {\n      // eslint-disable-next-line no-self-assign\n      mapObject.mapScaleValue = mapObject.mapScaleValue;\n    } else {\n      mapObject.mapScaleValue = zoomFactorValue;\n    }\n  }\n  mapObject.mapScaleValue = mapObject.zoomSettings.zoomFactor !== 1 && mapObject.zoomSettings.zoomFactor === mapObject.mapScaleValue ? mapObject.zoomSettings.zoomFactor : mapObject.zoomSettings.zoomFactor !== mapObject.mapScaleValue && !mapObject.centerPositionChanged ? mapObject.mapScaleValue : mapObject.zoomSettings.zoomFactor;\n  if (mapObject.zoomSettings.shouldZoomInitially) {\n    mapObject.mapScaleValue = zoomFactorValue = scaleFactor = (mapObject.enablePersistence || mapObject.zoomSettings.shouldZoomInitially) && mapObject.scale === 1 ? mapObject.scale : isNullOrUndefined(mapObject.markerZoomFactor) ? mapObject.mapScaleValue : mapObject.markerZoomFactor;\n    zoomFactorValue = mapObject.mapScaleValue;\n    if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n      latitude = mapObject.markerCenterLatitude;\n      longitude = mapObject.markerCenterLongitude;\n    }\n  }\n  if (checkZoomMethod) {\n    mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n  }\n  var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n  var size = mapObject.mapAreaRect;\n  var x;\n  var y;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var min = mapObject.baseMapRectBounds['min'];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var max = mapObject.baseMapRectBounds['max'];\n  var factor = animate ? 1 : mapObject.mapScaleValue;\n  var mapWidth = Math.abs(max['x'] - min['x']);\n  var mapHeight = Math.abs(min['y'] - max['y']);\n  if (!isNullOrUndefined(longitude) && !isNullOrUndefined(latitude) || checkZoomMethod) {\n    var topPosition = (mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2 / factor;\n    var leftPosition = (mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2 / factor;\n    var point = checkZoomMethod ? calculateCenterFromPixel(mapObject, layer) : convertGeoToPoint(latitude, longitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n    if ((!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) && !mapObject.zoomNotApplied) {\n      if (mapObject.previousProjection !== mapObject.projectionType) {\n        x = -point.x + leftPosition;\n        y = -point.y + topPosition;\n      } else {\n        x = mapObject.zoomTranslatePoint.x;\n        y = mapObject.zoomTranslatePoint.y;\n        zoomFactorValue = zoomFactor;\n      }\n    } else {\n      x = -point.x + leftPosition + mapObject.mapAreaRect.x / zoomFactor;\n      y = -point.y + topPosition + mapObject.mapAreaRect.y / zoomFactor;\n    }\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : y;\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : x;\n    }\n    scaleFactor = zoomFactorValue !== 0 ? zoomFactorValue : 1;\n  } else {\n    var zoomFact = mapObject.zoomSettings.zoomFactor === 0 ? 1 : mapObject.zoomSettings.zoomFactor;\n    var maxZoomFact = mapObject.zoomSettings.maxZoom;\n    zoomFact = zoomFact > maxZoomFact ? maxZoomFact : zoomFact;\n    scaleFactor = zoomFact;\n    var mapScale = mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue > maxZoomFact ? maxZoomFact : mapObject.mapScaleValue;\n    var leftPosition = size.x + (-min['x'] + (size.width / 2 - mapWidth / 2));\n    var topPosition = size.y + (-min['y'] + (size.height / 2 - mapHeight / 2));\n    if (!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) {\n      if (mapObject.previousProjection !== mapObject.projectionType) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var previousPositions = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var previousPoints = {\n          x: leftPosition,\n          y: topPosition\n        };\n        previousPositions.push(previousPoints);\n        for (var i = 1; i < maxZoomFact; i++) {\n          var translatePointX = previousPositions[i - 1]['x'] - (size.width / i - size.width / (i + 1)) / 2;\n          var translatePointY = previousPositions[i - 1]['y'] - (size.height / i - size.height / (i + 1)) / 2;\n          previousPoints = {\n            x: translatePointX,\n            y: translatePointY\n          };\n          previousPositions.push(previousPoints);\n        }\n        leftPosition = previousPositions[zoomFact - 1]['x'];\n        topPosition = previousPositions[zoomFact - 1]['y'];\n      } else {\n        leftPosition = mapObject.zoomTranslatePoint.x;\n        topPosition = mapObject.zoomTranslatePoint.y;\n        if (zoomFact !== mapScale) {\n          scaleFactor = mapScale;\n        }\n      }\n    }\n    if (!isNullOrUndefined(mapObject.translatePoint)) {\n      x = mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.x : leftPosition;\n      y = mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied ? mapObject.translatePoint.y : topPosition;\n    }\n  }\n  scaleFactor = mapObject.enablePersistence ? mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue : scaleFactor;\n  mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n  mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n  return {\n    scale: animate ? 1 : scaleFactor,\n    location: new Point(x, y)\n  };\n}\n/**\n * To get the html element by specified id\n *\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {void}\n */\nexport function fixInitialScaleForTile(map) {\n  map.tileZoomScale = map.tileZoomLevel = Math.floor(map.availableSize.height / 512) + 1;\n  var padding = map.layers[map.baseLayerIndex].layerType !== 'GoogleStaticMap' ? 20 : 0;\n  var totalSize = Math.pow(2, map.tileZoomLevel) * 256;\n  map.tileTranslatePoint.x = map.availableSize.width / 2 - totalSize / 2;\n  map.tileTranslatePoint.y = map.availableSize.height / 2 - totalSize / 2 + padding;\n  map.previousTileWidth = map.availableSize.width;\n  map.previousTileHeight = map.availableSize.height;\n}\n/**\n * To get the html element by specified id\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n */\nexport function getElementByID(id) {\n  return document.getElementById(id);\n}\n/**\n * Function to get clientElement from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\nexport function getClientElement(id) {\n  var element = document.getElementById(id);\n  if (!isNullOrUndefined(element)) {\n    return element.getClientRects()[0];\n  } else {\n    return null;\n  }\n}\n/**\n * To apply internalization\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} value - Specifies the value\n * @returns {string} - Returns the string\n */\nexport function Internalize(maps, value) {\n  maps.formatFunction = maps.intl.getNumberFormat({\n    format: maps.format,\n    useGrouping: maps.useGroupingSeparator\n  });\n  return maps.formatFunction(value);\n}\n/**\n * Function to compile the template function for maps.\n *\n * @param {string} template - Specifies the template\n * @returns {Function} - Returns the function\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTemplateFunction(template, maps) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var templateFn = null;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var e;\n  try {\n    if (document.querySelectorAll(template).length) {\n      templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n    } else if (maps.isVue || maps.isVue3) {\n      templateFn = templateComplier(template);\n    }\n  } catch (e) {\n    templateFn = templateComplier(template);\n  }\n  return templateFn;\n}\n/**\n * Function to get element from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\nexport function getElement(id) {\n  return document.getElementById(id);\n}\n/**\n * Function to get shape data using target id\n *\n * @param {string} targetId - Specifies the target id\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {any} - Returns the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getShapeData(targetId, map) {\n  var layerIndex = parseInt(targetId.split('_LayerIndex_')[1].split('_')[0], 10);\n  var shapeIndex = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n  var layer = map.layersCollection[layerIndex];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shapeData = layer.layerData[shapeIndex]['property'];\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var data;\n  if (layer.dataSource) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    data = layer.dataSource[checkShapeDataFields(layer.dataSource, shapeData, layer.shapeDataPath, layer.shapePropertyPath, layer)];\n  }\n  return {\n    shapeData: shapeData,\n    data: data\n  };\n}\n/**\n * Function to trigger shapeSelected event\n *\n * @param {string} targetId - Specifies the target id\n * @param {SelectionSettingsModel} selection - Specifies the selection\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} eventName - Specifies the event name\n * @returns {IShapeSelectedEventArgs} - Returns the event args\n * @private\n */\nexport function triggerShapeEvent(targetId, selection, maps, eventName) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shape = getShapeData(targetId, maps);\n  var border = {\n    color: selection.border.color,\n    opacity: selection.border.opacity,\n    width: selection.border.width\n  };\n  var eventArgs = selection.enableMultiSelect ? {\n    cancel: false,\n    name: eventName,\n    fill: selection.fill,\n    opacity: selection.opacity,\n    border: border,\n    shapeData: shape.shapeData,\n    data: shape.data,\n    target: targetId,\n    maps: maps,\n    shapeDataCollection: maps.shapeSelectionItem\n  } : {\n    cancel: false,\n    name: eventName,\n    fill: selection.fill,\n    opacity: selection.opacity,\n    border: border,\n    shapeData: shape.shapeData,\n    data: shape.data,\n    target: targetId,\n    maps: maps\n  };\n  maps.trigger(eventName, eventArgs, function (observedArgs) {\n    eventArgs.border.opacity = isNullOrUndefined(eventArgs.border.opacity) ? eventArgs.opacity : eventArgs.border.opacity;\n  });\n  return eventArgs;\n}\n/**\n * Function to get elements using class name\n *\n * @param {string} className - Specifies the class name\n * @returns {HTMLCollectionOf<Element>} - Returns the collection\n */\nexport function getElementsByClassName(className) {\n  return document.getElementsByClassName(className);\n}\n/**\n * Function to get elements using querySelectorAll\n */\n// export function querySelectorAll(args: string, element: Element): ArrayOf<Element> {\n//     return element.querySelectorAll('.' + args);\n// }\n/**\n * Function to get elements using querySelector\n *\n * @param {string} args - Specifies the args\n * @param {string} elementSelector - Specifies the element selector\n * @returns {Element} - Returns the element\n */\nexport function querySelector(args, elementSelector) {\n  var targetEle = null;\n  if (document.getElementById(elementSelector)) {\n    targetEle = document.getElementById(elementSelector).querySelector('#' + args);\n  }\n  return targetEle;\n}\n/**\n * Function to get the element for selection and highlight using public method\n *\n * @param {number} layerIndex - Specifies the layer index\n * @param {string} name - Specifies the layer name\n * @param {boolean} enable - Specifies the boolean value\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\nexport function getTargetElement(layerIndex, name, enable, map) {\n  var shapeIndex;\n  var targetId;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var shapeData = map.layers[layerIndex].shapeData['features'];\n  for (var i = 0; i < shapeData.length; i++) {\n    if (shapeData[i]['properties'].name === name) {\n      targetId = map.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_undefined';\n      break;\n    }\n  }\n  var targetEle = getElement(targetId);\n  return targetEle;\n}\n/**\n * Function to create style element for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function createStyle(id, className, eventArgs) {\n  return createElement('style', {\n    id: id,\n    innerHTML: '.' + className + '{fill:' + eventArgs['fill'] + ';' + 'fill-opacity:' + eventArgs['opacity'].toString() + ';' + 'stroke-opacity:' + eventArgs['border']['opacity'].toString() + ';' + 'stroke-width:' + eventArgs['border']['width'].toString() + ';' + 'stroke:' + eventArgs['border']['color'] + ';' + '}'\n  });\n}\n/**\n * Function to customize the style for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function customizeStyle(id, className, eventArgs) {\n  var styleEle = getElement(id);\n  if (!isNullOrUndefined(styleEle)) {\n    styleEle.innerHTML = '.' + className + '{fill:' + eventArgs['fill'] + ';' + 'fill-opacity:' + eventArgs['opacity'].toString() + ';' + 'stroke-width:' + eventArgs['border']['width'].toString() + ';' + 'stroke-opacity:' + eventArgs['border']['opacity'].toString() + ';' + 'stroke:' + eventArgs['border']['color'] + '}';\n  }\n}\n/**\n * Function to trigger itemSelection event for legend selection and public method\n *\n * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n * @param {Maps} map - Specifies the instance of the maps\n * @param {Element} targetElement - Specifies the target element\n * @param {any} shapeData - Specifies the shape data\n * @param {any} data - Specifies the data\n * @returns {void}\n */\nexport function triggerItemSelectionEvent(selectionSettings, map, targetElement,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nshapeData, data) {\n  var border = {\n    color: selectionSettings.border.color,\n    width: selectionSettings.border.width / map.scale,\n    opacity: selectionSettings.border.opacity\n  };\n  var eventArgs = {\n    opacity: selectionSettings.opacity,\n    fill: selectionSettings.fill,\n    border: border,\n    name: itemSelection,\n    target: targetElement.id,\n    cancel: false,\n    shapeData: shapeData,\n    data: data,\n    maps: map\n  };\n  map.trigger('itemSelection', eventArgs, function (observedArgs) {\n    eventArgs.border.opacity = isNullOrUndefined(selectionSettings.border.opacity) ? selectionSettings.opacity : selectionSettings.border.opacity;\n    map.shapeSelectionItem.push(eventArgs.shapeData);\n    if (!getElement('ShapeselectionMap')) {\n      document.body.appendChild(createStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs));\n    } else {\n      customizeStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs);\n    }\n  });\n}\n/**\n * Function to remove class from element\n *\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function removeClass(element) {\n  element.removeAttribute('class');\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} ele - Specifies the element\n * @param {number} radius - Specifies the radius\n * @returns {void}\n * @private\n */\nexport function elementAnimate(element, delay, duration, point, maps, ele, radius) {\n  if (radius === void 0) {\n    radius = 0;\n  }\n  var centerX = point.x;\n  var centerY = point.y;\n  var height = 0;\n  var transform = element.getAttribute('transform') || '';\n  new Animation({}).animate(element, {\n    duration: duration,\n    delay: delay,\n    progress: function (args) {\n      if (args.timeStamp > args.delay) {\n        if (maps.isTileMap && height === 0) {\n          var layerGroupElement = document.querySelector('.GroupElement');\n          if (!isNullOrUndefined(layerGroupElement)) {\n            layerGroupElement.style.display = 'block';\n          }\n        }\n        height = (args.timeStamp - args.delay) / args.duration;\n        element.setAttribute('transform', 'translate( ' + (centerX - radius * height) + ' ' + (centerY - radius * height) + ' ) scale(' + height + ')');\n      }\n    },\n    end: function (model) {\n      element.setAttribute('transform', transform);\n      if (!ele) {\n        return;\n      }\n      var event = {\n        cancel: false,\n        name: animationComplete,\n        element: ele,\n        maps: maps\n      };\n      maps.trigger(animationComplete, event);\n    }\n  });\n}\n/**\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function timeout(id) {\n  removeElement(id);\n}\n/**\n * @param {string} text - Specifies the text\n * @param {string} size - Specifies the size\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {number} areaWidth - Specifies the area width\n * @param {number} areaHeight - Specifies the area height\n * @param {string} id - Specifies the id\n * @param {Element} element - Specifies the element\n * @param {boolean} isTouch - Specifies the boolean value\n * @returns {void}\n */\nexport function showTooltip(text, size, x, y, areaWidth, areaHeight, id, element, isTouch) {\n  var location = getMousePosition(x, y, element);\n  if (!isNullOrUndefined(location)) {\n    x = location.x;\n    y = location.y;\n  }\n  var tooltip = document.getElementById(id);\n  var width = measureText(text, {\n    fontFamily: 'Segoe UI',\n    size: '8px',\n    fontStyle: 'Normal',\n    fontWeight: 'Regular'\n  }).width;\n  var str = text.split(' ');\n  var demo = str[0].length;\n  for (var i = 1; i < str.length; i++) {\n    if (demo < str[i].length) {\n      demo = str[i].length;\n    }\n  }\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      id: id,\n      styles: 'background-color: rgb(255, 255, 255) !important; color:black !important; ' + 'position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;' + 'font-size:12px; font-family: \"Segoe UI\"; text-align:center'\n    });\n  }\n  if (x < areaWidth - width) {\n    // eslint-disable-next-line no-self-assign\n    x = x;\n  } else if (x > areaWidth - width && x < areaWidth - demo * 8) {\n    width = areaWidth - x;\n  } else if (x >= areaWidth - demo * 8) {\n    if (x > width) {\n      x = x - width;\n    } else {\n      width = x;\n      x = 0;\n    }\n  }\n  var size1 = size.split('px');\n  wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n  var height = tooltip.clientHeight;\n  if (height + parseInt(size1[0], 10) * 2 > areaHeight) {\n    width = x;\n    x = 0;\n  }\n  wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n  if (isTouch) {\n    setTimeout(timeout, 5000, id);\n  }\n}\n/**\n * @param {HTMLElement} tooltip - Specifies the tooltip element\n * @param {string} text - Specifies the text\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {string[]} size1 - Specifies the size\n * @param {number} width - Specifies the width\n * @param {number} areaWidth - Specifies the area width\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function wordWrap(tooltip, text, x, y, size1, width, areaWidth, element) {\n  tooltip.innerHTML = text;\n  tooltip.style.top = tooltip.id.indexOf('_Legend') !== -1 ? (parseInt(size1[0], 10) + y).toString() + 'px' : (parseInt(size1[0], 10) * 2).toString() + 'px';\n  tooltip.style.left = x.toString() + 'px';\n  tooltip.style.width = width.toString() + 'px';\n  tooltip.style.maxWidth = areaWidth.toString() + 'px';\n  tooltip.style.wordWrap = 'break-word';\n  element.appendChild(tooltip);\n}\n// /**\n//  *\n//  * @param touchList\n//  * @param e\n//  * @param touches\n//  */\n// export function addTouchPointer(touchList: ITouches[], e: PointerEvent, touches: TouchList): ITouches[] {\n//     if (touches) {\n//         touchList = [];\n//         for (let i: number = 0, length: number = touches.length; i < length; i++) {\n//             touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n//         }\n//     } else {\n//         touchList = touchList ? touchList : [];\n//         if (touchList.length === 0) {\n//             touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//         } else {\n//             for (let i: number = 0, length: number = touchList.length; i < length; i++) {\n//                 if (touchList[i].pointerId === e.pointerId) {\n//                     touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n//                 } else {\n//                     touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//                 }\n//             }\n//         }\n//     }\n//     return touchList;\n// }\n/**\n * @param {string} id - Specifies the id\n * @param {string} text - Specifies the text\n * @param {string} top - Specifies the top\n * @param {string} left - Specifies the left\n * @param {string} fontSize - Specifies the fontSize\n * @returns {void}\n * @private\n */\nexport function createTooltip(id, text, top, left, fontSize) {\n  var tooltip = getElement(id);\n  var style = 'top:' + top.toString() + 'px;' + 'left:' + left.toString() + 'px;' + 'color: #000000; ' + 'background:' + '#FFFFFF' + ';' + 'z-index: 2;' + 'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n  if (!tooltip) {\n    tooltip = createElement('div', {\n      id: id,\n      innerHTML: '&nbsp;' + text + '&nbsp;',\n      styles: style\n    });\n    document.body.appendChild(tooltip);\n  } else {\n    tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n    tooltip.setAttribute('styles', style);\n  }\n}\n/**\n * @param {Point} location - Specifies the location\n * @param {string} shape - Specifies the shape\n * @param {Size} size - Specifies the size\n * @param {string} url - Specifies the url\n * @param {PathOption} options - Specifies the options\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawSymbol(location, shape, size, url, options) {\n  var functionName = 'Path';\n  var renderer = new SvgRenderer('');\n  var temp = renderLegendShape(location, size, shape, options, url);\n  var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n  return htmlObject;\n}\n/**\n * @param {MapLocation} location - Specifies the location\n * @param {Size} size - Specifies the size\n * @param {string} shape - Specifies the shape\n * @param {PathOption} options - Specifies the path options\n * @param {string} url - Specifies the url\n * @returns {IShapes} - Returns the shapes\n * @private\n */\nexport function renderLegendShape(location, size, shape, options, url) {\n  var renderPath;\n  var functionName = 'Path';\n  var shapeWidth = size.width;\n  var shapeHeight = size.height;\n  var shapeX = location.x;\n  var shapeY = location.y;\n  var x = location.x + -shapeWidth / 2;\n  var y = location.y + -shapeHeight / 2;\n  options['stroke'] = shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross' ? options['fill'] : options['stroke'];\n  options['stroke-width'] = options['stroke-width'] === 0 && (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross') ? 1 : options['stroke-width'];\n  switch (shape) {\n    case 'Circle':\n    case 'Bubble':\n      functionName = 'Ellipse';\n      merge(options, {\n        'rx': shapeWidth / 2,\n        'ry': shapeHeight / 2,\n        'cx': shapeX,\n        'cy': shapeY\n      });\n      break;\n    case 'VerticalLine':\n      renderPath = 'M' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2);\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'HorizontalLine':\n      renderPath = 'M' + ' ' + shapeX + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY;\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Diamond':\n      renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + shapeY + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Rectangle':\n      renderPath = 'M' + ' ' + x + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + -shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Triangle':\n      renderPath = 'M' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + x + ' ' + (shapeY + shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'InvertedTriangle':\n      renderPath = 'M' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX - shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + (shapeY - shapeHeight / 2) + ' z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Pentagon':\n      // eslint-disable-next-line no-case-declarations\n      var eq = 72;\n      var xValue = void 0;\n      var yValue = void 0;\n      for (var i = 0; i <= 5; i++) {\n        xValue = shapeWidth / 2 * Math.cos(Math.PI / 180 * (i * eq));\n        yValue = shapeWidth / 2 * Math.sin(Math.PI / 180 * (i * eq));\n        if (i === 0) {\n          renderPath = 'M' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ';\n        } else {\n          renderPath = renderPath.concat('L' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ');\n        }\n      }\n      renderPath = renderPath.concat('Z');\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Star':\n      renderPath = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Cross':\n      renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + shapeWidth / 2) + ' ' + shapeY + ' ' + 'M' + ' ' + shapeX + ' ' + (shapeY + shapeHeight / 2) + ' ' + 'L' + ' ' + shapeX + ' ' + (shapeY + -shapeHeight / 2);\n      merge(options, {\n        'd': renderPath\n      });\n      break;\n    case 'Image':\n      functionName = 'Image';\n      merge(options, {\n        'href': url,\n        'height': shapeHeight,\n        'width': shapeWidth,\n        x: x,\n        y: y\n      });\n      break;\n  }\n  return {\n    renderOption: options,\n    functionName: functionName\n  };\n}\n/**\n * Animation Effect Calculation End\n *\n * @private\n */\n// export function markerTemplateAnimate(element: Element, delay: number, duration: number, point: MapLocation): void {\n//     let delta: number = 0;\n//     let top: string = (element as HTMLElement).style.top;\n//     let y: number = parseInt(top, 10);\n//     new Animation({}).animate(<HTMLElement>element, {\n//         duration: duration,\n//         delay: delay,\n//         progress: (args: AnimationOptions): void => {\n//             if (args.timeStamp > args.delay) {\n//                 delta = ((args.timeStamp - args.delay) / args.duration);\n//                 (element as HTMLElement).style.top = y - 100 + (delta * 100) + 'px';\n//             }\n//         },\n//         end: (model: AnimationOptions) => {\n//             (element as HTMLElement).style.top = top;\n//         }\n//     });\n// }\n/**\n * @param {HTMLElement} childElement - Specifies the child element\n * @param {HTMLElement} parentElement - Specifies the parent element\n * @returns {Size} - Returns the size\n * @private\n */\nexport function getElementOffset(childElement, parentElement) {\n  parentElement.appendChild(childElement);\n  var width = childElement.offsetWidth;\n  var height = childElement.offsetHeight;\n  parentElement.removeChild(childElement);\n  return new Size(width, height);\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeBorderWidth(element, index, scale, maps) {\n  var childNode;\n  for (var l = 0; l < element.childElementCount; l++) {\n    childNode = element.childNodes[l];\n    if (childNode.id.indexOf('_NavigationGroup') > -1) {\n      changeNavaigationLineWidth(childNode, index, scale, maps);\n    } else {\n      var currentStroke = void 0;\n      var value = 0;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var borderWidthValue = maps.layersCollection[index].shapeSettings.borderWidthValuePath;\n      var borderWidth = maps.layersCollection[index].shapeSettings.border.width;\n      var circleRadius = maps.layersCollection[index].shapeSettings.circleRadius;\n      if (maps.layersCollection[index].shapeSettings.borderWidthValuePath) {\n        value = checkShapeDataFields(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        maps.layersCollection[index].dataSource, maps.layersCollection[index].layerData[l]['property'], maps.layersCollection[index].shapeDataPath, maps.layersCollection[index].shapePropertyPath, maps.layersCollection[index]);\n        if (value !== null) {\n          if (maps.layersCollection[index].dataSource[value][borderWidthValue]) {\n            currentStroke = maps.layersCollection[index].dataSource[value][borderWidthValue];\n          } else {\n            currentStroke = isNullOrUndefined(borderWidth) ? 0 : borderWidth;\n          }\n        } else {\n          currentStroke = isNullOrUndefined(borderWidth) ? 0 : borderWidth;\n        }\n      } else {\n        currentStroke = isNullOrUndefined(borderWidth) ? 0 : borderWidth;\n      }\n      childNode.setAttribute('stroke-width', (currentStroke / scale).toString());\n      if (element.id.indexOf('_Point') > -1 || element.id.indexOf('_MultiPoint') > -1) {\n        childNode.setAttribute('r', (circleRadius / scale).toString());\n      }\n    }\n  }\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeNavaigationLineWidth(element, index, scale, maps) {\n  var node;\n  for (var m = 0; m < element.childElementCount; m++) {\n    node = element.childNodes[m];\n    if (node.tagName === 'path') {\n      var currentStroke = maps.layersCollection[index].navigationLineSettings[parseFloat(node.id.split('_NavigationIndex_')[1].split('_')[0])].width;\n      node.setAttribute('stroke-width', (currentStroke / scale).toString());\n    }\n  }\n}\n// /** Pinch zoom helper methods */\n/**\n * @param {PointerEvent | TouchEvent} event - Specifies the pointer or touch event\n * @returns {ITouches[]} - Returns the target\n * @private */\nexport function targetTouches(event) {\n  var targetTouches = [];\n  var touches = event.touches;\n  for (var i = 0; i < touches.length; i++) {\n    targetTouches.push({\n      pageX: touches[i].pageX,\n      pageY: touches[i].pageY\n    });\n  }\n  return targetTouches;\n}\n/**\n * @param {ITouches[]} startTouches - Specifies the start touches\n * @param {ITouches[]} endTouches - Specifies the end touches\n * @returns {number} - Returns the number\n * @private\n */\nexport function calculateScale(startTouches, endTouches) {\n  var startDistance = getDistance(startTouches[0], startTouches[1]);\n  var endDistance = getDistance(endTouches[0], endTouches[1]);\n  return endDistance / startDistance;\n}\n/**\n * @param {ITouches} a - Specifies the a value\n * @param {ITouches} b - Specifies the b value\n * @returns {number} - Returns the number\n * @private */\nexport function getDistance(a, b) {\n  var x = a.pageX - b.pageX;\n  var y = a.pageY - b.pageY;\n  return Math.sqrt(x * x + y * y);\n}\n/**\n * @param {ITouches[]} touches - Specifies the touches\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouches(touches, maps) {\n  var rect = maps.element.getBoundingClientRect();\n  var posTop = rect.top + document.defaultView.pageXOffset;\n  var posLeft = rect.left + document.defaultView.pageYOffset;\n  return Array.prototype.slice.call(touches).map(function (touch) {\n    return {\n      x: touch.pageX - posLeft,\n      y: touch.pageY - posTop\n    };\n  });\n}\n/**\n * @param {any[]} touches - Specifies the touches\n * @returns {Point} - Returns the point\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouchCenter(touches) {\n  return {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    x: touches.map(function (e) {\n      return e['x'];\n    }).reduce(sum) / touches.length,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    y: touches.map(function (e) {\n      return e['y'];\n    }).reduce(sum) / touches.length\n  };\n}\n/**\n * @param {number} a - Specifies a value\n * @param {number} b - Specifies b value\n * @returns {number} - Returns the sum of a and b\n * @private\n */\nexport function sum(a, b) {\n  return a + b;\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element.\n * @param {number} delay - Specifies the delay.\n * @param {number} duration - Specifies the duration.\n * @param {MapLocation} point - Specifies the location.\n * @param {number} scale - Specifies the scale value.\n * @param {Size} size - Specifies the size.\n * @param {Maps} maps - Specifies the maps.\n * @returns {void}\n * @private\n */\nexport function zoomAnimate(element, delay, duration, point, scale, size, maps) {\n  var delta = 0;\n  var previousLocation = maps.previousPoint;\n  var preScale = maps.previousScale;\n  var diffScale = scale - preScale;\n  var currentLocation = new MapLocation(0, 0);\n  var currentScale = 1;\n  if (scale === preScale) {\n    element.setAttribute('transform', 'scale( ' + scale + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n    return;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var slope = function (previousLocation, point) {\n    if (previousLocation.x === point.x) {\n      return null;\n    }\n    return (point.y - previousLocation.y) / (point.x - previousLocation.x);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var intercept = function (point, slopeValue) {\n    if (slopeValue === null) {\n      return point.x;\n    }\n    return point.y - slopeValue * point.x;\n  };\n  var slopeFactor = slope(previousLocation, point);\n  var slopeIntersection = intercept(previousLocation, slopeFactor);\n  var horizontalDifference = point.x - previousLocation.x;\n  var verticalDifference = point.y - previousLocation.y;\n  animate(element, delay, duration, function (args) {\n    if (args.timeStamp > args.delay) {\n      delta = (args.timeStamp - args.delay) / args.duration;\n      currentScale = preScale + delta * diffScale;\n      currentLocation.x = previousLocation.x + delta * horizontalDifference / (currentScale / scale);\n      if (slopeFactor == null) {\n        currentLocation.y = previousLocation.y + delta * verticalDifference;\n      } else {\n        currentLocation.y = slopeFactor * currentLocation.x + slopeIntersection;\n      }\n      args.element.setAttribute('transform', 'scale( ' + currentScale + ' ) ' + 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n      maps.translatePoint = currentLocation;\n      maps.scale = currentScale;\n      maps.zoomModule.processTemplate(point.x, point.y, currentScale, maps);\n    }\n  }, function () {\n    maps.translatePoint = point;\n    maps.scale = scale;\n    element.setAttribute('transform', 'scale( ' + scale + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n    maps.zoomModule.processTemplate(point.x, point.y, scale, maps);\n  });\n}\n/**\n * To process custom animation\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {Function} process - Specifies the process\n * @param {Function} end - Specifies the end\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function animate(element, delay, duration, process, end) {\n  var _this = this;\n  var start = null;\n  // eslint-disable-next-line prefer-const\n  var clearAnimation;\n  var markerStyle = 'visibility:visible';\n  var startAnimation = function (timestamp) {\n    if (!start) {\n      start = timestamp;\n    }\n    var progress = timestamp - start;\n    if (progress < duration) {\n      process.call(_this, {\n        element: element,\n        delay: 0,\n        timeStamp: progress,\n        duration: duration\n      });\n      window.requestAnimationFrame(startAnimation);\n    } else {\n      window.cancelAnimationFrame(clearAnimation);\n      end.call(_this, {\n        element: element\n      });\n      if (element.id.indexOf('Marker') > -1) {\n        var markerElement = getElementByID(element.id.split('_Layer')[0] + '_Markers_Group');\n        markerElement.setAttribute('style', markerStyle);\n      }\n    }\n  };\n  clearAnimation = window.requestAnimationFrame(startAnimation);\n}\n/**\n * To get shape data file using Ajax.\n */\nvar MapAjax = /** @class */function () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function MapAjax(options, type, async, contentType, sendData) {\n    this.dataOptions = options;\n    this.type = type || 'GET';\n    this.async = async || true;\n    this.contentType = contentType;\n    this.sendData = sendData;\n  }\n  return MapAjax;\n}();\nexport { MapAjax };\n/**\n * Animation Translate\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @returns {void}\n * @private\n */\nexport function smoothTranslate(element, delay, duration, point) {\n  var delta = 0;\n  var transform = element.getAttribute('transform').split(' ');\n  if (transform.length === 2) {\n    transform[2] = transform[1].split(')')[0];\n    transform[1] = transform[0].split('(')[1];\n  }\n  var previousLocation = new MapLocation(parseInt(transform[1], 10), parseInt(transform[2], 10));\n  var diffx = point.x - previousLocation.x;\n  var diffy = point.y - previousLocation.y;\n  var currentLocation = new MapLocation(0, 0);\n  animate(element, delay, duration, function (args) {\n    if (args.timeStamp > args.delay) {\n      delta = (args.timeStamp - args.delay) / args.duration;\n      currentLocation.x = previousLocation.x + delta * diffx;\n      currentLocation.y = previousLocation.y + delta * diffy;\n      args.element.setAttribute('transform', 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n    }\n  }, function () {\n    element.setAttribute('transform', 'translate( ' + point.x + ' ' + point.y + ' )');\n  });\n}\n/**\n * To find compare should zoom factor with previous factor and current factor\n *\n * @param {number} scaleFactor - Specifies the scale factor\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n */\nexport function compareZoomFactor(scaleFactor, maps) {\n  var previous = isNullOrUndefined(maps.shouldZoomPreviousFactor) ? null : maps.shouldZoomPreviousFactor;\n  var current = isNullOrUndefined(maps.shouldZoomCurrentFactor) ? null : maps.shouldZoomCurrentFactor;\n  if (!isNullOrUndefined(current)) {\n    maps.shouldZoomCurrentFactor = null;\n    maps.shouldZoomPreviousFactor = null;\n  } else if (!isNullOrUndefined(previous) && isNullOrUndefined(current) && maps.shouldZoomPreviousFactor !== scaleFactor) {\n    maps.shouldZoomCurrentFactor = scaleFactor;\n  } else {\n    maps.shouldZoomPreviousFactor = scaleFactor;\n  }\n}\n/**\n * To find zoom level for the min and max latitude values\n *\n * @param {number} minLat - Specifies the minimum latitude\n * @param {number} maxLat - Specifies the maximum latitude\n * @param {number} minLong - Specifies the minimum longitude\n * @param {number} maxLong - Specifies the maximum longitude\n * @param {number} mapWidth - Specifies the width of the maps\n * @param {number} mapHeight - Specifies the height of the maps\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {number} - Returns the scale factor\n */\nexport function calculateZoomLevel(minLat, maxLat, minLong, maxLong, mapWidth, mapHeight, maps) {\n  var scaleFactor;\n  var maxZoomFact = maps.zoomSettings.maxZoom;\n  var applyMethodeZoom;\n  var maxLatSin = Math.sin(maxLat * Math.PI / 180);\n  var maxLatRad = Math.log((1 + maxLatSin) / (1 - maxLatSin)) / 2;\n  var maxLatValue = Math.max(Math.min(maxLatRad, Math.PI), -Math.PI) / 2;\n  var minLatSin = Math.sin(minLat * Math.PI / 180);\n  var minLatRad = Math.log((1 + minLatSin) / (1 - minLatSin)) / 2;\n  var minLatValue = Math.max(Math.min(minLatRad, Math.PI), -Math.PI) / 2;\n  if (maps.zoomNotApplied && !maps.isTileMap) {\n    var latiRatio = Math.abs((maps.baseMapBounds.latitude.max - maps.baseMapBounds.latitude.min) / (maxLat - minLat));\n    var longiRatio = Math.abs((maps.baseMapBounds.longitude.max - maps.baseMapBounds.longitude.min) / (maxLong - minLong));\n    applyMethodeZoom = Math.min(latiRatio, longiRatio);\n    var minLocation = convertGeoToPoint(minLat, minLong, 1, maps.layersCollection[0], maps);\n    var maxLocation = convertGeoToPoint(maxLat, maxLong, 1, maps.layersCollection[0], maps);\n  }\n  var latRatio = (maxLatValue - minLatValue) / Math.PI;\n  var lngDiff = maxLong - minLong;\n  var lngRatio = (lngDiff < 0 ? lngDiff + 360 : lngDiff) / 360;\n  var WORLD_PX_HEIGHT = 256;\n  var WORLD_PX_WIDTH = 256;\n  var latZoom = Math.log(mapHeight / WORLD_PX_HEIGHT / latRatio) / Math.LN2;\n  var lngZoom = Math.log(mapWidth / WORLD_PX_WIDTH / lngRatio) / Math.LN2;\n  var result = maps.zoomNotApplied && !maps.isTileMap ? applyMethodeZoom : Math.min(latZoom, lngZoom);\n  scaleFactor = Math.min(result, maxZoomFact);\n  scaleFactor = maps.isTileMap || !maps.zoomNotApplied ? Math.floor(scaleFactor) : scaleFactor;\n  if (!maps.isTileMap) {\n    compareZoomFactor(scaleFactor, maps);\n  }\n  return scaleFactor;\n}\n/**\n * Method to get the result\n *\n * @param {any} e - Specifies the any type value\n * @returns {any} - Returns the data value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function processResult(e) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var dataValue;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var resultValue = !isNullOrUndefined(e['result']) ? e['result'] : e['actual'];\n  if (isNullOrUndefined(resultValue.length)) {\n    if (!isNullOrUndefined(resultValue['Items'])) {\n      dataValue = resultValue['Items'];\n    }\n  } else {\n    dataValue = resultValue;\n  }\n  return dataValue;\n}","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","createElement","isNullOrUndefined","remove","compile","templateComplier","merge","Animation","SvgRenderer","itemSelection","animationComplete","markerClusterRendering","Size","width","height","stringToNumber","value","containerSize","undefined","indexOf","parseInt","calculateSize","maps","element","style","containerWidth","clientWidth","containerHeight","clientHeight","containerElementWidth","containerElementHeight","availableSize","isDevice","Math","min","window","innerWidth","innerHeight","createSvg","renderer","id","svgObject","setAttribute","getMousePosition","pageX","pageY","elementRect","getBoundingClientRect","pageXOffset","ownerDocument","defaultView","pageYOffset","clientTop","documentElement","clientLeft","positionX","left","positionY","top","MapLocation","degreesToRadians","deg","PI","radiansToDegrees","radian","convertGeoToPoint","latitude","longitude","factor","layer","mapModel","mapSize","mapAreaRect","x","y","lat","lng","temp","longitudeMinMax","baseMapBounds","latitudeMinMax","latRadian","lngRadian","type","projectionType","size","isTileMap","pow","geometryType","abs","max","pixelOrigin","Point","sinY","calculateBound","sin","log","aitoff","tan","sqrt","cos","epsilon","delta","Infinity","i","roundTo","xToCoordinate","yToCoordinate","convertTileLatLongToPoint","center","zoomLevel","tileTranslatePoint","isMapCoordinates","sinLatitude","pixelX","pixelY","mapObject","val","totalSize","baseSize","round","cosy","sincia","sinci","acos","a","c","triggerDownload","fileName","url","isDownload","attrs","toLocaleLowerCase","dispatchEvent","MouseEvent","view","bubbles","cancelable","MinMax","GeoLocation","measureText","text","font","measureObject","document","getElementById","body","appendChild","innerHTML","position","fontSize","fontWeight","fontStyle","fontFamily","visibility","whiteSpace","lineHeight","TextOption","anchor","transform","baseLine","PathOption","fill","color","fillOpacity","strokeOpacity","dashArray","stroke","ColorValue","r","g","RectOption","_super","border","rect","rx","ry","_this","call","opacity","CircleOption","cx","cy","PolygonOption","points","PolylineOption","LineOption","line","x1","y1","x2","y2","Line","Rect","PatternOptions","patternUnits","patternContentUnits","patternTransform","href","renderTextElement","option","parent","isMinus","renderOptions","length","tspanElement","htmlObject","createText","len","createTSpan","convertElement","markerId","data","index","mapObj","childElement","styles","elementLength","templateHtml","templateSplitValue","properties","keys","convertStringToValue","toLowerCase","replace","RegExp","toString","formatValue","formatFunction","format","isNaN","Number","intl","getNumberFormat","useGrouping","useGroupingSeparator","stringTemplate","templateValue","split","search","j","getValueFromObject","join","convertElementFromLabel","labelId","labelEle","childElementCount","outerHTML","drawSymbols","shape","imageUrl","location","markerID","shapeCustom","markerCollection","markerEle","borderColor","borderWidth","parseFloat","borderOpacity","padding","rectOptions","pathOptions","radius","circleOptions","drawCircle","drawRectangle","drawImage","calculateShapes","splits","markerColorChoose","eventArgs","colorValuePath","markerShapeChoose","shapeValuePath","imageUrlValuePath","shapes","shapeImage","clusterTemplate","currentLayer","markerTemplate","layerIndex","layerElement","check","zoomCheck","bounds1","bounds2","colloideBounds","clusterColloideBounds","tempX","tempY","markerClusterSettings","labelStyle","options","textElement","tempElement1","tempElement","postionY","m","indexCollection","clusters","clusterGroup","createGroup","eventArg","cancel","name","cluster","trigger","clusterargs","o","childNodes","push","right","bottom","filter","item","container","translate","getTranslate","transPoint","translatePoint","dataIndex","markerIndex","markerSetting","markerSettings","markerData","dataSource","location_1","longitudeValuePath","latitudeValuePath","mapLayerPanel","calculateFactor","zoomSettings","enable","tileZoomLevel","clusters_1","clusterID","labelID","imageShapeY","ele","children","tagName","textContent","insertBefore","firstChild","getElementByID","markerCluster","layerGroupElement","mergeSeparateCluster","sameMarkerData","markerElement","clusterIndex","targetClusterIndex","marker","layers","clusterId","clusterEle","getElement","clusterEleLabel","markerDataLength","removeElement","clusterSeparate","isDom","getElementFunction","querySelector","bind","getQueryConnect","parentElement","centerX","getAttribute","trim","centerY","area","totalMarker","numberOfMarker","percent","angle","newAngle","count","start","path","connectorLine","connectorLineSettings","groupEle","drawPath","offset","scale","maintainSelection","selectedMarkerElementId","markerSelectionClass","markerPoint","animationDuration","elementAnimate","animationDelay","templateFn","getTemplateFunction","template","templateElement","pointerEvents","baseLayerIndex","layerType","staticMapOffset","markerElementOffset","staticMapOffsetWidth","display","elementId","elementClass","className","maintainStyleClass","idClass","styleClass","shapeSelectionClass","appendShape","drawPolygon","drawPolyline","drawLine","tempGroup","drawBalloon","eq","xValue","yValue","drawDiamond","drawTriangle","drawCross","drawHorizontalLine","drawVerticalLine","drawStar","pathElement","balloon","drawPattern","elements","pattern","createPattern","_i","elements_1","getFieldData","fields","newData","dataSource_1","_a","fields_1","field","checkShapeDataFields","dataPath","propertyPath","shapeDataPath","shapePath","checkPropertyPath","shapeDataPathValue","propertiesShapePathValue","shapeData","shapePropertyPath","length_1","shapeDataValue","shapePropertiesValue","end","pointObject","point","getRatioOfBubble","minValue","maxValue","bubbleRadius","findMidPointOfPolygon","startX","startY","startX1","startY1","sum","xSum","ySum","rightMinPoint","rightMaxPoint","leftMinPoint","leftMaxPoint","bottomMinPoint","bottomMaxPoint","topMinPoint","topMaxPoint","rightMin","rightMax","leftMin","leftMax","topMax","topMin","bottomMax","bottomMin","isCustomPath","layerData","customPath","forEach","textTrim","maxWidth","label","textLength","substring","findPosition","alignment","textSize","calculateCenterFromPixel","point1","minLatOfGivenLocation","minLongOfGivenLocation","point2","maxLatOfGivenLocation","maxLongOfGivenLocation","animate","zoomFactorValue","zoomFactor","scaleFactor","centerPosition","centerLatitude","centerLongitude","checkMethodeZoom","centerLatOfGivenLocation","centerLongOfGivenLocation","zoomNotApplied","mapScaleValue","shouldZoomInitially","enablePersistence","markerZoomFactor","markerCenterLatitude","markerCenterLongitude","scaleOfGivenLocation","baseMapRectBounds","currentShapeDataLength","totalRect","legendSettings","visible","availSize","mapWidth","mapHeight","markerZoomedState","zoomPersistence","markerZoomCenterPoint","leftPosition","topPosition","previousProjection","floor","zoomTranslatePoint","toFixed","widthDiff","translateType","previousTranslate","heightBeforeRefresh","widthBeforeRefresh","cscaleFactor","cmapWidth","cmapHeight","xdiff","ydiff","actxdiff","actydiff","zoomModule","isDragZoom","getZoomTranslate","checkZoomMethod","previousCenterLatitude","previousCenterLongitude","centerPositionChanged","isReset","zoomFact","maxZoomFact","maxZoom","mapScale","previousPositions","previousPoints","translatePointX","translatePointY","fixInitialScaleForTile","map","tileZoomScale","previousTileWidth","previousTileHeight","getClientElement","getClientRects","Internalize","e","querySelectorAll","isVue","isVue3","getShapeData","targetId","shapeIndex","layersCollection","triggerShapeEvent","selection","eventName","enableMultiSelect","target","shapeDataCollection","shapeSelectionItem","observedArgs","getElementsByClassName","args","elementSelector","targetEle","getTargetElement","createStyle","customizeStyle","styleEle","triggerItemSelectionEvent","selectionSettings","targetElement","removeClass","removeAttribute","delay","duration","progress","timeStamp","model","event","timeout","showTooltip","areaWidth","areaHeight","isTouch","tooltip","str","demo","size1","wordWrap","setTimeout","createTooltip","drawSymbol","functionName","renderLegendShape","renderOption","renderPath","shapeWidth","shapeHeight","shapeX","shapeY","concat","getElementOffset","offsetWidth","offsetHeight","removeChild","changeBorderWidth","childNode","l","changeNavaigationLineWidth","currentStroke","borderWidthValue","shapeSettings","borderWidthValuePath","circleRadius","node","navigationLineSettings","targetTouches","touches","calculateScale","startTouches","endTouches","startDistance","getDistance","endDistance","getTouches","posTop","posLeft","slice","touch","getTouchCenter","reduce","zoomAnimate","previousLocation","previousPoint","preScale","previousScale","diffScale","currentLocation","currentScale","slope","intercept","slopeValue","slopeFactor","slopeIntersection","horizontalDifference","verticalDifference","processTemplate","process","clearAnimation","markerStyle","startAnimation","timestamp","requestAnimationFrame","cancelAnimationFrame","MapAjax","async","contentType","sendData","dataOptions","smoothTranslate","diffx","diffy","compareZoomFactor","previous","shouldZoomPreviousFactor","current","shouldZoomCurrentFactor","calculateZoomLevel","minLat","maxLat","minLong","maxLong","applyMethodeZoom","maxLatSin","maxLatRad","maxLatValue","minLatSin","minLatRad","minLatValue","latiRatio","longiRatio","minLocation","maxLocation","latRatio","lngDiff","lngRatio","WORLD_PX_HEIGHT","WORLD_PX_WIDTH","latZoom","LN2","lngZoom","result","processResult","dataValue","resultValue"],"sources":["/Users/macbookpro16/Desktop/cs222/client/node_modules/@syncfusion/ej2-maps/src/maps/utils/helper.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable max-len */\n/**\n * Helper functions for maps control\n */\nimport { createElement, isNullOrUndefined, remove, compile as templateComplier, merge } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { itemSelection } from '../../index';\nimport { animationComplete } from '../index';\nimport { markerClusterRendering } from '../index';\n/**\n * Maps internal use of `Size` type\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/**\n * To find number from string\n *\n * @param {string} value Specifies the value\n * @param {number} containerSize Specifies the container size\n * @returns {number} Returns the number\n * @private\n */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Method to calculate the width and height of the maps\n *\n * @param {Maps} maps Specifies the maps instance\n * @returns {void}\n */\nexport function calculateSize(maps) {\n    maps.element.style.height = !isNullOrUndefined(maps.height) ? maps.height : 'auto';\n    maps.element.style.width = !isNullOrUndefined(maps.width) ? maps.width : 'auto';\n    var containerWidth = maps.element.clientWidth;\n    var containerHeight = maps.element.clientHeight;\n    var containerElementWidth = stringToNumber(maps.element.style.width, containerWidth);\n    var containerElementHeight = stringToNumber(maps.element.style.height, containerHeight);\n    var availableSize = new Size(0, 0);\n    if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n        availableSize = new Size(0, 0);\n    }\n    else {\n        availableSize = new Size(stringToNumber(maps.width, containerWidth) || containerWidth || containerElementWidth || 600, stringToNumber(maps.height, containerHeight) || containerHeight || containerElementHeight || (maps.isDevice ?\n            Math.min(window.innerWidth, window.innerHeight) : 450));\n    }\n    return availableSize;\n}\n/**\n * Method to create svg for maps.\n *\n * @param {Maps} maps Specifies the map instance\n * @returns {void}\n */\nexport function createSvg(maps) {\n    maps.renderer = new SvgRenderer(maps.element.id);\n    maps.availableSize = calculateSize(maps);\n    maps.svgObject = maps.renderer.createSvg({\n        id: maps.element.id + '_svg',\n        width: maps.availableSize.width,\n        height: maps.availableSize.height\n    });\n    if (maps.width === '0px' || maps.width === '0%' || maps.height === '0%' || maps.height === '0px') {\n        maps.svgObject.setAttribute('height', '0');\n        maps.svgObject.setAttribute('width', '0');\n    }\n}\n/**\n * Method to get the mouse position\n *\n * @param {number} pageX - Specifies the pageX.\n * @param {number} pageY - Specifies the pageY.\n * @param {Element} element - Specifies the element.\n * @returns {MapLocation} - Returns the location.\n */\nexport function getMousePosition(pageX, pageY, element) {\n    var elementRect = element.getBoundingClientRect();\n    var pageXOffset = element.ownerDocument.defaultView.pageXOffset;\n    var pageYOffset = element.ownerDocument.defaultView.pageYOffset;\n    var clientTop = element.ownerDocument.documentElement.clientTop;\n    var clientLeft = element.ownerDocument.documentElement.clientLeft;\n    var positionX = elementRect.left + pageXOffset - clientLeft;\n    var positionY = elementRect.top + pageYOffset - clientTop;\n    return new MapLocation((pageX - positionX), (pageY - positionY));\n}\n/**\n * Method to convert degrees to radians\n *\n * @param {number} deg Specifies the degree value\n * @returns {number} Returns the number\n */\nexport function degreesToRadians(deg) {\n    return deg * (Math.PI / 180);\n}\n/**\n * Convert radians to degrees method\n *\n * @param {number} radian Specifies the radian value\n * @returns {number} Returns the number\n */\nexport function radiansToDegrees(radian) {\n    return radian * (180 / Math.PI);\n}\n/**\n * Method for converting from latitude and longitude values to points\n *\n * @param {number} latitude - Specifies the latitude.\n * @param {number} longitude - Specifies the longitude.\n * @param {number} factor - Specifies the factor.\n * @param {LayerSettings} layer - Specifies the layer settings.\n * @param {Maps} mapModel - Specifies the maps.\n * @returns {Point} - Returns the point values.\n */\nexport function convertGeoToPoint(latitude, longitude, factor, layer, mapModel) {\n    var mapSize = new Size(mapModel.mapAreaRect.width, mapModel.mapAreaRect.height);\n    var x;\n    var y;\n    var value;\n    var lat;\n    var lng;\n    var temp;\n    var longitudeMinMax = mapModel.baseMapBounds.longitude;\n    var latitudeMinMax = mapModel.baseMapBounds.latitude;\n    var latRadian = degreesToRadians(latitude);\n    var lngRadian = degreesToRadians(longitude);\n    var type = mapModel.projectionType;\n    var size = (mapModel.isTileMap) ? Math.pow(2, 1) * 256 : (isNullOrUndefined(factor)) ?\n        Math.min(mapSize.width, mapSize.height) : (Math.min(mapSize.width, mapSize.height) * factor);\n    if (layer.geometryType === 'Normal') {\n        x = isNullOrUndefined(factor) ? longitude : Math.abs((longitude - longitudeMinMax.min) * factor);\n        y = isNullOrUndefined(factor) ? latitude : Math.abs((latitudeMinMax.max - latitude) * factor);\n    }\n    else if (layer.geometryType === 'Geographic') {\n        switch (type) {\n            case 'Mercator': {\n                var pixelOrigin = new Point(size / 2, size / 2);\n                x = pixelOrigin.x + longitude * (size / 360);\n                var sinY = calculateBound(Math.sin(degreesToRadians(latitude)), -0.9999, 0.9999);\n                y = pixelOrigin.y + 0.5 * (Math.log((1 + sinY) / (1 - sinY))) * (-(size / (2 * Math.PI)));\n                break;\n            }\n            case 'Winkel3':\n                value = aitoff(lngRadian, latRadian);\n                lng = (value.x + lngRadian / (Math.PI / 2)) / 2;\n                lat = (value.y + latRadian) / 2;\n                break;\n            case 'Miller':\n                lng = lngRadian;\n                lat = (1.25 * Math.log(Math.tan((Math.PI / 4) + (.4 * latRadian))));\n                break;\n            case 'Eckert3':\n                temp = Math.sqrt(Math.PI * (4 + Math.PI));\n                lng = 2 / temp * lngRadian * (1 + Math.sqrt(1 - 4 * latRadian * latRadian / (Math.PI * Math.PI)));\n                lat = 4 / temp * latRadian;\n                break;\n            case 'AitOff':\n                value = aitoff(lngRadian, latRadian);\n                lng = value.x;\n                lat = value.y;\n                break;\n            case 'Eckert5':\n                lng = lngRadian * (1 + Math.cos(latRadian)) / Math.sqrt(2 + Math.PI);\n                lat = 2 * latRadian / Math.sqrt(2 + Math.PI);\n                break;\n            case 'Equirectangular':\n                lng = lngRadian;\n                lat = latRadian;\n                break;\n            case 'Eckert6': {\n                var epsilon = 1e-6;\n                temp = (1 + (Math.PI / 2)) * Math.sin(latRadian);\n                var delta = Infinity;\n                for (var i = 0; i < 10 && Math.abs(delta) > epsilon; i++) {\n                    delta = (latRadian + (Math.sin(latRadian)) - temp) / (1 + Math.cos(latRadian));\n                    latRadian = latRadian - delta;\n                }\n                temp = Math.sqrt(2 + Math.PI);\n                lng = lngRadian * (1 + Math.cos(latRadian)) / temp;\n                lat = 2 * latRadian / temp;\n                break;\n            }\n        }\n        x = (type === 'Mercator') ? x : roundTo(xToCoordinate(mapModel, radiansToDegrees(lng)), 3);\n        y = (type === 'Mercator') ? y : (-(roundTo(yToCoordinate(mapModel, radiansToDegrees(lat)), 3)));\n    }\n    return new Point(x, y);\n}\n/**\n * Converting tile latitude and longitude to point\n *\n * @param {MapLocation} center Specifies the map center location\n * @param {number} zoomLevel Specifies the zoom level\n * @param {MapLocation} tileTranslatePoint Specifies the tile translate point\n * @param {boolean} isMapCoordinates Specifies the boolean value\n * @returns {MapLocation} Returns the location value\n */\nexport function convertTileLatLongToPoint(center, zoomLevel, tileTranslatePoint, isMapCoordinates) {\n    var size = Math.pow(2, zoomLevel) * 256;\n    var x = (center.x + 180) / 360;\n    var sinLatitude = Math.sin(center.y * Math.PI / 180);\n    var y = 0.5 - Math.log((1 + sinLatitude) / (1 - sinLatitude)) / (4 * Math.PI);\n    var pixelX = center.x;\n    var pixelY = center.y;\n    if (isMapCoordinates) {\n        pixelX = (x * size + 0.5) + tileTranslatePoint.x;\n        pixelY = (y * size + 0.5) + tileTranslatePoint.y;\n    }\n    return { x: pixelX, y: pixelY };\n}\n/**\n * Method for calculate x point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function xToCoordinate(mapObject, val) {\n    var longitudeMinMax = mapObject.baseMapBounds.longitude;\n    var totalSize = isNullOrUndefined(mapObject.baseSize) ? mapObject.mapAreaRect.width : mapObject.mapAreaRect.width +\n        (Math.abs(mapObject.baseSize.width - mapObject.mapAreaRect.width) / 2);\n    return Math.round(totalSize * (val - longitudeMinMax.min) / (longitudeMinMax.max - longitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate y point\n *\n * @param {Maps} mapObject - Specifies the maps.\n * @param {number} val - Specifies the value.\n * @returns {number} - Returns the number.\n */\nexport function yToCoordinate(mapObject, val) {\n    var latitudeMinMax = mapObject.baseMapBounds.latitude;\n    return Math.round(mapObject.mapAreaRect.height * (val - latitudeMinMax.min) / (latitudeMinMax.max - latitudeMinMax.min) * 100) / 100;\n}\n/**\n * Method for calculate aitoff projection\n *\n * @param {number} x - Specifies the x value.\n * @param {number} y - Specifies the y value.\n * @returns {Point} - Returns the point value.\n */\nexport function aitoff(x, y) {\n    var cosy = Math.cos(y);\n    var sincia = sinci(acos(cosy * Math.cos(x /= 2)));\n    return new Point(2 * cosy * Math.sin(x) * sincia, Math.sin(y) * sincia);\n}\n/**\n * Method to round the number\n *\n * @param {number} a - Specifies the a value\n * @param {number} b - Specifies the b value\n * @returns {number} - Returns the number\n */\nexport function roundTo(a, b) {\n    var c = Math.pow(10, b);\n    return (Math.round(a * c) / c);\n}\n/**\n *\n * @param {number} x - Specifies the x value\n * @returns {number} - Returns the number\n */\nexport function sinci(x) {\n    return x / Math.sin(x);\n}\n/**\n *\n * @param {number} a - Specifies the a value\n * @returns {number} - Returns the number\n */\nexport function acos(a) {\n    return Math.acos(a);\n}\n/**\n * Method to calculate bound\n *\n * @param {number} value Specifies the value\n * @param {number} min Specifies the minimum value\n * @param {number} max Specifies the maximum value\n * @returns {number} Returns the value\n */\nexport function calculateBound(value, min, max) {\n    if (!isNullOrUndefined(min)) {\n        value = Math.max(value, min);\n    }\n    if (!(isNullOrUndefined(max))) {\n        value = Math.min(value, max);\n    }\n    return value;\n}\n/**\n * To trigger the download element\n *\n * @param {string} fileName Specifies the file name\n * @param {ExportType} type Specifies the type\n * @param {string} url Specifies the url\n * @param {boolean} isDownload Specifies whether download a file.\n * @returns {void}\n */\nexport function triggerDownload(fileName, type, url, isDownload) {\n    createElement('a', {\n        attrs: {\n            'download': fileName + '.' + type.toLocaleLowerCase(),\n            'href': url\n        }\n    }).dispatchEvent(new MouseEvent(isDownload ? 'click' : 'move', {\n        view: window,\n        bubbles: false,\n        cancelable: true\n    }));\n}\n/**\n * Map internal class for point\n */\nvar Point = /** @class */ (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return Point;\n}());\nexport { Point };\n/**\n * Map internal class for min and max\n *\n */\nvar MinMax = /** @class */ (function () {\n    function MinMax(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    return MinMax;\n}());\nexport { MinMax };\n/**\n * Map internal class locations\n */\nvar GeoLocation = /** @class */ (function () {\n    function GeoLocation(latitude, longitude) {\n        this.latitude = new MinMax(latitude.min, latitude.max);\n        this.longitude = new MinMax(longitude.min, longitude.max);\n    }\n    return GeoLocation;\n}());\nexport { GeoLocation };\n/**\n * Function to measure the height and width of the text.\n *\n * @param  {string} text Specifies the text\n * @param  {FontModel} font Specifies the font\n * @returns {Size} Returns the size\n * @private\n */\nexport function measureText(text, font) {\n    var measureObject = document.getElementById('mapsmeasuretext');\n    if (measureObject === null) {\n        measureObject = createElement('text', { id: 'mapsmeasuretext' });\n        document.body.appendChild(measureObject);\n    }\n    measureObject.innerHTML = text;\n    measureObject.style.position = 'absolute';\n    if (typeof (font.size) === 'number') {\n        measureObject.style.fontSize = (font.size) + 'px';\n    }\n    else {\n        measureObject.style.fontSize = font.size;\n    }\n    measureObject.style.fontWeight = font.fontWeight;\n    measureObject.style.fontStyle = font.fontStyle;\n    measureObject.style.fontFamily = font.fontFamily;\n    measureObject.style.visibility = 'hidden';\n    measureObject.style.top = '-100';\n    measureObject.style.left = '0';\n    measureObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    measureObject.style.lineHeight = 'normal';\n    return new Size(measureObject.clientWidth, measureObject.clientHeight);\n}\n/**\n * Internal use of text options\n *\n * @private\n */\nvar TextOption = /** @class */ (function () {\n    function TextOption(id, x, y, anchor, text, transform, baseLine) {\n        if (transform === void 0) { transform = ''; }\n        this.transform = '';\n        this.baseLine = 'auto';\n        this.id = id;\n        this.text = text;\n        this.transform = transform;\n        this.anchor = anchor;\n        this.x = x;\n        this.y = y;\n        this.baseLine = baseLine;\n    }\n    return TextOption;\n}());\nexport { TextOption };\n/**\n * Internal use of path options\n *\n * @private\n */\nvar PathOption = /** @class */ (function () {\n    function PathOption(id, fill, width, color, fillOpacity, strokeOpacity, dashArray, d) {\n        this.id = id;\n        this['fill-opacity'] = fillOpacity;\n        this['stroke-opacity'] = strokeOpacity;\n        this.fill = fill;\n        this.stroke = color;\n        this['stroke-width'] = width;\n        this['stroke-dasharray'] = dashArray;\n        this.d = d;\n    }\n    return PathOption;\n}());\nexport { PathOption };\n/** @private */\nvar ColorValue = /** @class */ (function () {\n    function ColorValue(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    return ColorValue;\n}());\nexport { ColorValue };\n/**\n * Internal use of rectangle options\n *\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, fillOpacity, rect, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height;\n        _this.width = rect.width;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        _this['stroke-dasharray'] = dashArray;\n        _this['fill-opacity'] = fillOpacity;\n        _this['stroke-opacity'] = border.opacity;\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Internal use of circle options\n *\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, fillOpacity, cx, cy, r, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, border.color, fillOpacity, border.opacity, dashArray) || this;\n        _this.cy = cy;\n        _this.cx = cx;\n        _this.r = r;\n        _this['stroke-dasharray'] = dashArray;\n        _this['fill-opacity'] = fillOpacity;\n        _this['stroke-opacity'] = border.opacity;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Internal use of polygon options\n *\n * @private\n */\nvar PolygonOption = /** @class */ (function (_super) {\n    __extends(PolygonOption, _super);\n    function PolygonOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n        _this.points = points;\n        return _this;\n    }\n    return PolygonOption;\n}(PathOption));\nexport { PolygonOption };\n/**\n * Internal use of polyline options\n *\n * @private\n */\nvar PolylineOption = /** @class */ (function (_super) {\n    __extends(PolylineOption, _super);\n    function PolylineOption(id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        return _super.call(this, id, points, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n    }\n    return PolylineOption;\n}(PolygonOption));\nexport { PolylineOption };\n/**\n * Internal use of line options\n *\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, fill, width, color, fillOpacity, strokeOpacity, dashArray) {\n        if (fillOpacity === void 0) { fillOpacity = 1; }\n        if (strokeOpacity === void 0) { strokeOpacity = 1; }\n        if (dashArray === void 0) { dashArray = ''; }\n        var _this = _super.call(this, id, fill, width, color, fillOpacity, strokeOpacity, dashArray) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Internal use of line\n *\n * @property {number} Line - Specifies the line class\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Internal use of map location type\n *\n */\nvar MapLocation = /** @class */ (function () {\n    function MapLocation(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MapLocation;\n}());\nexport { MapLocation };\n/**\n * Internal use of type rect\n *\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Internal use for pattern creation.\n *\n * @property {PatternOptions} PatternOptions - Specifies the pattern option class.\n */\nvar PatternOptions = /** @class */ (function () {\n    function PatternOptions(id, x, y, width, height, patternUnits, patternContentUnits, patternTransform, href) {\n        if (patternUnits === void 0) { patternUnits = 'userSpaceOnUse'; }\n        if (patternContentUnits === void 0) { patternContentUnits = 'userSpaceOnUse'; }\n        if (patternTransform === void 0) { patternTransform = ''; }\n        if (href === void 0) { href = ''; }\n        this.id = id;\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.patternUnits = patternUnits;\n        this.patternContentUnits = patternContentUnits;\n        this.patternTransform = patternTransform;\n        this.href = href;\n    }\n    return PatternOptions;\n}());\nexport { PatternOptions };\n/**\n * Internal rendering of text\n *\n * @param {TextOption} option Specifies the text option\n * @param {FontModel} style Specifies the style\n * @param {string} color Specifies the color\n * @param {HTMLElement | Element} parent Specifies the parent element\n * @param {boolean} isMinus Specifies the boolean value\n * @returns {Element} Returns the html object\n * @private\n */\nexport function renderTextElement(option, style, color, parent, isMinus) {\n    if (isMinus === void 0) { isMinus = false; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var renderOptions = {\n        'id': option.id,\n        'x': option.x,\n        'y': option.y,\n        'fill': color,\n        'font-size': style.size,\n        'font-style': style.fontStyle,\n        'font-family': style.fontFamily,\n        'font-weight': style.fontWeight,\n        'text-anchor': option.anchor,\n        'transform': option.transform,\n        'opacity': style.opacity,\n        'dominant-baseline': option.baseLine\n    };\n    var text = typeof option.text === 'string' || typeof option.text === 'number' ? option.text : isMinus ? option.text[option.text.length - 1] : option.text[0];\n    var tspanElement;\n    var renderer = new SvgRenderer('');\n    var height;\n    var htmlObject = renderer.createText(renderOptions, text);\n    htmlObject.style['user-select'] = 'none';\n    htmlObject.style['font-family'] = style.fontFamily;\n    htmlObject.style['font-size'] = style.size;\n    htmlObject.style['font-weight'] = style.fontWeight;\n    htmlObject.style['font-color'] = style.color;\n    htmlObject.style['-moz-user-select'] = 'none';\n    htmlObject.style['-webkit-touch-callout'] = 'none';\n    htmlObject.style['-webkit-user-select'] = 'none';\n    htmlObject.style['-khtml-user-select'] = 'none';\n    htmlObject.style['-ms-user-select'] = 'none';\n    htmlObject.style['-o-user-select'] = 'none';\n    if (typeof option.text !== 'string' && option.text.length > 1) {\n        for (var i = 1, len = option.text.length; i < len; i++) {\n            height = (measureText(option.text[i], style).height);\n            tspanElement = renderer.createTSpan({\n                'x': option.x, 'id': option.id,\n                'y': (option.y) + ((isMinus) ? -(i * height) : (i * height))\n            }, isMinus ? option.text[option.text.length - (i + 1)] : option.text[i]);\n            htmlObject.appendChild(tspanElement);\n        }\n    }\n    parent.appendChild(htmlObject);\n    return htmlObject;\n}\n/**\n * @param {HTMLCollection} element Specifies the html collection\n * @param {string} markerId Specifies the marker id\n * @param {any} data Specifies the data\n * @param {number} index Specifies the index\n * @param {Maps} mapObj Specifies the map object\n * @returns {HTMLCollection} Returns the html collection\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElement(element, markerId, data, index, mapObj) {\n    var childElement = createElement('div', {\n        id: markerId,\n        styles: 'position: absolute;pointer-events: auto;'\n    });\n    var elementLength = element.length;\n    while (elementLength > 0) {\n        childElement.appendChild(element[0]);\n        elementLength--;\n    }\n    var templateHtml = childElement.innerHTML;\n    var templateSplitValue;\n    var properties = Object.keys(data);\n    for (var i = 0; i < properties.length; i++) {\n        if (typeof data[properties[i]] === 'object') {\n            templateHtml = convertStringToValue(templateHtml, '', data, mapObj);\n            // eslint-disable-next-line @typescript-eslint/ban-types\n        }\n        else if (properties[i].toLowerCase() !== 'latitude' && properties[i].toLowerCase() !== 'longitude') {\n            templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n        }\n    }\n    childElement.innerHTML = templateHtml;\n    return childElement;\n}\n/**\n *\n * @param {string} value - Specifies the value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\nexport function formatValue(value, maps) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var formatValue;\n    var formatFunction;\n    if (maps.format && !isNaN(Number(value))) {\n        formatFunction = maps.intl.getNumberFormat({ format: maps.format, useGrouping: maps.useGroupingSeparator });\n        formatValue = formatFunction(Number(value));\n    }\n    else {\n        formatValue = value;\n    }\n    return formatValue;\n}\n/**\n *\n * @param {string} stringTemplate - Specifies the template\n * @param {string} format - Specifies the format\n * @param {any} data - Specifies the data\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertStringToValue(stringTemplate, format, data, maps) {\n    var templateHtml = (stringTemplate === '') ? format : stringTemplate;\n    var templateValue = (stringTemplate === '') ? templateHtml.split('${') : templateHtml.split('{{:');\n    for (var i = 0; i < templateValue.length; i++) {\n        if ((templateValue[i].indexOf('}}') > -1 && templateValue[i].indexOf('.') > -1) ||\n            (templateValue[i].indexOf('}') > -1 && templateValue[i].search('.') > -1)) {\n            var split = (stringTemplate === '') ? templateValue[i].split('}') : templateValue[i].split('}}');\n            for (var j = 0; j < split.length; j++) {\n                if (split[j].indexOf('.') > -1) {\n                    var templateSplitValue = (getValueFromObject(data, split[j])).toString();\n                    templateHtml = (stringTemplate === '') ?\n                        templateHtml.split('${' + split[j] + '}').join(formatValue(templateSplitValue, maps)) :\n                        templateHtml.replace(new RegExp('{{:' + split[j] + '}}', 'g'), templateSplitValue);\n                }\n            }\n        }\n    }\n    return templateHtml;\n}\n/**\n *\n * @param {Element} element - Specifies the element\n * @param {string} labelId - Specifies the label id\n * @param {any} data - Specifies the data\n * @param {number} index - Specifies the index\n * @param {Maps} mapObj - Specifies the map object\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function convertElementFromLabel(element, labelId, data, index, mapObj) {\n    var labelEle = isNullOrUndefined(element.childElementCount) ? element[0] : element;\n    var templateHtml = labelEle.outerHTML;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var properties = Object.keys(data);\n    for (var i = 0; i < properties.length; i++) {\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        templateHtml = templateHtml.replace(new RegExp('{{:' + properties[i] + '}}', 'g'), data[properties[i].toString()]);\n    }\n    return createElement('div', {\n        id: labelId,\n        innerHTML: templateHtml,\n        styles: 'position: absolute'\n    });\n}\n/**\n *\n * @param {MarkerType} shape - Specifies the shape\n * @param {string} imageUrl - Specifies the image url\n * @param {Point} location - Specifies the location\n * @param {string} markerID - Specifies the marker id\n * @param {any} shapeCustom - Specifies the shape custom\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function drawSymbols(shape, imageUrl, location, markerID, shapeCustom, markerCollection, maps) {\n    var markerEle;\n    var x;\n    var y;\n    var size = shapeCustom['size'];\n    var borderColor = shapeCustom['borderColor'];\n    var borderWidth = parseFloat(shapeCustom['borderWidth']);\n    var borderOpacity = parseFloat(shapeCustom['borderOpacity']);\n    var fill = shapeCustom['fill'];\n    var dashArray = shapeCustom['dashArray'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var border = { color: borderColor, width: borderWidth, opacity: borderOpacity };\n    var opacity = shapeCustom['opacity'];\n    var padding = 5;\n    var rectOptions;\n    var pathOptions = new PathOption(markerID, fill, borderWidth, borderColor, opacity, borderOpacity, dashArray, '');\n    size.width = typeof (size.width) === 'string' ? parseInt(size.width, 10) : size.width;\n    size.height = typeof (size.height) === 'string' ? parseInt(size.height, 10) : size.height;\n    if (shape === 'Circle') {\n        var radius = (size.width + size.height) / 4;\n        var circleOptions = new CircleOption(markerID, fill, border, opacity, location.x, location.y, radius, dashArray);\n        markerEle = maps.renderer.drawCircle(circleOptions);\n    }\n    else if (shape === 'Rectangle') {\n        x = location.x - (size.width / 2);\n        y = location.y - (size.height / 2);\n        rectOptions = new RectOption(markerID, fill, border, opacity, new Rect(x, y, size.width, size.height), null, null, '', dashArray);\n        markerEle = maps.renderer.drawRectangle(rectOptions);\n    }\n    else if (shape === 'Image') {\n        x = location.x - (size.width / 2);\n        y = location.y - size.height;\n        merge(pathOptions, { 'href': imageUrl, 'height': size.height, 'width': size.width, x: x, y: y });\n        markerEle = maps.renderer.drawImage(pathOptions);\n    }\n    else {\n        markerEle = calculateShapes(maps, shape, pathOptions, size, location, markerCollection);\n    }\n    return markerEle;\n}\n/**\n *\n * @param {any} data - Specifies the data\n * @param {string} value - Specifies the value\n * @returns {any} - Returns the data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getValueFromObject(data, value) {\n    if (!isNullOrUndefined(data) && !isNullOrUndefined(value)) {\n        var splits = value.replace(/\\[/g, '.').replace(/\\]/g, '').split('.');\n        if (splits.length === 1) {\n            data = data[splits[0]];\n        }\n        else {\n            for (var i = 0; i < splits.length && !isNullOrUndefined(data); i++) {\n                data = data[splits[i]];\n            }\n        }\n    }\n    return data;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerColorChoose(eventArgs, data) {\n    var color = (!isNullOrUndefined(eventArgs.colorValuePath)) ? ((eventArgs.colorValuePath.indexOf('.') > -1) ? (getValueFromObject(data, eventArgs.colorValuePath)).toString() :\n        data[eventArgs.colorValuePath]) : data[eventArgs.colorValuePath];\n    eventArgs.fill = (!isNullOrUndefined(eventArgs.colorValuePath) &&\n        !isNullOrUndefined(color)) ?\n        ((eventArgs.colorValuePath.indexOf('.') > -1) ? (getValueFromObject(data, eventArgs.colorValuePath)).toString() :\n            data[eventArgs.colorValuePath]) : eventArgs.fill;\n    return eventArgs;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the event arguments\n * @param {any} data - Specifies the data\n * @returns {IMarkerRenderingEventArgs} - Returns the arguments\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerShapeChoose(eventArgs, data) {\n    if (!isNullOrUndefined(eventArgs.shapeValuePath) && !isNullOrUndefined(data[eventArgs.shapeValuePath])) {\n        var shape = ((eventArgs.shapeValuePath.indexOf('.') > -1) ?\n            (getValueFromObject(data, eventArgs.shapeValuePath).toString()) :\n            data[eventArgs.shapeValuePath]);\n        eventArgs.shape = (shape.toString() !== \"\") ? shape : eventArgs.shape;\n        if (data[eventArgs.shapeValuePath] === 'Image') {\n            eventArgs.imageUrl = (!isNullOrUndefined(eventArgs.imageUrlValuePath)) ?\n                ((eventArgs.imageUrlValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : (!isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ?\n                    data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl)) : eventArgs.imageUrl;\n        }\n    }\n    else {\n        var shapes = (!isNullOrUndefined(eventArgs.shapeValuePath)) ? ((eventArgs.shapeValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.shapeValuePath).toString() : eventArgs.shape) : eventArgs.shape;\n        eventArgs.shape = (shapes.toString() !== \"\") ? shapes : eventArgs.shape;\n        var shapeImage = (!isNullOrUndefined(eventArgs.imageUrlValuePath)) ?\n            ((eventArgs.imageUrlValuePath.indexOf('.') > -1) ? getValueFromObject(data, eventArgs.imageUrlValuePath).toString() : (!isNullOrUndefined(data[eventArgs.imageUrlValuePath]) ?\n                data[eventArgs.imageUrlValuePath] : eventArgs.imageUrl)) : eventArgs.imageUrl;\n        eventArgs.imageUrl = shapeImage;\n    }\n    return eventArgs;\n}\n/**\n *\n * @param {LayerSettings} currentLayer - Specifies the current layer\n * @param {HTMLElement | Element} markerTemplate - Specifies the marker template\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} layerIndex - Specifies the layer index\n * @param {Element} markerCollection - Specifies the marker collection\n * @param {Element} layerElement - Specifies the layer element\n * @param {boolean} check - Specifies the boolean value\n * @param {boolean} zoomCheck - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterTemplate(currentLayer, markerTemplate, maps, layerIndex, markerCollection, layerElement, check, zoomCheck) {\n    var bounds1;\n    var bounds2;\n    var colloideBounds = [];\n    var clusterColloideBounds = [];\n    var tempX = 0;\n    var tempY = 0;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    var style = currentLayer.markerClusterSettings.labelStyle;\n    var options;\n    var textElement;\n    var tempElement1;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeCustom;\n    var tempElement;\n    var postionY = (15 / 4);\n    var m = 0;\n    var indexCollection = [];\n    var clusters = currentLayer.markerClusterSettings;\n    var clusterGroup = maps.renderer.createGroup({ id: maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster' });\n    var eventArg = {\n        cancel: false, name: markerClusterRendering, fill: clusters.fill, height: clusters.height,\n        width: clusters.width, imageUrl: clusters.imageUrl, shape: clusters.shape,\n        data: data, maps: maps, cluster: clusters, border: clusters.border\n    };\n    maps.trigger('markerClusterRendering', eventArg, function (clusterargs) {\n        for (var o = 0; o < markerTemplate.childElementCount; o++) {\n            indexCollection = [];\n            if (markerTemplate.childNodes[o]['style']['visibility'] !== 'hidden') {\n                tempElement = markerTemplate.childNodes[o];\n                bounds1 = tempElement.getBoundingClientRect();\n                indexCollection.push(o);\n                if (!isNullOrUndefined(bounds1)) {\n                    for (var p = o + 1; p < markerTemplate.childElementCount; p++) {\n                        if (markerTemplate.childNodes[p]['style']['visibility'] !== 'hidden') {\n                            tempElement = markerTemplate.childNodes[p];\n                            bounds2 = tempElement.getBoundingClientRect();\n                            if (!isNullOrUndefined(bounds2)) {\n                                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left\n                                    || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                                    colloideBounds.push(bounds2);\n                                    markerTemplate.childNodes[p]['style']['visibility'] = 'hidden';\n                                    indexCollection.push(p);\n                                }\n                            }\n                        }\n                    }\n                    tempX = bounds1.left + bounds1.width / 2;\n                    tempY = bounds1.top + bounds1.height;\n                    if (colloideBounds.length > 0) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        indexCollection = indexCollection.filter(function (item, index, value) { return value.indexOf(item) === index; });\n                        var container = maps.element.getBoundingClientRect();\n                        tempX = tempX - container['left'];\n                        tempY = (tempY - ((maps.availableSize.height <= container['height']) ?\n                            container['top'] : (container['bottom'] - container['top'])));\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var translate = (maps.isTileMap) ? new Object() : getTranslate(maps, currentLayer, false);\n                        var transPoint = (maps.isTileMap) ? { x: 0, y: 0 } : (maps.translatePoint.x !== 0) ?\n                            maps.translatePoint : translate['location'];\n                        var dataIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_dataIndex_')[1].split('_')[0], 10);\n                        var markerIndex = parseInt(markerTemplate.childNodes[o]['id'].split('_MarkerIndex_')[1].split('_')[0], 10);\n                        var markerSetting = currentLayer.markerSettings[markerIndex];\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var markerData = markerSetting.dataSource[dataIndex];\n                        var factor = void 0;\n                        var location_1 = void 0;\n                        var longitude = (!isNullOrUndefined(markerSetting.longitudeValuePath)) ?\n                            Number(getValueFromObject(markerData, markerSetting.longitudeValuePath)) :\n                            !isNullOrUndefined(markerData['longitude']) ? parseFloat(markerData['longitude']) :\n                                !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n                        var latitude = (!isNullOrUndefined(markerSetting.latitudeValuePath)) ?\n                            Number(getValueFromObject(markerData, markerSetting.latitudeValuePath)) :\n                            !isNullOrUndefined(markerData['latitude']) ? parseFloat(markerData['latitude']) :\n                                !isNullOrUndefined(markerData['Latitude']) ? parseFloat(markerData['Latitude']) : 0;\n                        if (!maps.isTileMap) {\n                            factor = maps.mapLayerPanel.calculateFactor(currentLayer);\n                            location_1 = convertGeoToPoint(latitude, longitude, factor, currentLayer, maps);\n                        }\n                        else if (maps.isTileMap && !maps.zoomSettings.enable) {\n                            location_1 = convertTileLatLongToPoint(new Point(longitude, latitude), maps.tileZoomLevel, maps.tileTranslatePoint, true);\n                        }\n                        markerTemplate.childNodes[o]['style']['visibility'] = 'hidden';\n                        var clusters_1 = currentLayer.markerClusterSettings;\n                        if (eventArg.cancel) {\n                            shapeCustom = {\n                                size: new Size(clusters_1.width, clusters_1.height),\n                                fill: clusters_1.fill, borderColor: clusters_1.border.color,\n                                borderWidth: clusters_1.border.width, opacity: clusters_1.opacity,\n                                dashArray: clusters_1.dashArray\n                            };\n                            shapeCustom['fill'] = clusters_1.fill;\n                            shapeCustom['size']['width'] = clusters_1.width;\n                            shapeCustom['size']['height'] = clusters_1.height;\n                            shapeCustom['imageUrl'] = clusters_1.imageUrl;\n                            shapeCustom['shape'] = clusters_1.shape;\n                            shapeCustom['borderColor'] = clusters_1.border.color;\n                            shapeCustom['borderWidth'] = clusters_1.border.width;\n                            shapeCustom['borderOpacity'] = isNullOrUndefined(clusters_1.border.opacity) ? clusters_1.opacity : clusters_1.border.opacity;\n                        }\n                        else {\n                            shapeCustom = {\n                                size: new Size(clusters_1.width, clusters_1.height),\n                                fill: clusters_1.fill, borderColor: clusters_1.border.color,\n                                borderWidth: clusters_1.border.width, opacity: clusters_1.opacity,\n                                dashArray: clusters_1.dashArray\n                            };\n                            shapeCustom['fill'] = eventArg.fill;\n                            shapeCustom['size']['width'] = eventArg.width;\n                            shapeCustom['size']['height'] = eventArg.height;\n                            shapeCustom['imageUrl'] = eventArg.imageUrl;\n                            shapeCustom['shape'] = eventArg.shape;\n                            shapeCustom['borderColor'] = eventArg.border.color;\n                            shapeCustom['borderWidth'] = eventArg.border.width;\n                            shapeCustom['borderOpacity'] = isNullOrUndefined(eventArg.border.opacity) ? clusters_1.opacity : eventArg.border.opacity;\n                        }\n                        tempX = (maps.isTileMap) ? tempX : (markerTemplate.id.indexOf('_Markers_Group') > -1) ? tempX : tempX + postionY - (eventArg.width / 2);\n                        tempY = (maps.isTileMap) ? tempY : (markerTemplate.id.indexOf('_Markers_Group') > -1) ? tempY : tempY - (eventArg.height / 2);\n                        if (maps.isTileMap && !maps.zoomSettings.enable) {\n                            tempX = location_1.x;\n                            tempY = location_1.y;\n                        }\n                        var clusterID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + (m);\n                        var labelID = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_cluster_' + (m) + '_datalabel_' + m;\n                        m++;\n                        var imageShapeY = shapeCustom['shape'] === 'Image' ? shapeCustom['size']['height'] / 2 : 0;\n                        var ele = drawSymbols(shapeCustom['shape'], shapeCustom['imageUrl'], { x: 0, y: imageShapeY }, clusterID, shapeCustom, markerCollection, maps);\n                        ele.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n                        if (eventArg.shape === 'Balloon') {\n                            ele.children[0].innerHTML = indexCollection.toString();\n                        }\n                        else {\n                            ele.innerHTML = indexCollection.toString();\n                        }\n                        options = new TextOption(labelID, (0), postionY, 'middle', (colloideBounds.length + 1).toString(), '', '');\n                        textElement = renderTextElement(options, style, style.color, markerCollection);\n                        textElement.setAttribute('transform', 'translate( ' + tempX + ' ' + tempY + ' )');\n                        clusterGroup.appendChild(textElement);\n                        clusterGroup.appendChild(ele);\n                    }\n                }\n                colloideBounds = [];\n            }\n        }\n        layerElement.appendChild(clusterGroup);\n        maps.svgObject.appendChild(layerElement);\n        maps.element.appendChild(maps.svgObject);\n        for (var o = 0; o < clusterGroup.childElementCount; o++) {\n            if (clusterGroup.childNodes[o]['style']['visibility'] !== 'hidden') {\n                tempElement = clusterGroup.childNodes[o];\n                bounds1 = tempElement.getBoundingClientRect();\n                if (!isNullOrUndefined(bounds1) && !(tempElement.id.indexOf('_datalabel_') > -1)) {\n                    for (var p = o + 1; p < clusterGroup.childElementCount; p++) {\n                        if (clusterGroup.childNodes[p]['style']['visibility'] !== 'hidden') {\n                            tempElement1 = clusterGroup.childNodes[p];\n                            bounds2 = tempElement1.getBoundingClientRect();\n                            if (!isNullOrUndefined(bounds2) && !(tempElement1.id.indexOf('_datalabel_') > -1)) {\n                                if (!(bounds1.left > bounds2.right || bounds1.right < bounds2.left\n                                    || bounds1.top > bounds2.bottom || bounds1.bottom < bounds2.top)) {\n                                    clusterColloideBounds.push(tempElement1);\n                                    clusterColloideBounds.push(clusterGroup.childNodes[p - 1]);\n                                    clusterGroup.childNodes[p]['style']['visibility'] = 'hidden';\n                                    clusterGroup.childNodes[p - 1]['style']['visibility'] = 'hidden';\n                                    indexCollection.push(p);\n                                }\n                            }\n                        }\n                    }\n                    if (clusterColloideBounds.length > 0) {\n                        tempElement = clusterGroup.childNodes[o];\n                        for (var i = 0; i < clusterColloideBounds.length; i++) {\n                            if (tempElement.tagName === 'g') {\n                                tempElement.childNodes[0].textContent = tempElement.childNodes[0].textContent + ',' +\n                                    clusterColloideBounds[i].textContent;\n                            }\n                            else {\n                                tempElement.textContent = tempElement.textContent + ',' + clusterColloideBounds[i].textContent;\n                            }\n                            clusterGroup.childNodes[o - 1].textContent = ((+(clusterGroup.childNodes[o - 1].textContent)) + (+(clusterColloideBounds[i + 1].textContent))).toString();\n                            i++;\n                        }\n                    }\n                    clusterColloideBounds = [];\n                }\n            }\n        }\n        while (0 < clusterGroup.childNodes.length) {\n            markerCollection.insertBefore(clusterGroup.childNodes[0], markerCollection.firstChild);\n        }\n        if (check) {\n            layerElement.appendChild(markerCollection);\n        }\n        else {\n            getElementByID(maps.element.id + '_Secondary_Element').appendChild(markerCollection);\n            layerElement.appendChild(markerCollection);\n        }\n        var markerCluster = document.getElementById(maps.element.id + '_LayerIndex_' + layerIndex + '_markerCluster');\n        if (!isNullOrUndefined(markerCluster)) {\n            markerCluster.remove();\n        }\n        if (zoomCheck) {\n            var layerGroupElement = document.getElementById(maps.element.id + '_Layer_Collections');\n            if (!isNullOrUndefined(layerGroupElement)) {\n                layerGroupElement.appendChild(layerElement);\n            }\n        }\n    });\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @returns {void}\n */\nexport function mergeSeparateCluster(sameMarkerData, maps, markerElement) {\n    var layerIndex = sameMarkerData[0].layerIndex;\n    var clusterIndex = sameMarkerData[0].targetClusterIndex;\n    var markerIndex = sameMarkerData[0].markerIndex;\n    var dataIndex = sameMarkerData[0].dataIndex;\n    var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n    var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n    var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n    var clusterEle = maps.layers[layerIndex].markerClusterSettings.shape === 'Balloon' ? getElement(clusterId + '_Group') : getElement(clusterId);\n    var clusterEleLabel = getElement(clusterId + '_datalabel_' + clusterIndex);\n    clusterEle.setAttribute('visibility', 'visible');\n    clusterEleLabel.setAttribute('visibility', 'visible');\n    var markerEle;\n    var markerDataLength = sameMarkerData[0].data.length;\n    for (var i = 0; i < markerDataLength; i++) {\n        markerEle = marker.shape === 'Balloon' ? getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index'] + '_Group') : getElement(markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n        markerEle['style']['visibility'] = 'hidden';\n    }\n    removeElement(maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine');\n}\n/**\n *\n * @param {MarkerClusterData[]} sameMarkerData - Specifies the marker data\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element | HTMLElement} markerElement - Specifies the marker element\n * @param {boolean} isDom - Specifies the boolean value\n * @returns {void}\n */\nexport function clusterSeparate(sameMarkerData, maps, markerElement, isDom) {\n    var layerIndex = sameMarkerData[0].layerIndex;\n    var markerIndex = sameMarkerData[0].markerIndex;\n    var clusterIndex = sameMarkerData[0].targetClusterIndex;\n    var dataIndex = sameMarkerData[0].dataIndex;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var getElementFunction = isDom ? getElement : markerElement.querySelector.bind(markerElement);\n    var getQueryConnect = isDom ? '' : '#';\n    var markerId = maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex;\n    var marker = maps.layers[layerIndex].markerSettings[markerIndex];\n    var clusterId = markerId + '_dataIndex_' + dataIndex + '_cluster_' + clusterIndex;\n    var clusterEle = maps.layers[layerIndex].markerClusterSettings.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + clusterId + '_Group') : getElementFunction(getQueryConnect + '' + clusterId);\n    var clusterEleLabel = getElementFunction(getQueryConnect + '' + clusterId + '_datalabel_' + clusterIndex);\n    clusterEle.setAttribute('visibility', 'hidden');\n    clusterEleLabel.setAttribute('visibility', 'hidden');\n    var markerEle = marker.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex + '_Group') : getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + dataIndex);\n    var height = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().height : marker.height;\n    var width = markerEle.parentElement.id.indexOf('Template_Group') > -1 ? markerEle.getBoundingClientRect().width : marker.width;\n    var centerX = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[0];\n    var centerY = +clusterEle.getAttribute('transform').split('translate(')[1].trim().split(' ')[1].split(')')[0].trim();\n    var radius = width + 5;\n    var area = 2 * 3.14 * radius;\n    var totalMarker = 0;\n    var numberOfMarker = Math.round(area / width);\n    totalMarker += numberOfMarker;\n    var markerDataLength = sameMarkerData[0].data.length;\n    var percent = Math.round((height / area) * 100);\n    percent = markerDataLength < numberOfMarker ? 100 / markerDataLength : percent;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var angle = (percent / 100) * 360;\n    var newAngle = markerDataLength < numberOfMarker ? 45 : 0;\n    var count = 1;\n    var start = 'M ' + centerX + ' ' + centerY + ' ';\n    var path = '';\n    for (var i = 0; i < markerDataLength; i++) {\n        if (totalMarker === i || Math.round(newAngle) >= 360) {\n            count++;\n            radius = (width + 5) * count;\n            newAngle = 0;\n            area = 2 * 3.14 * radius;\n            numberOfMarker = Math.round(area / height);\n            percent = Math.round((height / area) * 100);\n            while (percent * numberOfMarker < 100) {\n                numberOfMarker++;\n            }\n            angle = ((percent / 100) * 360);\n            totalMarker += numberOfMarker;\n        }\n        var x1 = centerX + radius * Math.sin((Math.PI * 2 * newAngle) / 360);\n        var y1 = centerY + radius * Math.cos((Math.PI * 2 * newAngle) / 360);\n        path += start + 'L ' + (x1) + ' ' + y1 + ' ';\n        markerEle = marker.shape === 'Balloon' ? getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index'] + '_Group') : getElementFunction(getQueryConnect + '' + markerId + '_dataIndex_' + sameMarkerData[0].data[i]['index']);\n        if (markerEle.parentElement.id.indexOf('Template_Group') > -1) {\n            markerEle['style']['transform'] = '';\n            markerEle['style']['left'] = maps.isTileMap ? x1 - (width / 2) + 'px' : (x1 - (width / 2) - 10) + 'px';\n            markerEle['style']['top'] = maps.isTileMap ? y1 - (height / 2) + 'px' : (y1 - (height / 2) - 10) + 'px';\n            markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n        }\n        else {\n            markerEle.setAttribute('transform', 'translate( ' + x1 + ' ' + y1 + ')');\n        }\n        markerEle['style']['visibility'] = 'visible';\n        newAngle += angle;\n    }\n    var connectorLine = maps.layers[layerIndex].markerClusterSettings.connectorLineSettings;\n    var options = {\n        d: path, id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + dataIndex + '_markerClusterConnectorLine', stroke: connectorLine.color,\n        'fill-opacity': connectorLine.opacity, 'stroke-opacity': connectorLine.opacity, 'stroke-width': connectorLine.width\n    };\n    markerElement = isDom ? getElementFunction(maps.element.id + '_Markers_Group') : markerElement;\n    var groupEle = maps.renderer.createGroup({ id: maps.element.id + '_LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_markerClusterConnectorLine' });\n    groupEle.appendChild(maps.renderer.drawPath(options));\n    if (marker.shape === 'Balloon') {\n        markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0_Group'));\n    }\n    else {\n        markerElement.insertBefore(groupEle, markerElement.querySelector('#' + markerId + '_dataIndex_0'));\n    }\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {MarkerSettings} markerSettings - Specifies the marker settings\n * @param {any[]} markerData - Specifies the marker data\n * @param {number} dataIndex - Specifies the data index\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point\n * @param {string} markerID - Specifies the marker id\n * @param {Point} offset - Specifies the offset value\n * @param {number} scale - Specifies the scale value\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {Element} markerCollection - Specifies the marker collection\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function marker(eventArgs, markerSettings, markerData, dataIndex, location, transPoint, markerID, offset, scale, maps, markerCollection) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeCustom = {\n        size: new Size(eventArgs.width, eventArgs.height),\n        fill: eventArgs.fill, borderColor: eventArgs.border.color,\n        borderWidth: eventArgs.border.width, opacity: markerSettings.opacity,\n        dashArray: markerSettings.dashArray, borderOpacity: isNullOrUndefined(eventArgs.border.opacity) ? markerSettings.opacity :\n            eventArgs.border.opacity\n    };\n    removeElement(markerID);\n    var ele = drawSymbols(eventArgs.shape, eventArgs.imageUrl, { x: 0, y: 0 }, markerID, shapeCustom, markerCollection, maps);\n    var x = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x;\n    var y = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y;\n    ele.setAttribute('transform', 'translate( ' + x + ' ' + y + ' )');\n    maintainSelection(maps.selectedMarkerElementId, maps.markerSelectionClass, ele, 'MarkerselectionMapStyle');\n    markerCollection.appendChild(ele);\n    var element = (markerData.length - 1) === dataIndex ? 'marker' : null;\n    var markerPoint = new Point(x, y);\n    if (markerSettings.animationDuration > 0) {\n        elementAnimate(ele, markerSettings.animationDelay, markerSettings.animationDuration, markerPoint, maps, element);\n    }\n    return markerCollection;\n}\n/**\n *\n * @param {IMarkerRenderingEventArgs} eventArgs - Specifies the arguments\n * @param {any} templateFn - Specifies the template function\n * @param {string} markerID - Specifies the marker id\n * @param {any} data - Specifies the data\n * @param {number} markerIndex - Specifies the marker index\n * @param {HTMLElement} markerTemplate - Specifies the marker template element\n * @param {Point} location - Specifies the location\n * @param {Point} transPoint - Specifies the translate point.\n * @param {number} scale - Specifies the scale value\n * @param {Point} offset - Specifies the offset value\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {HTMLElement} - Returns the html element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function markerTemplate(eventArgs, templateFn, markerID, data, markerIndex, markerTemplate, location, transPoint, scale, offset, maps) {\n    templateFn = getTemplateFunction(eventArgs.template, maps);\n    if (templateFn && (templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false).length)) {\n        var templateElement = templateFn(data, maps, eventArgs.template, maps.element.id + '_MarkerTemplate' + markerIndex, false);\n        var markerElement = convertElement(templateElement, markerID, data, markerIndex, maps);\n        for (var i = 0; i < markerElement.children.length; i++) {\n            markerElement.children[i].style.pointerEvents = 'none';\n        }\n        markerElement.style.left = (maps.isTileMap ? location.x : (location.x + transPoint.x) * scale) + offset.x - maps.mapAreaRect.x + 'px';\n        markerElement.style.top = (maps.isTileMap ? location.y : (location.y + transPoint.y) * scale) + offset.y - maps.mapAreaRect.y + 'px';\n        markerTemplate.appendChild(markerElement);\n        if (maps.layers[maps.baseLayerIndex].layerType === 'GoogleStaticMap') {\n            var staticMapOffset = getElementByID(maps.element.id + '_StaticGoogleMap').getBoundingClientRect();\n            var markerElementOffset = markerElement.getBoundingClientRect();\n            var staticMapOffsetWidth = 640;\n            if ((staticMapOffset['x'] > markerElementOffset['x'] || staticMapOffset['x'] + staticMapOffsetWidth < markerElementOffset['x'] + markerElementOffset['width'])\n                && (staticMapOffset['y'] > markerElementOffset['y'] || staticMapOffset['y'] + staticMapOffset['height'] < markerElementOffset['y'] + markerElementOffset['height'])) {\n                markerElement.style.display = 'none';\n            }\n        }\n    }\n    return markerTemplate;\n}\n/**\n * To maintain selection during page resize\n *\n * @param {string[]} elementId - Specifies the element id\n * @param {Element} elementClass - Specifies the element class\n * @param {Element} element - Specifies the element\n * @param {string} className - Specifies the class name\n * @returns {void}\n * @private\n */\nexport function maintainSelection(elementId, elementClass, element, className) {\n    if (elementId) {\n        for (var index = 0; index < elementId.length; index++) {\n            if (element.getAttribute('id') === elementId[index]) {\n                if (index === 0 || element.tagName === 'g') {\n                    if (!isNullOrUndefined(elementClass) && !isNullOrUndefined(elementClass.id)) {\n                        document.body.appendChild(elementClass);\n                    }\n                    if (element.id.indexOf('_MarkerIndex_') > -1 && element.childElementCount > 0) {\n                        element.children[0].setAttribute('class', className);\n                    }\n                }\n                element.setAttribute('class', className);\n            }\n        }\n    }\n}\n/**\n * To maintain selection style class\n *\n * @param {string} id - Specifies the id\n * @param {string} idClass - Specifies the class id\n * @param {string} fill - Specifies the fill\n * @param {string} opacity - Specifies the opactiy\n * @param {string} borderColor - Specifies the border color\n * @param {string} borderWidth - Specifies the border width\n * @param {Maps} maps - Specifies the maps\n * @returns {void}\n * @private\n */\nexport function maintainStyleClass(id, idClass, fill, opacity, borderColor, borderWidth, maps) {\n    if (!getElement(id)) {\n        var styleClass = createElement('style', {\n            id: id, innerHTML: '.' + idClass + '{fill:'\n                + fill + ';' + 'opacity:' + opacity + ';' +\n                'stroke-width:' + borderWidth + ';' +\n                'stroke:' + borderColor + ';' + '}'\n        });\n        maps.shapeSelectionClass = styleClass;\n        document.body.appendChild(styleClass);\n    }\n}\n/**\n * Internal use of append shape element\n *\n * @param {Element} shape - Specifies the shape\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function appendShape(shape, element) {\n    if (element) {\n        element.appendChild(shape);\n    }\n    return shape;\n}\n/**\n * Internal rendering of Circle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {CircleOption} options - Specifies the circle options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCircle(maps, options, element) {\n    return appendShape(maps.renderer.drawCircle(options), element);\n}\n/**\n * Internal rendering of Rectangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {RectOption} options - Specifies the rect options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawRectangle(maps, options, element) {\n    return appendShape(maps.renderer.drawRectangle(options), element);\n}\n/**\n * Internal rendering of Path\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPath(maps, options, element) {\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Polygon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolygonOption} options - Specifies the polygon options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolygon(maps, options, element) {\n    return appendShape(maps.renderer.drawPolygon(options), element);\n}\n/**\n * Internal rendering of Polyline\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PolylineOption} options - Specifies the poly line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPolyline(maps, options, element) {\n    return appendShape(maps.renderer.drawPolyline(options), element);\n}\n/**\n * Internal rendering of Line\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {LineOption} options - Specifies the line options\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawLine(maps, options, element) {\n    return appendShape(maps.renderer.drawLine(options), element);\n}\n/**\n * Calculate marker shapes\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {MarkerType} shape - Specifies the marker type\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} markerEle - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function calculateShapes(maps, shape, options, size, location, markerEle) {\n    var tempGroup;\n    switch (shape) {\n        case 'Balloon':\n            tempGroup = drawBalloon(maps, options, size, location, 'Marker', markerEle);\n            break;\n        case 'Cross':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height\n                / 2) + ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n            break;\n        case 'Diamond':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' '\n                + location.y + ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + location.y + ' Z';\n            break;\n        case 'Star':\n            options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6)\n                + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n            break;\n        case 'Triangle':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n            break;\n        case 'HorizontalLine':\n            options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' '\n                + location.y;\n            break;\n        case 'VerticalLine':\n            options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2);\n            break;\n        case 'InvertedTriangle':\n            options.d = 'M ' + (location.x - size.width / 2) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n                (location.y - size.height / 2) + ' L ' + (location.x) + ' ' + (location.y + size.height / 2) + ' Z';\n            break;\n        case 'Pentagon':\n            // eslint-disable-next-line no-case-declarations\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i < 5; i++) {\n                xValue = (size.width / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (size.height / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                options.d += (i === 0 ? 'M ' : 'L ') + (location.x + xValue) + ' ' + (location.y + yValue);\n            }\n            options.d += ' Z';\n            break;\n    }\n    if (shape === 'Cross' || shape === 'HorizontalLine' || shape === 'VerticalLine') {\n        options['stroke'] = (options['stroke'] === 'transparent') ? options['fill'] : options['stroke'];\n    }\n    return shape === 'Balloon' ? tempGroup : maps.renderer.drawPath(options);\n}\n/**\n * Internal rendering of Diamond\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawDiamond(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' + location.y +\n        ' L ' + location.x + ' ' + (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + location.y + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Triangle\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawTriangle(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + (location.x + size.width / 2) + ' ' +\n        (location.y + size.height / 2) + ' L ' + (location.x - size.width / 2) + ' ' + (location.y + size.height / 2) + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Cross\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawCross(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2) +\n        ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of HorizontalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawHorizontalLine(maps, options, size, location, element) {\n    options.d = ' M ' + (location.x - size.width / 2) + ' ' + location.y + ' L ' + (location.x + size.width / 2) + ' ' + location.y;\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of VerticalLine\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawVerticalLine(maps, options, size, location, element) {\n    options.d = 'M ' + location.x + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2);\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Star\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawStar(maps, options, size, location, element) {\n    options.d = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n        + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6) + ' L '\n        + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' + (location.y + size.height / 2)\n        + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n    return appendShape(maps.renderer.drawPath(options), element);\n}\n/**\n * Internal rendering of Balloon\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PathOption} options - Specifies the path options\n * @param {Size} size - Specifies the size\n * @param {MapLocation} location - Specifies the map location\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawBalloon(maps, options, size, location, type, element) {\n    var width = size.width;\n    var height = size.height;\n    var pathElement;\n    location.x -= width / 2;\n    location.y -= height;\n    options.d = 'M15,0C8.8,0,3.8,5,3.8,11.2C3.8,17.5,9.4,24.4,15,30c5.6-5.6,11.2-12.5,11.2-18.8C26.2,5,21.2,0,15,0z M15,16' +\n        'c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S17.8,16,15,16z';\n    var balloon = maps.renderer.drawPath(options);\n    var x = size.width / 30;\n    var y = size.height / 30;\n    balloon.setAttribute('transform', 'translate(' + location.x + ', ' + location.y + ') scale(' + x + ', ' + y + ')');\n    if (type === 'Marker') {\n        var g = maps.renderer.createGroup({ id: options.id + '_Group' });\n        appendShape(balloon, g);\n        pathElement = appendShape(g, element);\n    }\n    else {\n        pathElement = balloon;\n    }\n    return pathElement;\n}\n/**\n * Internal rendering of Pattern\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {PatternOptions} options - Specifies the pattern options\n * @param {Element[]} elements - Specifies the elements\n * @param {Element} element - Specifies the element\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawPattern(maps, options, elements, element) {\n    var pattern = maps.renderer.createPattern(options, 'pattern');\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n        var ele = elements_1[_i];\n        appendShape(ele, pattern);\n    }\n    return appendShape(pattern, element);\n}\n/**\n * Method to get specific field and vaues from data.\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {string[]} fields - Specifies the fields\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getFieldData(dataSource, fields) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var newData = [];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n        var temp = dataSource_1[_i];\n        data = {};\n        for (var _a = 0, fields_1 = fields; _a < fields_1.length; _a++) {\n            var field = fields_1[_a];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (temp[field]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                data[field] = temp[field];\n            }\n        }\n        newData.push(data);\n    }\n    return newData;\n}\n/**\n * To find the index of dataSource from shape properties\n *\n * @param {any[]} dataSource - Specifies the data source\n * @param {any} properties - Specifies the properties\n * @param {string} dataPath - Specifies the data path\n * @param {string | string[]} propertyPath - Specifies the property path\n * @param {LayerSettingsModel} layer - Specifies the layer settings\n * @returns {number} - Returns the number\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkShapeDataFields(dataSource, properties, dataPath, propertyPath, layer) {\n    if (!(isNullOrUndefined(properties))) {\n        for (var i = 0; i < dataSource.length; i++) {\n            var shapeDataPath = ((dataPath.indexOf('.') > -1) ? getValueFromObject(dataSource[i], dataPath) :\n                dataSource[i][dataPath]);\n            var shapePath = checkPropertyPath(shapeDataPath, propertyPath, properties);\n            var shapeDataPathValue = !isNullOrUndefined(shapeDataPath) && isNaN(properties[shapePath])\n                ? (typeof shapeDataPath === 'string' ? shapeDataPath.toLowerCase() : shapeDataPath) : shapeDataPath;\n            var propertiesShapePathValue = !isNullOrUndefined(properties[shapePath]) && isNaN(properties[shapePath])\n                ? properties[shapePath].toLowerCase() : properties[shapePath];\n            if (shapeDataPathValue === propertiesShapePathValue) {\n                return i;\n            }\n        }\n    }\n    return null;\n}\n/**\n *\n * @param {string} shapeData - Specifies the shape data\n * @param {string | string[]} shapePropertyPath -  Specifies the shape property path\n * @param {any} shape -  Specifies the shape\n * @returns {string} - Returns the string value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function checkPropertyPath(shapeData, shapePropertyPath, shape) {\n    if (!isNullOrUndefined(shapeData) && !isNullOrUndefined(shape)) {\n        if (!isNullOrUndefined(shapePropertyPath)) {\n            var length_1;\n            var properties = (Object.prototype.toString.call(shapePropertyPath) === '[object Array]' ?\n                shapePropertyPath : [shapePropertyPath]);\n            for (var i = 0; i < properties.length; i++) {\n                var shapeDataValue = !isNullOrUndefined(shapeData) && typeof shapeData === 'string' ?\n                    shapeData.toLowerCase() : shapeData;\n                var shapePropertiesValue = !isNullOrUndefined(shape[properties[i]])\n                    && isNaN(shape[properties[i]])\n                    ? shape[properties[i]].toLowerCase() : shape[properties[i]];\n                if (shapeDataValue === shapePropertiesValue) {\n                    return properties[i];\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\n *\n * @param {MapLocation[]} points - Specifies the location\n * @param {number} start - Specifies the start value\n * @param {number} end - Specifies the end value\n * @returns {MapLocation[]} - Returns the location\n */\nexport function filter(points, start, end) {\n    var pointObject = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        if (start <= point.y && end >= point.y) {\n            pointObject.push(point);\n        }\n    }\n    return pointObject;\n}\n/**\n *\n * @param {number} min - Specifies the min value\n * @param {number} max - Specifies the max value\n * @param {number} value - Specifies the value\n * @param {number} minValue - Specifies the minValue\n * @param {number} maxValue -Specifies the maxValue\n * @returns {number} - Returns the number\n */\nexport function getRatioOfBubble(min, max, value, minValue, maxValue) {\n    var percent = (100 / (maxValue - minValue)) * (value - minValue);\n    var bubbleRadius = (((max - min) / 100) * percent) + min;\n    if (maxValue === minValue) {\n        bubbleRadius = (((max - min) / 100)) + min;\n    }\n    return bubbleRadius;\n}\n/**\n * To find the midpoint of the polygon from points\n *\n * @param {MapLocation[]} points - Specifies the points\n * @param {string} type - Specifies the type\n * @param {string} geometryType - Specified the type of the geometry\n * @returns {any} - Specifies the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function findMidPointOfPolygon(points, type, geometryType) {\n    if (!points.length) {\n        return null;\n    }\n    var min = 0;\n    var max = points.length;\n    var startX;\n    var startY;\n    var startX1;\n    var startY1;\n    var sum = 0;\n    var xSum = 0;\n    var ySum = 0;\n    for (var i = min; i <= max - 1; i++) {\n        startX = points[i].x;\n        startY = type === 'Mercator' || geometryType === 'Normal' ? points[i].y : -(points[i].y);\n        if (i === max - 1) {\n            startX1 = points[0].x;\n            startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[0].y : -(points[0].y);\n        }\n        else {\n            startX1 = points[i + 1].x;\n            startY1 = type === 'Mercator' || geometryType === 'Normal' ? points[i + 1].y : -(points[i + 1].y);\n        }\n        sum = sum + Math.abs(((startX * startY1)) - (startX1 * startY));\n        xSum = xSum + Math.abs(((startX + startX1) * (((startX * startY1) - (startX1 * startY)))));\n        ySum = ySum + Math.abs(((startY + startY1) * (((startX * startY1) - (startX1 * startY)))));\n    }\n    sum = 0.5 * sum;\n    xSum = (1 / (4 * sum)) * xSum;\n    ySum = (1 / (4 * sum)) * ySum;\n    /* Code for finding nearest points in polygon related to midPoint*/\n    var rightMinPoint = { x: 0, y: 0 };\n    var rightMaxPoint = { x: 0, y: 0 };\n    var leftMinPoint = { x: 0, y: 0 };\n    var leftMaxPoint = { x: 0, y: 0 };\n    var bottomMinPoint = { x: 0, y: 0 };\n    var bottomMaxPoint = { x: 0, y: 0 };\n    var topMinPoint = { x: 0, y: 0 };\n    var topMaxPoint = { x: 0, y: 0 };\n    var height = 0;\n    for (var i = min; i <= max - 1; i++) {\n        var point = points[i];\n        point.y = type === 'Mercator' || geometryType === 'Normal' ? point.y : -(point.y);\n        if (point.y > ySum) {\n            if (point.x < xSum && xSum - point.x < xSum - bottomMinPoint.x) {\n                bottomMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.x > xSum && (bottomMaxPoint.x === 0 || point.x - xSum < bottomMaxPoint.x - xSum)) {\n                bottomMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        else {\n            if (point.x < xSum && xSum - point.x < xSum - topMinPoint.x) {\n                topMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.x > xSum && (topMaxPoint.x === 0 || point.x - xSum < topMaxPoint.x - xSum)) {\n                topMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        height = (bottomMaxPoint.y - topMaxPoint.y) + ((bottomMaxPoint.y - topMaxPoint.y) / 4);\n        if (point.x > xSum) {\n            if (point.y < ySum && ySum - point.y < ySum - rightMinPoint.y) {\n                rightMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.y > ySum && (rightMaxPoint.y === 0 || point.y - ySum < rightMaxPoint.y - ySum)) {\n                rightMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n        else {\n            if (point.y < ySum && ySum - point.y < ySum - leftMinPoint.y) {\n                leftMinPoint = { x: point.x, y: point.y };\n            }\n            else if (point.y > ySum && (leftMaxPoint.y === 0 || point.y - ySum < leftMaxPoint.y - ySum)) {\n                leftMaxPoint = { x: point.x, y: point.y };\n            }\n        }\n    }\n    return {\n        x: xSum, y: ySum, rightMin: rightMinPoint, rightMax: rightMaxPoint,\n        leftMin: leftMinPoint, leftMax: leftMaxPoint, points: points, topMax: topMaxPoint, topMin: topMinPoint,\n        bottomMax: bottomMaxPoint, bottomMin: bottomMinPoint, height: height\n    };\n}\n/**\n * Check custom path\n *\n * @param {any[]} layerData - Specifies the layer data\n * @returns {boolean} - Returns the boolean vlue\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isCustomPath(layerData) {\n    var customPath = false;\n    if (Object.prototype.toString.call(layerData) === '[object Array]') {\n        Array.prototype.forEach.call(layerData, function (layer, index) {\n            if (!isNullOrUndefined(layer['geometry']) && layer['geometry']['type'] === 'Path') {\n                customPath = true;\n            }\n        });\n    }\n    return customPath;\n}\n/**\n * Trim the title text\n *\n * @param {number} maxWidth - Specifies the maximum width\n * @param {string} text - Specifies the text\n * @param {FontModel} font - Specifies the font\n * @returns {string} - Returns the string\n * @private\n */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth || label.length < 4) {\n                if (label.length < 4) {\n                    label = ' ';\n                }\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/**\n * Method to calculate x position of title\n *\n * @param {Rect} location - Specifies the location\n * @param {Alignment} alignment - Specifies the alignment\n * @param {Size} textSize - Specifies the text size\n * @param {string} type - Specifies the type\n * @returns {Point} - Returns the point values\n */\nexport function findPosition(location, alignment, textSize, type) {\n    var x;\n    switch (alignment) {\n        case 'Near':\n            x = location.x;\n            break;\n        case 'Center':\n            x = (type === 'title') ? (location.width / 2 - textSize.width / 2) :\n                ((location.x + (location.width / 2)) - textSize.width / 2);\n            break;\n        case 'Far':\n            x = (type === 'title') ? (location.width - location.y - textSize.width) :\n                ((location.x + location.width) - textSize.width);\n            break;\n    }\n    var y = (type === 'title') ? location.y + (textSize.height / 2) : ((location.y + location.height / 2) + textSize.height / 2);\n    return new Point(x, y);\n}\n/**\n * To remove element by id\n *\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function removeElement(id) {\n    var element = document.getElementById(id);\n    return element ? remove(element) : null;\n}\n/**\n * To calculate map center position from pixel values\n *\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @returns {Point} - Returns the x and y points\n */\nexport function calculateCenterFromPixel(mapObject, layer) {\n    var point1 = convertGeoToPoint(mapObject.minLatOfGivenLocation, mapObject.minLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n    var point2 = convertGeoToPoint(mapObject.maxLatOfGivenLocation, mapObject.maxLongOfGivenLocation, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n    var x = (point1.x + point2.x) / 2;\n    var y = (point1.y + point2.y) / 2;\n    return new Point(x, y);\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer settings\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTranslate(mapObject, layer, animate) {\n    var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n    var scaleFactor;\n    var center = mapObject.centerPosition;\n    var centerLatitude = center.latitude;\n    var centerLongitude = center.longitude;\n    var checkMethodeZoom = !isNullOrUndefined(mapObject.centerLatOfGivenLocation) &&\n        !isNullOrUndefined(mapObject.centerLongOfGivenLocation) && mapObject.zoomNotApplied;\n    if (isNullOrUndefined(mapObject.mapScaleValue)) {\n        mapObject.mapScaleValue = zoomFactorValue;\n    }\n    if (mapObject.zoomSettings.shouldZoomInitially && mapObject.zoomSettings.enable) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = ((mapObject.zoomSettings.shouldZoomInitially || mapObject.enablePersistence) && mapObject.scale === 1)\n            ? mapObject.scale : (isNullOrUndefined(mapObject.markerZoomFactor)) ? 1 : mapObject.markerZoomFactor;\n        if (mapObject.mapScaleValue !== mapObject.markerZoomFactor && !mapObject.enablePersistence) {\n            mapObject.mapScaleValue = zoomFactorValue = mapObject.markerZoomFactor;\n        }\n        if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n            centerLatitude = mapObject.markerCenterLatitude;\n            centerLongitude = mapObject.markerCenterLongitude;\n        }\n    }\n    if (checkMethodeZoom) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var min = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['min'] : null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var max = !isNullOrUndefined(mapObject.baseMapRectBounds) ? mapObject.baseMapRectBounds['max'] : null;\n    var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n    if (isNullOrUndefined(mapObject.currentShapeDataLength)) {\n        mapObject.currentShapeDataLength = !isNullOrUndefined(layer.shapeData['features'])\n            ? layer.shapeData['features'].length : layer.shapeData['geometries'].length;\n    }\n    var size = (mapObject.totalRect && mapObject.legendSettings.visible) ? mapObject.totalRect : mapObject.mapAreaRect;\n    var availSize = mapObject.availableSize;\n    var x;\n    var y;\n    if (!isNullOrUndefined(min) && !isNullOrUndefined(max)) {\n        var mapWidth = Math.abs(max['x'] - min['x']);\n        var mapHeight = Math.abs(min['y'] - max['y']);\n        var factor = animate ? 1 : mapObject.markerZoomFactor === 1 ? mapObject.mapScaleValue : zoomFactorValue;\n        center = mapObject.zoomSettings.shouldZoomInitially\n            && mapObject.markerZoomedState && !mapObject.zoomPersistence ? mapObject.markerZoomCenterPoint :\n            mapObject.centerPosition;\n        if ((!isNullOrUndefined(centerLongitude) && !isNullOrUndefined(centerLatitude)) || checkMethodeZoom) {\n            var leftPosition = (((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2) + mapObject.mapAreaRect.x) / factor;\n            var topPosition = (((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2) + mapObject.mapAreaRect.y) / factor;\n            var point = checkMethodeZoom ? calculateCenterFromPixel(mapObject, layer) :\n                convertGeoToPoint(centerLatitude, centerLongitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n            if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n                x = -point.x + leftPosition;\n                y = -point.y + topPosition;\n                scaleFactor = zoomFactor;\n            }\n            else {\n                if (Math.floor(mapObject.scale) !== 1 && mapObject.zoomSettings.shouldZoomInitially || (mapObject.zoomNotApplied)) {\n                    x = -point.x + leftPosition;\n                    y = -point.y + topPosition;\n                }\n                else {\n                    if (mapObject.zoomSettings.shouldZoomInitially || mapObject.zoomNotApplied) {\n                        x = -point.x + leftPosition;\n                        y = -point.y + topPosition;\n                        scaleFactor = zoomFactor;\n                    }\n                    else {\n                        x = mapObject.zoomTranslatePoint.x;\n                        y = mapObject.zoomTranslatePoint.y;\n                    }\n                }\n                scaleFactor = mapObject.mapScaleValue;\n            }\n        }\n        else {\n            if (isNullOrUndefined(mapObject.previousProjection) || mapObject.previousProjection !== mapObject.projectionType) {\n                if (mapHeight === 0 || mapWidth === 0 || mapHeight === mapWidth) {\n                    mapWidth = size.width / 2;\n                    mapHeight = size.height;\n                }\n                scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                scaleFactor = scaleFactor > 1.05 ? 1 : scaleFactor;\n                mapWidth *= scaleFactor;\n                mapHeight *= scaleFactor;\n                var widthDiff = min['x'] !== 0 && mapObject.translateType === 'layers' ? availSize.width - size.width : 0;\n                x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2))) - widthDiff;\n                y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                mapObject.previousTranslate = new Point(x, y);\n            }\n            else {\n                if (!mapObject.zoomSettings.shouldZoomInitially && mapObject.markerZoomFactor === 1 && mapObject.mapScaleValue === 1) {\n                    scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                    mapHeight *= scaleFactor;\n                    mapWidth *= scaleFactor;\n                    y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                    x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2)));\n                }\n                else {\n                    scaleFactor = mapObject.mapScaleValue < 1 ? mapObject.mapScaleValue + 1 : mapObject.mapScaleValue;\n                    mapObject.mapScaleValue = mapObject.zoomSettings.enable && mapObject.mapScaleValue !== 1 ? mapObject.mapScaleValue : 1;\n                    if ((mapObject.currentShapeDataLength !== (!isNullOrUndefined(layer.shapeData['features'])\n                        ? layer.shapeData['features'].length : layer.shapeData['geometries'].length)) && layer.type !== 'SubLayer') {\n                        var scale = parseFloat(Math.min(size.height / mapHeight, size.width / mapWidth).toFixed(2));\n                        mapHeight *= scale;\n                        mapWidth *= scale;\n                        y = size.y + ((-(min['y'])) + ((size.height / 2)\n                            - (mapHeight / 2)));\n                        scaleFactor = scale;\n                        x = size.x + ((-(min['x']))\n                            + ((size.width / 2) - (mapWidth / 2)));\n                    }\n                    else if (mapObject.availableSize.height !== mapObject.heightBeforeRefresh || mapObject.widthBeforeRefresh !== mapObject.availableSize.width) {\n                        var cscaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                        var cmapWidth = mapWidth;\n                        cmapWidth *= cscaleFactor;\n                        var cmapHeight = mapHeight;\n                        cmapHeight *= cscaleFactor;\n                        var x1 = size.x + ((-(min['x'])) + ((size.width / 2) - (cmapWidth / 2)));\n                        var y1 = size.y + ((-(min['y'])) + ((size.height / 2) - (cmapHeight / 2)));\n                        var xdiff = (mapObject.translatePoint.x - mapObject.previousTranslate.x) / (mapObject.widthBeforeRefresh);\n                        var ydiff = (mapObject.translatePoint.y - mapObject.previousTranslate.y) / (mapObject.heightBeforeRefresh);\n                        var actxdiff = xdiff * (mapObject.availableSize.width);\n                        var actydiff = ydiff * (mapObject.availableSize.height);\n                        x = x1 + actxdiff;\n                        y = y1 + actydiff;\n                        mapObject.previousTranslate = new Point(x1, y1);\n                        mapObject.zoomTranslatePoint.x = x;\n                        mapObject.zoomTranslatePoint.y = y;\n                    }\n                    else {\n                        if (!isNullOrUndefined(mapObject.previousProjection) && (mapObject.mapScaleValue === 1 || mapObject.mapScaleValue <= 1.05) && !mapObject.zoomModule.isDragZoom) {\n                            scaleFactor = parseFloat(Math.min(size.width / mapWidth, size.height / mapHeight).toFixed(2));\n                            scaleFactor = scaleFactor > 1.05 ? 1 : scaleFactor;\n                            mapWidth *= scaleFactor;\n                            x = size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2)));\n                            mapHeight *= scaleFactor;\n                            y = size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2)));\n                        }\n                        else {\n                            x = mapObject.zoomTranslatePoint.x;\n                            y = mapObject.zoomTranslatePoint.y;\n                            scaleFactor = mapObject.scale;\n                        }\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : x;\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : y;\n        }\n    }\n    scaleFactor = (mapObject.enablePersistence) ? ((mapObject.mapScaleValue >= 1) ? mapObject.mapScaleValue : 1) : scaleFactor;\n    mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n    mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n    return { scale: scaleFactor, location: new Point(x, y) };\n}\n/**\n * @param {Maps} mapObject - Specifies the map object\n * @param {LayerSettings} layer - Specifies the layer\n * @param {boolean} animate - Specifies the boolean value\n * @returns {any} - Returns the object.\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getZoomTranslate(mapObject, layer, animate) {\n    var zoomFactorValue = mapObject.zoomSettings.zoomFactor;\n    var scaleFactor;\n    var center = mapObject.centerPosition;\n    var latitude = center.latitude;\n    var longitude = center.longitude;\n    var checkZoomMethod = !isNullOrUndefined(mapObject.centerLongOfGivenLocation) &&\n        !isNullOrUndefined(mapObject.centerLatOfGivenLocation) && mapObject.zoomNotApplied;\n    if (isNullOrUndefined(mapObject.previousCenterLatitude) &&\n        isNullOrUndefined(mapObject.previousCenterLongitude)) {\n        mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n        mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n    }\n    else if (mapObject.previousCenterLatitude !==\n        mapObject.centerPosition.latitude && mapObject.previousCenterLongitude !==\n        mapObject.centerPosition.longitude) {\n        mapObject.centerPositionChanged = true;\n        mapObject.previousCenterLatitude = mapObject.centerPosition.latitude;\n        mapObject.previousCenterLongitude = mapObject.centerPosition.longitude;\n    }\n    else {\n        mapObject.centerPositionChanged = false;\n    }\n    if (isNullOrUndefined(mapObject.mapScaleValue) || (zoomFactorValue > mapObject.mapScaleValue)) {\n        if (mapObject.isReset && mapObject.mapScaleValue === 1) {\n            // eslint-disable-next-line no-self-assign\n            mapObject.mapScaleValue = mapObject.mapScaleValue;\n        }\n        else {\n            mapObject.mapScaleValue = zoomFactorValue;\n        }\n    }\n    mapObject.mapScaleValue = mapObject.zoomSettings.zoomFactor !== 1 &&\n        mapObject.zoomSettings.zoomFactor ===\n            mapObject.mapScaleValue ? mapObject.zoomSettings.zoomFactor :\n        mapObject.zoomSettings.zoomFactor !== mapObject.mapScaleValue && !mapObject.centerPositionChanged ? mapObject.mapScaleValue : mapObject.zoomSettings.zoomFactor;\n    if (mapObject.zoomSettings.shouldZoomInitially) {\n        mapObject.mapScaleValue = zoomFactorValue = scaleFactor = ((mapObject.enablePersistence || mapObject.zoomSettings.shouldZoomInitially) && mapObject.scale === 1)\n            ? mapObject.scale : (isNullOrUndefined(mapObject.markerZoomFactor)) ? mapObject.mapScaleValue : mapObject.markerZoomFactor;\n        zoomFactorValue = mapObject.mapScaleValue;\n        if (!isNullOrUndefined(mapObject.markerCenterLatitude) && !isNullOrUndefined(mapObject.markerCenterLongitude)) {\n            latitude = mapObject.markerCenterLatitude;\n            longitude = mapObject.markerCenterLongitude;\n        }\n    }\n    if (checkZoomMethod) {\n        mapObject.mapScaleValue = scaleFactor = zoomFactorValue = mapObject.scaleOfGivenLocation;\n    }\n    var zoomFactor = animate ? 1 : mapObject.mapScaleValue;\n    var size = mapObject.mapAreaRect;\n    var x;\n    var y;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var min = mapObject.baseMapRectBounds['min'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var max = mapObject.baseMapRectBounds['max'];\n    var factor = animate ? 1 : mapObject.mapScaleValue;\n    var mapWidth = Math.abs(max['x'] - min['x']);\n    var mapHeight = Math.abs(min['y'] - max['y']);\n    if ((!isNullOrUndefined(longitude) && !isNullOrUndefined(latitude)) || checkZoomMethod) {\n        var topPosition = ((mapHeight + Math.abs(mapObject.mapAreaRect.height - mapHeight)) / 2) / factor;\n        var leftPosition = ((mapWidth + Math.abs(mapObject.mapAreaRect.width - mapWidth)) / 2) / factor;\n        var point = checkZoomMethod ? calculateCenterFromPixel(mapObject, layer) :\n            convertGeoToPoint(latitude, longitude, mapObject.mapLayerPanel.calculateFactor(layer), layer, mapObject);\n        if ((!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) && !mapObject.zoomNotApplied) {\n            if (mapObject.previousProjection !== mapObject.projectionType) {\n                x = -point.x + leftPosition;\n                y = -point.y + topPosition;\n            }\n            else {\n                x = mapObject.zoomTranslatePoint.x;\n                y = mapObject.zoomTranslatePoint.y;\n                zoomFactorValue = zoomFactor;\n            }\n        }\n        else {\n            x = -point.x + leftPosition + mapObject.mapAreaRect.x / zoomFactor;\n            y = -point.y + topPosition + mapObject.mapAreaRect.y / zoomFactor;\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : y;\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : x;\n        }\n        scaleFactor = zoomFactorValue !== 0 ? zoomFactorValue : 1;\n    }\n    else {\n        var zoomFact = mapObject.zoomSettings.zoomFactor === 0 ? 1 : mapObject.zoomSettings.zoomFactor;\n        var maxZoomFact = mapObject.zoomSettings.maxZoom;\n        zoomFact = zoomFact > maxZoomFact ? maxZoomFact : zoomFact;\n        scaleFactor = zoomFact;\n        var mapScale = mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue > maxZoomFact\n            ? maxZoomFact : mapObject.mapScaleValue;\n        var leftPosition = (size.x + ((-(min['x'])) + ((size.width / 2) - (mapWidth / 2))));\n        var topPosition = (size.y + ((-(min['y'])) + ((size.height / 2) - (mapHeight / 2))));\n        if (!isNullOrUndefined(mapObject.zoomTranslatePoint) || !isNullOrUndefined(mapObject.previousProjection)) {\n            if (mapObject.previousProjection !== mapObject.projectionType) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var previousPositions = [];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var previousPoints = { x: leftPosition, y: topPosition };\n                previousPositions.push(previousPoints);\n                for (var i = 1; i < maxZoomFact; i++) {\n                    var translatePointX = previousPositions[i - 1]['x'] - (((size.width / (i)) - (size.width / (i + 1))) / 2);\n                    var translatePointY = previousPositions[i - 1]['y'] - (((size.height / (i)) - (size.height / (i + 1))) / 2);\n                    previousPoints = { x: translatePointX, y: translatePointY };\n                    previousPositions.push(previousPoints);\n                }\n                leftPosition = previousPositions[zoomFact - 1]['x'];\n                topPosition = previousPositions[zoomFact - 1]['y'];\n            }\n            else {\n                leftPosition = mapObject.zoomTranslatePoint.x;\n                topPosition = mapObject.zoomTranslatePoint.y;\n                if (zoomFact !== mapScale) {\n                    scaleFactor = mapScale;\n                }\n            }\n        }\n        if (!isNullOrUndefined(mapObject.translatePoint)) {\n            x = (mapObject.enablePersistence && mapObject.translatePoint.x !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.x : leftPosition;\n            y = (mapObject.enablePersistence && mapObject.translatePoint.y !== 0 && !mapObject.zoomNotApplied) ? mapObject.translatePoint.y : topPosition;\n        }\n    }\n    scaleFactor = (mapObject.enablePersistence) ? (mapObject.mapScaleValue === 0 ? 1 : mapObject.mapScaleValue) : scaleFactor;\n    mapObject.widthBeforeRefresh = mapObject.availableSize.width;\n    mapObject.heightBeforeRefresh = mapObject.availableSize.height;\n    return { scale: animate ? 1 : scaleFactor, location: new Point(x, y) };\n}\n/**\n * To get the html element by specified id\n *\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {void}\n */\nexport function fixInitialScaleForTile(map) {\n    map.tileZoomScale = map.tileZoomLevel = Math.floor(map.availableSize.height / 512) + 1;\n    var padding = map.layers[map.baseLayerIndex].layerType !== 'GoogleStaticMap' ?\n        20 : 0;\n    var totalSize = Math.pow(2, map.tileZoomLevel) * 256;\n    map.tileTranslatePoint.x = (map.availableSize.width / 2) - (totalSize / 2);\n    map.tileTranslatePoint.y = (map.availableSize.height / 2) - (totalSize / 2) + padding;\n    map.previousTileWidth = map.availableSize.width;\n    map.previousTileHeight = map.availableSize.height;\n}\n/**\n * To get the html element by specified id\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n */\nexport function getElementByID(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to get clientElement from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\nexport function getClientElement(id) {\n    var element = document.getElementById(id);\n    if (!isNullOrUndefined(element)) {\n        return element.getClientRects()[0];\n    }\n    else {\n        return null;\n    }\n}\n/**\n * To apply internalization\n *\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {number} value - Specifies the value\n * @returns {string} - Returns the string\n */\nexport function Internalize(maps, value) {\n    maps.formatFunction =\n        maps.intl.getNumberFormat({ format: maps.format, useGrouping: maps.useGroupingSeparator });\n    return maps.formatFunction(value);\n}\n/**\n * Function to compile the template function for maps.\n *\n * @param {string} template - Specifies the template\n * @returns {Function} - Returns the function\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTemplateFunction(template, maps) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var templateFn = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var e;\n    try {\n        if (document.querySelectorAll(template).length) {\n            templateFn = templateComplier(document.querySelector(template).innerHTML.trim());\n        }\n        else if (maps.isVue || maps.isVue3) {\n            templateFn = templateComplier(template);\n        }\n    }\n    catch (e) {\n        templateFn = templateComplier(template);\n    }\n    return templateFn;\n}\n/**\n * Function to get element from id.\n *\n * @param {string} id - Specifies the id\n * @returns {Element} - Returns the element\n * @private\n */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/**\n * Function to get shape data using target id\n *\n * @param {string} targetId - Specifies the target id\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {any} - Returns the object\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getShapeData(targetId, map) {\n    var layerIndex = parseInt(targetId.split('_LayerIndex_')[1].split('_')[0], 10);\n    var shapeIndex = parseInt(targetId.split('_shapeIndex_')[1].split('_')[0], 10);\n    var layer = map.layersCollection[layerIndex];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeData = layer.layerData[shapeIndex]['property'];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data;\n    if (layer.dataSource) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        data = layer.dataSource[checkShapeDataFields(layer.dataSource, shapeData, layer.shapeDataPath, layer.shapePropertyPath, layer)];\n    }\n    return { shapeData: shapeData, data: data };\n}\n/**\n * Function to trigger shapeSelected event\n *\n * @param {string} targetId - Specifies the target id\n * @param {SelectionSettingsModel} selection - Specifies the selection\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} eventName - Specifies the event name\n * @returns {IShapeSelectedEventArgs} - Returns the event args\n * @private\n */\nexport function triggerShapeEvent(targetId, selection, maps, eventName) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shape = getShapeData(targetId, maps);\n    var border = {\n        color: selection.border.color, opacity: selection.border.opacity,\n        width: selection.border.width\n    };\n    var eventArgs = (selection.enableMultiSelect) ? {\n        cancel: false,\n        name: eventName,\n        fill: selection.fill,\n        opacity: selection.opacity,\n        border: border,\n        shapeData: shape.shapeData,\n        data: shape.data,\n        target: targetId,\n        maps: maps,\n        shapeDataCollection: maps.shapeSelectionItem\n    } : {\n        cancel: false,\n        name: eventName,\n        fill: selection.fill,\n        opacity: selection.opacity,\n        border: border,\n        shapeData: shape.shapeData,\n        data: shape.data,\n        target: targetId,\n        maps: maps\n    };\n    maps.trigger(eventName, eventArgs, function (observedArgs) {\n        eventArgs.border.opacity = isNullOrUndefined(eventArgs.border.opacity) ? eventArgs.opacity : eventArgs.border.opacity;\n    });\n    return eventArgs;\n}\n/**\n * Function to get elements using class name\n *\n * @param {string} className - Specifies the class name\n * @returns {HTMLCollectionOf<Element>} - Returns the collection\n */\nexport function getElementsByClassName(className) {\n    return document.getElementsByClassName(className);\n}\n/**\n * Function to get elements using querySelectorAll\n */\n// export function querySelectorAll(args: string, element: Element): ArrayOf<Element> {\n//     return element.querySelectorAll('.' + args);\n// }\n/**\n * Function to get elements using querySelector\n *\n * @param {string} args - Specifies the args\n * @param {string} elementSelector - Specifies the element selector\n * @returns {Element} - Returns the element\n */\nexport function querySelector(args, elementSelector) {\n    var targetEle = null;\n    if (document.getElementById(elementSelector)) {\n        targetEle = document.getElementById(elementSelector).querySelector('#' + args);\n    }\n    return targetEle;\n}\n/**\n * Function to get the element for selection and highlight using public method\n *\n * @param {number} layerIndex - Specifies the layer index\n * @param {string} name - Specifies the layer name\n * @param {boolean} enable - Specifies the boolean value\n * @param {Maps} map - Specifies the instance of the maps\n * @returns {Element} - Returns the element\n */\nexport function getTargetElement(layerIndex, name, enable, map) {\n    var shapeIndex;\n    var targetId;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeData = map.layers[layerIndex].shapeData['features'];\n    for (var i = 0; i < shapeData.length; i++) {\n        if (shapeData[i]['properties'].name === name) {\n            targetId = map.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_undefined';\n            break;\n        }\n    }\n    var targetEle = getElement(targetId);\n    return targetEle;\n}\n/**\n * Function to create style element for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {Element} - Returns the element\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function createStyle(id, className, eventArgs) {\n    return createElement('style', {\n        id: id, innerHTML: '.' + className + '{fill:'\n            + eventArgs['fill'] + ';' + 'fill-opacity:' + (eventArgs['opacity']).toString() + ';' +\n            'stroke-opacity:' + (eventArgs['border']['opacity']).toString() + ';' +\n            'stroke-width:' + (eventArgs['border']['width']).toString() + ';' +\n            'stroke:' + eventArgs['border']['color'] + ';' + '}'\n    });\n}\n/**\n * Function to customize the style for highlight and selection\n *\n * @param {string} id - Specifies the id\n * @param {string} className - Specifies the class name\n * @param {IShapeSelectedEventArgs | any} eventArgs - Specifies the event args\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function customizeStyle(id, className, eventArgs) {\n    var styleEle = getElement(id);\n    if (!isNullOrUndefined(styleEle)) {\n        styleEle.innerHTML = '.' + className + '{fill:'\n            + eventArgs['fill'] + ';' + 'fill-opacity:' + (eventArgs['opacity']).toString() + ';' +\n            'stroke-width:' + (eventArgs['border']['width']).toString() + ';' +\n            'stroke-opacity:' + (eventArgs['border']['opacity']).toString() + ';' +\n            'stroke:' + eventArgs['border']['color'] + '}';\n    }\n}\n/**\n * Function to trigger itemSelection event for legend selection and public method\n *\n * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n * @param {Maps} map - Specifies the instance of the maps\n * @param {Element} targetElement - Specifies the target element\n * @param {any} shapeData - Specifies the shape data\n * @param {any} data - Specifies the data\n * @returns {void}\n */\nexport function triggerItemSelectionEvent(selectionSettings, map, targetElement, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nshapeData, data) {\n    var border = {\n        color: selectionSettings.border.color,\n        width: selectionSettings.border.width / map.scale,\n        opacity: selectionSettings.border.opacity\n    };\n    var eventArgs = {\n        opacity: selectionSettings.opacity,\n        fill: selectionSettings.fill,\n        border: border,\n        name: itemSelection,\n        target: targetElement.id,\n        cancel: false,\n        shapeData: shapeData,\n        data: data,\n        maps: map\n    };\n    map.trigger('itemSelection', eventArgs, function (observedArgs) {\n        eventArgs.border.opacity = isNullOrUndefined(selectionSettings.border.opacity) ? selectionSettings.opacity : selectionSettings.border.opacity;\n        map.shapeSelectionItem.push(eventArgs.shapeData);\n        if (!getElement('ShapeselectionMap')) {\n            document.body.appendChild(createStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs));\n        }\n        else {\n            customizeStyle('ShapeselectionMap', 'ShapeselectionMapStyle', eventArgs);\n        }\n    });\n}\n/**\n * Function to remove class from element\n *\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function removeClass(element) {\n    element.removeAttribute('class');\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @param {Maps} maps - Specifies the instance of the maps\n * @param {string} ele - Specifies the element\n * @param {number} radius - Specifies the radius\n * @returns {void}\n * @private\n */\nexport function elementAnimate(element, delay, duration, point, maps, ele, radius) {\n    if (radius === void 0) { radius = 0; }\n    var centerX = point.x;\n    var centerY = point.y;\n    var height = 0;\n    var transform = element.getAttribute('transform') || '';\n    new Animation({}).animate(element, {\n        duration: duration,\n        delay: delay,\n        progress: function (args) {\n            if (args.timeStamp > args.delay) {\n                if (maps.isTileMap && height === 0) {\n                    var layerGroupElement = document.querySelector('.GroupElement');\n                    if (!isNullOrUndefined(layerGroupElement)) {\n                        layerGroupElement.style.display = 'block';\n                    }\n                }\n                height = ((args.timeStamp - args.delay) / args.duration);\n                element.setAttribute('transform', 'translate( ' + (centerX - (radius * height)) + ' ' + (centerY - (radius * height)) +\n                    ' ) scale(' + height + ')');\n            }\n        },\n        end: function (model) {\n            element.setAttribute('transform', transform);\n            if (!ele) {\n                return;\n            }\n            var event = {\n                cancel: false, name: animationComplete, element: ele, maps: maps\n            };\n            maps.trigger(animationComplete, event);\n        }\n    });\n}\n/**\n * @param {string} id - Specifies the id\n * @returns {void}\n */\nexport function timeout(id) {\n    removeElement(id);\n}\n/**\n * @param {string} text - Specifies the text\n * @param {string} size - Specifies the size\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {number} areaWidth - Specifies the area width\n * @param {number} areaHeight - Specifies the area height\n * @param {string} id - Specifies the id\n * @param {Element} element - Specifies the element\n * @param {boolean} isTouch - Specifies the boolean value\n * @returns {void}\n */\nexport function showTooltip(text, size, x, y, areaWidth, areaHeight, id, element, isTouch) {\n    var location = getMousePosition(x, y, element);\n    if (!isNullOrUndefined(location)) {\n        x = location.x;\n        y = location.y;\n    }\n    var tooltip = document.getElementById(id);\n    var width = measureText(text, {\n        fontFamily: 'Segoe UI', size: '8px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    }).width;\n    var str = text.split(' ');\n    var demo = str[0].length;\n    for (var i = 1; i < str.length; i++) {\n        if (demo < str[i].length) {\n            demo = str[i].length;\n        }\n    }\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id,\n            styles: 'background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n                'position:absolute;border:1px solid rgb(0, 0, 0); padding-left:5px;' +\n                'font-size:12px; font-family: \"Segoe UI\"; text-align:center'\n        });\n    }\n    if (x < (areaWidth - width)) {\n        // eslint-disable-next-line no-self-assign\n        x = x;\n    }\n    else if (x > (areaWidth - width) && x < areaWidth - (demo * 8)) {\n        width = (areaWidth - x);\n    }\n    else if (x >= areaWidth - demo * 8) {\n        if (x > width) {\n            x = x - width;\n        }\n        else {\n            width = x;\n            x = 0;\n        }\n    }\n    var size1 = size.split('px');\n    wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n    var height = tooltip.clientHeight;\n    if ((height + parseInt(size1[0], 10) * 2) > areaHeight) {\n        width = x;\n        x = 0;\n    }\n    wordWrap(tooltip, text, x, y, size1, width, areaWidth, element);\n    if (isTouch) {\n        setTimeout(timeout, 5000, id);\n    }\n}\n/**\n * @param {HTMLElement} tooltip - Specifies the tooltip element\n * @param {string} text - Specifies the text\n * @param {number} x - Specifies the x value\n * @param {number} y - Specifies the y value\n * @param {string[]} size1 - Specifies the size\n * @param {number} width - Specifies the width\n * @param {number} areaWidth - Specifies the area width\n * @param {Element} element - Specifies the element\n * @returns {void}\n */\nexport function wordWrap(tooltip, text, x, y, size1, width, areaWidth, element) {\n    tooltip.innerHTML = text;\n    tooltip.style.top = tooltip.id.indexOf('_Legend') !== -1 ?\n        (parseInt(size1[0], 10) + y).toString() + 'px' : (parseInt(size1[0], 10) * 2).toString() + 'px';\n    tooltip.style.left = (x).toString() + 'px';\n    tooltip.style.width = width.toString() + 'px';\n    tooltip.style.maxWidth = (areaWidth).toString() + 'px';\n    tooltip.style.wordWrap = 'break-word';\n    element.appendChild(tooltip);\n}\n// /**\n//  *\n//  * @param touchList\n//  * @param e\n//  * @param touches\n//  */\n// export function addTouchPointer(touchList: ITouches[], e: PointerEvent, touches: TouchList): ITouches[] {\n//     if (touches) {\n//         touchList = [];\n//         for (let i: number = 0, length: number = touches.length; i < length; i++) {\n//             touchList.push({ pageX: touches[i].clientX, pageY: touches[i].clientY, pointerId: null });\n//         }\n//     } else {\n//         touchList = touchList ? touchList : [];\n//         if (touchList.length === 0) {\n//             touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//         } else {\n//             for (let i: number = 0, length: number = touchList.length; i < length; i++) {\n//                 if (touchList[i].pointerId === e.pointerId) {\n//                     touchList[i] = { pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId };\n//                 } else {\n//                     touchList.push({ pageX: e.clientX, pageY: e.clientY, pointerId: e.pointerId });\n//                 }\n//             }\n//         }\n//     }\n//     return touchList;\n// }\n/**\n * @param {string} id - Specifies the id\n * @param {string} text - Specifies the text\n * @param {string} top - Specifies the top\n * @param {string} left - Specifies the left\n * @param {string} fontSize - Specifies the fontSize\n * @returns {void}\n * @private\n */\nexport function createTooltip(id, text, top, left, fontSize) {\n    var tooltip = getElement(id);\n    var style = 'top:' + top.toString() + 'px;' +\n        'left:' + left.toString() + 'px;' +\n        'color: #000000; ' +\n        'background:' + '#FFFFFF' + ';' +\n        'z-index: 2;' +\n        'position:absolute;border:1px solid #707070;font-size:' + fontSize + ';border-radius:2px;';\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            id: id, innerHTML: '&nbsp;' + text + '&nbsp;', styles: style\n        });\n        document.body.appendChild(tooltip);\n    }\n    else {\n        tooltip.setAttribute('innerHTML', '&nbsp;' + text + '&nbsp;');\n        tooltip.setAttribute('styles', style);\n    }\n}\n/**\n * @param {Point} location - Specifies the location\n * @param {string} shape - Specifies the shape\n * @param {Size} size - Specifies the size\n * @param {string} url - Specifies the url\n * @param {PathOption} options - Specifies the options\n * @returns {Element} - Returns the element\n * @private\n */\nexport function drawSymbol(location, shape, size, url, options) {\n    var functionName = 'Path';\n    var renderer = new SvgRenderer('');\n    var temp = renderLegendShape(location, size, shape, options, url);\n    var htmlObject = renderer['draw' + temp.functionName](temp.renderOption);\n    return htmlObject;\n}\n/**\n * @param {MapLocation} location - Specifies the location\n * @param {Size} size - Specifies the size\n * @param {string} shape - Specifies the shape\n * @param {PathOption} options - Specifies the path options\n * @param {string} url - Specifies the url\n * @returns {IShapes} - Returns the shapes\n * @private\n */\nexport function renderLegendShape(location, size, shape, options, url) {\n    var renderPath;\n    var functionName = 'Path';\n    var shapeWidth = size.width;\n    var shapeHeight = size.height;\n    var shapeX = location.x;\n    var shapeY = location.y;\n    var x = location.x + (-shapeWidth / 2);\n    var y = location.y + (-shapeHeight / 2);\n    options['stroke'] = (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross') ? options['fill'] : options['stroke'];\n    options['stroke-width'] = (options['stroke-width'] === 0 && (shape === 'HorizontalLine' || shape === 'VerticalLine' || shape === 'Cross')) ? 1 : options['stroke-width'];\n    switch (shape) {\n        case 'Circle':\n        case 'Bubble':\n            functionName = 'Ellipse';\n            merge(options, { 'rx': shapeWidth / 2, 'ry': shapeHeight / 2, 'cx': shapeX, 'cy': shapeY });\n            break;\n        case 'VerticalLine':\n            renderPath = 'M' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' + 'L' + ' ' + shapeX + ' '\n                + (shapeY + (-shapeHeight / 2));\n            merge(options, { 'd': renderPath });\n            break;\n        case 'HorizontalLine':\n            renderPath = 'M' + ' ' + shapeX + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' '\n                + shapeY;\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Diamond':\n            renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + shapeY + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + shapeY + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Rectangle':\n            renderPath = 'M' + ' ' + x + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (-shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Triangle':\n            renderPath = 'M' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (-shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + x + ' ' + (shapeY + (shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'InvertedTriangle':\n            renderPath = 'M' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX - (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' ' +\n                'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + (shapeY - (shapeHeight / 2)) + ' z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Pentagon':\n            // eslint-disable-next-line no-case-declarations\n            var eq = 72;\n            var xValue = void 0;\n            var yValue = void 0;\n            for (var i = 0; i <= 5; i++) {\n                xValue = (shapeWidth / 2) * Math.cos((Math.PI / 180) * (i * eq));\n                yValue = (shapeWidth / 2) * Math.sin((Math.PI / 180) * (i * eq));\n                if (i === 0) {\n                    renderPath = 'M' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ';\n                }\n                else {\n                    renderPath = renderPath.concat('L' + ' ' + (shapeX + xValue) + ' ' + (shapeY + yValue) + ' ');\n                }\n            }\n            renderPath = renderPath.concat('Z');\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Star':\n            renderPath = 'M ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + (location.x - size.width / 2)\n                + ' ' + (location.y + size.height / 6) + ' L ' + (location.x + size.width / 2) + ' ' + (location.y + size.height / 6)\n                + ' L ' + (location.x - size.width / 3) + ' ' + (location.y - size.height / 2) + ' L ' + location.x + ' ' +\n                (location.y + size.height / 2) + ' L ' + (location.x + size.width / 3) + ' ' + (location.y - size.height / 2) + ' Z';\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Cross':\n            renderPath = 'M' + ' ' + x + ' ' + shapeY + ' ' + 'L' + ' ' + (shapeX + (shapeWidth / 2)) + ' ' + shapeY + ' ' +\n                'M' + ' ' + shapeX + ' ' + (shapeY + (shapeHeight / 2)) + ' ' + 'L' + ' ' + shapeX + ' ' +\n                (shapeY + (-shapeHeight / 2));\n            merge(options, { 'd': renderPath });\n            break;\n        case 'Image':\n            functionName = 'Image';\n            merge(options, { 'href': url, 'height': shapeHeight, 'width': shapeWidth, x: x, y: y });\n            break;\n    }\n    return { renderOption: options, functionName: functionName };\n}\n/**\n * Animation Effect Calculation End\n *\n * @private\n */\n// export function markerTemplateAnimate(element: Element, delay: number, duration: number, point: MapLocation): void {\n//     let delta: number = 0;\n//     let top: string = (element as HTMLElement).style.top;\n//     let y: number = parseInt(top, 10);\n//     new Animation({}).animate(<HTMLElement>element, {\n//         duration: duration,\n//         delay: delay,\n//         progress: (args: AnimationOptions): void => {\n//             if (args.timeStamp > args.delay) {\n//                 delta = ((args.timeStamp - args.delay) / args.duration);\n//                 (element as HTMLElement).style.top = y - 100 + (delta * 100) + 'px';\n//             }\n//         },\n//         end: (model: AnimationOptions) => {\n//             (element as HTMLElement).style.top = top;\n//         }\n//     });\n// }\n/**\n * @param {HTMLElement} childElement - Specifies the child element\n * @param {HTMLElement} parentElement - Specifies the parent element\n * @returns {Size} - Returns the size\n * @private\n */\nexport function getElementOffset(childElement, parentElement) {\n    parentElement.appendChild(childElement);\n    var width = childElement.offsetWidth;\n    var height = childElement.offsetHeight;\n    parentElement.removeChild(childElement);\n    return new Size(width, height);\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeBorderWidth(element, index, scale, maps) {\n    var childNode;\n    for (var l = 0; l < element.childElementCount; l++) {\n        childNode = element.childNodes[l];\n        if (childNode.id.indexOf('_NavigationGroup') > -1) {\n            changeNavaigationLineWidth(childNode, index, scale, maps);\n        }\n        else {\n            var currentStroke = void 0;\n            var value = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var borderWidthValue = maps.layersCollection[index].shapeSettings.borderWidthValuePath;\n            var borderWidth = maps.layersCollection[index].shapeSettings.border.width;\n            var circleRadius = maps.layersCollection[index].shapeSettings.circleRadius;\n            if (maps.layersCollection[index].shapeSettings.borderWidthValuePath) {\n                value = checkShapeDataFields(\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                maps.layersCollection[index].dataSource, maps.layersCollection[index].layerData[l]['property'], maps.layersCollection[index].shapeDataPath, maps.layersCollection[index].shapePropertyPath, maps.layersCollection[index]);\n                if (value !== null) {\n                    if (maps.layersCollection[index].dataSource[value][borderWidthValue]) {\n                        currentStroke = maps.layersCollection[index].dataSource[value][borderWidthValue];\n                    }\n                    else {\n                        currentStroke = (isNullOrUndefined(borderWidth) ? 0 : borderWidth);\n                    }\n                }\n                else {\n                    currentStroke = (isNullOrUndefined(borderWidth) ? 0 : borderWidth);\n                }\n            }\n            else {\n                currentStroke = (isNullOrUndefined(borderWidth) ? 0 : borderWidth);\n            }\n            childNode.setAttribute('stroke-width', (currentStroke / scale).toString());\n            if (element.id.indexOf('_Point') > -1 || element.id.indexOf('_MultiPoint') > -1) {\n                childNode.setAttribute('r', (circleRadius / scale).toString());\n            }\n        }\n    }\n}\n/**\n * @param {Element} element - Specifies the element\n * @param {number} index - Specifies the element\n * @param {number} scale - Specifies the scale\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n * @private\n */\nexport function changeNavaigationLineWidth(element, index, scale, maps) {\n    var node;\n    for (var m = 0; m < element.childElementCount; m++) {\n        node = element.childNodes[m];\n        if (node.tagName === 'path') {\n            var currentStroke = (maps.layersCollection[index]\n                .navigationLineSettings[parseFloat(node.id.split('_NavigationIndex_')[1].split('_')[0])].width);\n            node.setAttribute('stroke-width', (currentStroke / scale).toString());\n        }\n    }\n}\n// /** Pinch zoom helper methods */\n/**\n * @param {PointerEvent | TouchEvent} event - Specifies the pointer or touch event\n * @returns {ITouches[]} - Returns the target\n * @private */\nexport function targetTouches(event) {\n    var targetTouches = [];\n    var touches = event.touches;\n    for (var i = 0; i < touches.length; i++) {\n        targetTouches.push({ pageX: touches[i].pageX, pageY: touches[i].pageY });\n    }\n    return targetTouches;\n}\n/**\n * @param {ITouches[]} startTouches - Specifies the start touches\n * @param {ITouches[]} endTouches - Specifies the end touches\n * @returns {number} - Returns the number\n * @private\n */\nexport function calculateScale(startTouches, endTouches) {\n    var startDistance = getDistance(startTouches[0], startTouches[1]);\n    var endDistance = getDistance(endTouches[0], endTouches[1]);\n    return (endDistance / startDistance);\n}\n/**\n * @param {ITouches} a - Specifies the a value\n * @param {ITouches} b - Specifies the b value\n * @returns {number} - Returns the number\n * @private */\nexport function getDistance(a, b) {\n    var x = a.pageX - b.pageX;\n    var y = a.pageY - b.pageY;\n    return Math.sqrt(x * x + y * y);\n}\n/**\n * @param {ITouches[]} touches - Specifies the touches\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {any[]} - Returns the object\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouches(touches, maps) {\n    var rect = maps.element.getBoundingClientRect();\n    var posTop = rect.top + document.defaultView.pageXOffset;\n    var posLeft = rect.left + document.defaultView.pageYOffset;\n    return Array.prototype.slice.call(touches).map(function (touch) {\n        return {\n            x: touch.pageX - posLeft,\n            y: touch.pageY - posTop\n        };\n    });\n}\n/**\n * @param {any[]} touches - Specifies the touches\n * @returns {Point} - Returns the point\n * @private\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getTouchCenter(touches) {\n    return {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        x: touches.map(function (e) { return e['x']; }).reduce(sum) / touches.length,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        y: touches.map(function (e) { return e['y']; }).reduce(sum) / touches.length\n    };\n}\n/**\n * @param {number} a - Specifies a value\n * @param {number} b - Specifies b value\n * @returns {number} - Returns the sum of a and b\n * @private\n */\nexport function sum(a, b) {\n    return a + b;\n}\n/**\n * Animation Effect Calculation End\n *\n * @param {Element} element - Specifies the element.\n * @param {number} delay - Specifies the delay.\n * @param {number} duration - Specifies the duration.\n * @param {MapLocation} point - Specifies the location.\n * @param {number} scale - Specifies the scale value.\n * @param {Size} size - Specifies the size.\n * @param {Maps} maps - Specifies the maps.\n * @returns {void}\n * @private\n */\nexport function zoomAnimate(element, delay, duration, point, scale, size, maps) {\n    var delta = 0;\n    var previousLocation = maps.previousPoint;\n    var preScale = maps.previousScale;\n    var diffScale = scale - preScale;\n    var currentLocation = new MapLocation(0, 0);\n    var currentScale = 1;\n    if (scale === preScale) {\n        element.setAttribute('transform', 'scale( ' + (scale) + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n        return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var slope = function (previousLocation, point) {\n        if (previousLocation.x === point.x) {\n            return null;\n        }\n        return (point.y - previousLocation.y) / (point.x - previousLocation.x);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var intercept = function (point, slopeValue) {\n        if (slopeValue === null) {\n            return point.x;\n        }\n        return point.y - slopeValue * point.x;\n    };\n    var slopeFactor = slope(previousLocation, point);\n    var slopeIntersection = intercept(previousLocation, slopeFactor);\n    var horizontalDifference = point.x - previousLocation.x;\n    var verticalDifference = point.y - previousLocation.y;\n    animate(element, delay, duration, function (args) {\n        if (args.timeStamp > args.delay) {\n            delta = ((args.timeStamp - args.delay) / args.duration);\n            currentScale = preScale + (delta * diffScale);\n            currentLocation.x = previousLocation.x + (delta * horizontalDifference) / (currentScale / scale);\n            if (slopeFactor == null) {\n                currentLocation.y = previousLocation.y + (delta * verticalDifference);\n            }\n            else {\n                currentLocation.y = ((slopeFactor * currentLocation.x) + slopeIntersection);\n            }\n            args.element.setAttribute('transform', 'scale( ' + currentScale + ' ) ' +\n                'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n            maps.translatePoint = currentLocation;\n            maps.scale = currentScale;\n            maps.zoomModule.processTemplate(point.x, point.y, currentScale, maps);\n        }\n    }, function () {\n        maps.translatePoint = point;\n        maps.scale = scale;\n        element.setAttribute('transform', 'scale( ' + (scale) + ' ) translate( ' + point.x + ' ' + point.y + ' )');\n        maps.zoomModule.processTemplate(point.x, point.y, scale, maps);\n    });\n}\n/**\n * To process custom animation\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {Function} process - Specifies the process\n * @param {Function} end - Specifies the end\n * @returns {void}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function animate(element, delay, duration, process, end) {\n    var _this = this;\n    var start = null;\n    // eslint-disable-next-line prefer-const\n    var clearAnimation;\n    var markerStyle = 'visibility:visible';\n    var startAnimation = function (timestamp) {\n        if (!start) {\n            start = timestamp;\n        }\n        var progress = timestamp - start;\n        if (progress < duration) {\n            process.call(_this, { element: element, delay: 0, timeStamp: progress, duration: duration });\n            window.requestAnimationFrame(startAnimation);\n        }\n        else {\n            window.cancelAnimationFrame(clearAnimation);\n            end.call(_this, { element: element });\n            if (element.id.indexOf('Marker') > -1) {\n                var markerElement = getElementByID(element.id.split('_Layer')[0] + '_Markers_Group');\n                markerElement.setAttribute('style', markerStyle);\n            }\n        }\n    };\n    clearAnimation = window.requestAnimationFrame(startAnimation);\n}\n/**\n * To get shape data file using Ajax.\n */\nvar MapAjax = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function MapAjax(options, type, async, contentType, sendData) {\n        this.dataOptions = options;\n        this.type = type || 'GET';\n        this.async = async || true;\n        this.contentType = contentType;\n        this.sendData = sendData;\n    }\n    return MapAjax;\n}());\nexport { MapAjax };\n/**\n * Animation Translate\n *\n * @param {Element} element - Specifies the element\n * @param {number} delay - Specifies the delay\n * @param {number} duration - Specifies the duration\n * @param {MapLocation} point - Specifies the location\n * @returns {void}\n * @private\n */\nexport function smoothTranslate(element, delay, duration, point) {\n    var delta = 0;\n    var transform = element.getAttribute('transform').split(' ');\n    if (transform.length === 2) {\n        transform[2] = transform[1].split(')')[0];\n        transform[1] = transform[0].split('(')[1];\n    }\n    var previousLocation = new MapLocation(parseInt(transform[1], 10), parseInt(transform[2], 10));\n    var diffx = point.x - previousLocation.x;\n    var diffy = point.y - previousLocation.y;\n    var currentLocation = new MapLocation(0, 0);\n    animate(element, delay, duration, function (args) {\n        if (args.timeStamp > args.delay) {\n            delta = ((args.timeStamp - args.delay) / args.duration);\n            currentLocation.x = previousLocation.x + (delta * diffx);\n            currentLocation.y = previousLocation.y + (delta * diffy);\n            args.element.setAttribute('transform', 'translate( ' + currentLocation.x + ' ' + currentLocation.y + ' )');\n        }\n    }, function () {\n        element.setAttribute('transform', 'translate( ' + point.x + ' ' + point.y + ' )');\n    });\n}\n/**\n * To find compare should zoom factor with previous factor and current factor\n *\n * @param {number} scaleFactor - Specifies the scale factor\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {void}\n */\nexport function compareZoomFactor(scaleFactor, maps) {\n    var previous = isNullOrUndefined(maps.shouldZoomPreviousFactor) ?\n        null : maps.shouldZoomPreviousFactor;\n    var current = isNullOrUndefined(maps.shouldZoomCurrentFactor) ?\n        null : maps.shouldZoomCurrentFactor;\n    if (!isNullOrUndefined(current)) {\n        maps.shouldZoomCurrentFactor = null;\n        maps.shouldZoomPreviousFactor = null;\n    }\n    else if (!isNullOrUndefined(previous)\n        && isNullOrUndefined(current)\n        && maps.shouldZoomPreviousFactor !== scaleFactor) {\n        maps.shouldZoomCurrentFactor = scaleFactor;\n    }\n    else {\n        maps.shouldZoomPreviousFactor = scaleFactor;\n    }\n}\n/**\n * To find zoom level for the min and max latitude values\n *\n * @param {number} minLat - Specifies the minimum latitude\n * @param {number} maxLat - Specifies the maximum latitude\n * @param {number} minLong - Specifies the minimum longitude\n * @param {number} maxLong - Specifies the maximum longitude\n * @param {number} mapWidth - Specifies the width of the maps\n * @param {number} mapHeight - Specifies the height of the maps\n * @param {Maps} maps - Specifies the instance of the maps\n * @returns {number} - Returns the scale factor\n */\nexport function calculateZoomLevel(minLat, maxLat, minLong, maxLong, mapWidth, mapHeight, maps) {\n    var scaleFactor;\n    var maxZoomFact = maps.zoomSettings.maxZoom;\n    var applyMethodeZoom;\n    var maxLatSin = Math.sin(maxLat * Math.PI / 180);\n    var maxLatRad = Math.log((1 + maxLatSin) / (1 - maxLatSin)) / 2;\n    var maxLatValue = Math.max(Math.min(maxLatRad, Math.PI), -Math.PI) / 2;\n    var minLatSin = Math.sin(minLat * Math.PI / 180);\n    var minLatRad = Math.log((1 + minLatSin) / (1 - minLatSin)) / 2;\n    var minLatValue = Math.max(Math.min(minLatRad, Math.PI), -Math.PI) / 2;\n    if (maps.zoomNotApplied && !maps.isTileMap) {\n        var latiRatio = Math.abs((maps.baseMapBounds.latitude.max - maps.baseMapBounds.latitude.min) / (maxLat - minLat));\n        var longiRatio = Math.abs((maps.baseMapBounds.longitude.max - maps.baseMapBounds.longitude.min) / (maxLong - minLong));\n        applyMethodeZoom = Math.min(latiRatio, longiRatio);\n        var minLocation = convertGeoToPoint(minLat, minLong, 1, maps.layersCollection[0], maps);\n        var maxLocation = convertGeoToPoint(maxLat, maxLong, 1, maps.layersCollection[0], maps);\n    }\n    var latRatio = (maxLatValue - minLatValue) / Math.PI;\n    var lngDiff = maxLong - minLong;\n    var lngRatio = ((lngDiff < 0) ? (lngDiff + 360) : lngDiff) / 360;\n    var WORLD_PX_HEIGHT = 256;\n    var WORLD_PX_WIDTH = 256;\n    var latZoom = (Math.log(mapHeight / WORLD_PX_HEIGHT / latRatio) / Math.LN2);\n    var lngZoom = (Math.log(mapWidth / WORLD_PX_WIDTH / lngRatio) / Math.LN2);\n    var result = (maps.zoomNotApplied && !maps.isTileMap) ? applyMethodeZoom : Math.min(latZoom, lngZoom);\n    scaleFactor = Math.min(result, maxZoomFact);\n    scaleFactor = maps.isTileMap || !maps.zoomNotApplied ? Math.floor(scaleFactor) : scaleFactor;\n    if (!maps.isTileMap) {\n        compareZoomFactor(scaleFactor, maps);\n    }\n    return scaleFactor;\n}\n/**\n * Method to get the result\n *\n * @param {any} e - Specifies the any type value\n * @returns {any} - Returns the data value\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function processResult(e) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var dataValue;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var resultValue = !isNullOrUndefined(e['result']) ? e['result'] : e['actual'];\n    if (isNullOrUndefined(resultValue.length)) {\n        if (!isNullOrUndefined(resultValue['Items'])) {\n            dataValue = resultValue['Items'];\n        }\n    }\n    else {\n        dataValue = resultValue;\n    }\n    return dataValue;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}