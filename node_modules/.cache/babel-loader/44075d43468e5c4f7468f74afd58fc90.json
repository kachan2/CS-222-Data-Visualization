{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable radix */\n/* eslint-disable max-len */\n/* eslint-disable valid-jsdoc */\n/**\n * Maps Component file\n */\nimport { Component, NotifyPropertyChanges, Property, Ajax } from '@syncfusion/ej2-base';\nimport { EventHandler, Browser, isNullOrUndefined, createElement, setValue, extend } from '@syncfusion/ej2-base';\nimport { Event, remove, L10n, Collection, Internationalization, Complex } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { Size, createSvg, Point, removeElement, triggerShapeEvent, showTooltip, checkShapeDataFields, getMousePosition, calculateSize } from './utils/helper';\nimport { getElement, removeClass, getTranslate, triggerItemSelectionEvent, mergeSeparateCluster, customizeStyle, querySelector } from './utils/helper';\nimport { createStyle } from './utils/helper';\nimport { ZoomSettings, LegendSettings } from './model/base';\nimport { LayerSettings, TitleSettings, Border, Margin, MapsAreaSettings, Annotation, CenterPosition } from './model/base';\nimport { Marker } from './layers/marker';\nimport { load, click, onclick, loaded, doubleClick, resize, shapeSelected, zoomIn } from './model/constants';\nimport { getThemeStyle, Theme } from './model/theme';\nimport { BingMap } from './layers/bing-map';\nimport { LayerPanel } from './layers/layer-panel';\nimport { Rect, RectOption, measureText, getElementByID, MapAjax, processResult, getElementsByClassName } from '../maps/utils/helper';\nimport { findPosition, textTrim, TextOption, renderTextElement, convertGeoToPoint, calculateZoomLevel } from '../maps/utils/helper';\nimport { Annotations } from '../maps/user-interaction/annotation';\nimport { MarkerSettings } from './index';\nimport { changeBorderWidth } from './index';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/**\n * Represents the Maps control.\n * ```html\n * <div id=\"maps\"/>\n * <script>\n *   var maps = new Maps();\n *   maps.appendTo(\"#maps\");\n * </script>\n * ```\n */\nvar Maps = /** @class */function (_super) {\n  __extends(Maps, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {MapsModel} options Specifies the options\n   * @param {string | HTMLElement} element Specifies the element\n   */\n  function Maps(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Check layer whether is geometry or tile\n     *\n     * @private\n     */\n    _this.isTileMap = false;\n    /**\n     * Resize the map\n     */\n    _this.isResize = false;\n    /**\n     * @private\n     */\n    _this.isReset = false;\n    /** @private */\n    _this.baseSize = new Size(0, 0);\n    /** @public */\n    _this.translatePoint = new Point(0, 0);\n    /** @private */\n    _this.baseTranslatePoint = new Point(0, 0);\n    /** @public */\n    _this.zoomTranslatePoint = new Point(0, 0);\n    /** @private */\n    _this.markerZoomedState = true;\n    /** @private */\n    _this.zoomPersistence = false;\n    /** @private */\n    _this.defaultState = true;\n    /** @private */\n    _this.centerPositionChanged = false;\n    /** @private */\n    _this.isTileMapSubLayer = false;\n    /** @private */\n    _this.markerNullCount = 0;\n    /** @private */\n    _this.tileTranslatePoint = new Point(0, 0);\n    /** @private */\n    _this.baseTileTranslatePoint = new Point(0, 0);\n    /** @private */\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    _this.isDevice = false;\n    /** @private */\n    _this.staticMapZoom = _this.zoomSettings.enable ? _this.zoomSettings.zoomFactor : 0;\n    /** @private */\n    _this.zoomNotApplied = false;\n    /** @public */\n    _this.dataLabelShape = [];\n    _this.zoomShapeCollection = [];\n    _this.zoomLabelPositions = [];\n    _this.mouseDownEvent = {\n      x: null,\n      y: null\n    };\n    _this.mouseClickEvent = {\n      x: null,\n      y: null\n    };\n    /** @private */\n    _this.selectedElementId = [];\n    /** @private */\n    _this.selectedMarkerElementId = [];\n    /** @private */\n    _this.selectedBubbleElementId = [];\n    /** @private */\n    _this.selectedNavigationElementId = [];\n    /** @private */\n    _this.selectedLegendElementId = [];\n    /** @private */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _this.legendSelectionCollection = [];\n    /** @private */\n    _this.shapeSelections = true;\n    /** @private */\n    _this.legendSelection = true;\n    /** @private */\n    _this.toggledLegendId = [];\n    /** @private */\n    _this.toggledShapeElementId = [];\n    /** @private */\n    _this.checkInitialRender = true;\n    /** @private */\n    _this.initialTileTranslate = new Point(0, 0);\n    /** @private */\n    _this.initialCheck = true;\n    /** @private */\n    _this.applyZoomReset = false;\n    /** @private */\n    _this.markerClusterExpandCheck = false;\n    /** @private */\n    _this.markerClusterExpand = false;\n    /** @private */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _this.shapeSelectionItem = [];\n    setValue('mergePersistData', _this.mergePersistMapsData, _this);\n    return _this;\n  }\n  Object.defineProperty(Maps.prototype, \"isShapeSelected\", {\n    /**\n     *\n     * Specifies whether the shape is selected in the maps or not.\n     *\n     * @returns {boolean} - Returns the boolean value.\n     */\n    get: function () {\n      return this.mapSelect;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * To manage persist maps data\n   *\n   * @returns {void}\n   */\n  Maps.prototype.mergePersistMapsData = function () {\n    var data;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var windowData;\n    try {\n      windowData = window.localStorage;\n    } catch (e) {\n      windowData = null;\n    }\n    if (!isNullOrUndefined(windowData)) {\n      data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n    }\n    if (!(isNullOrUndefined(data) || data === '')) {\n      var dataObj = JSON.parse(data);\n      var keys = Object.keys(dataObj);\n      this.isProtectedOnChange = true;\n      for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (typeof this[key] === 'object' && !isNullOrUndefined(this[key])) {\n          extend(this[key], dataObj[key]);\n        } else {\n          this[key] = dataObj[key];\n        }\n      }\n      this.isProtectedOnChange = false;\n    }\n  };\n  /**\n   * Gets the localized label by locale keyword.\n   *\n   * @param  {string} key - Specifies the key\n   * @returns {string} - Returns the string value\n   */\n  Maps.prototype.getLocalizedLabel = function (key) {\n    return this.localeObject.getConstant(key);\n  };\n  /**\n   * Initializing pre-required values.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.preRender = function () {\n    this.isDevice = Browser.isDevice;\n    this.initPrivateVariable();\n    this.allowServerDataBinding = false;\n    this.unWireEVents();\n    this.wireEVents();\n    this.setCulture();\n  };\n  Maps.prototype.renderElements = function () {\n    this.trigger(load, {\n      maps: this\n    });\n    this.createSVG();\n    this.findBaseAndSubLayers();\n    this.createSecondaryElement();\n    this.addTabIndex();\n    this.themeStyle = getThemeStyle(this.theme);\n    this.renderBorder();\n    this.renderTitle(this.titleSettings, 'title', null, null);\n    this.renderArea();\n    this.processRequestJsonData();\n    this.renderComplete();\n    this.isAddLayer = !this.isTileMap ? false : this.isAddLayer;\n  };\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.render = function () {\n    this.renderElements();\n  };\n  Maps.prototype.processRequestJsonData = function () {\n    var _this = this;\n    var length = this.layersCollection.length - 1;\n    this.serverProcess = {\n      request: 0,\n      response: 0\n    };\n    var queryModule;\n    var localAjax;\n    var ajaxModule;\n    var dataModule;\n    Array.prototype.forEach.call(this.layersCollection, function (layer, layerIndex) {\n      if (layer.shapeData instanceof DataManager) {\n        _this.serverProcess['request']++;\n        dataModule = layer.shapeData;\n        queryModule = layer.query instanceof Query ? layer.query : new Query();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var dataManager = dataModule.executeQuery(queryModule);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        dataManager.then(function (e) {\n          _this.processResponseJsonData('DataManager', e, layer, 'ShapeData');\n        });\n      } else if (layer.shapeData instanceof MapAjax || layer.shapeData) {\n        if (!isNullOrUndefined(layer.shapeData['dataOptions'])) {\n          _this.processAjaxRequest(layer, layer.shapeData, 'ShapeData');\n        }\n      }\n      if (layer.dataSource instanceof DataManager) {\n        _this.serverProcess['request']++;\n        dataModule = layer.dataSource;\n        queryModule = layer.query instanceof Query ? layer.query : new Query();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var dataManager = dataModule.executeQuery(queryModule);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        dataManager.then(function (e) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          layer.dataSource = processResult(e);\n        });\n      }\n      if (layer.markerSettings.length > 0) {\n        var _loop_1 = function (i) {\n          if (layer.markerSettings[i].dataSource instanceof DataManager) {\n            _this.serverProcess['request']++;\n            dataModule = layer.markerSettings[i].dataSource;\n            queryModule = layer.markerSettings[i].query instanceof Query ? layer.markerSettings[i].query : new Query();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var dataManager = dataModule.executeQuery(queryModule);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataManager.then(function (e) {\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              layer.markerSettings[i].dataSource = processResult(e);\n            });\n          }\n        };\n        for (var i = 0; i < layer.markerSettings.length; i++) {\n          _loop_1(i);\n        }\n      }\n      if (layer.bubbleSettings.length > 0) {\n        var _loop_2 = function (i) {\n          if (layer.bubbleSettings[i].dataSource instanceof DataManager) {\n            _this.serverProcess['request']++;\n            dataModule = layer.bubbleSettings[i].dataSource;\n            queryModule = layer.bubbleSettings[i].query instanceof Query ? layer.bubbleSettings[i].query : new Query();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var dataManager = dataModule.executeQuery(queryModule);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataManager.then(function (e) {\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              layer.bubbleSettings[i].dataSource = processResult(e);\n            });\n          }\n        };\n        for (var i = 0; i < layer.bubbleSettings.length; i++) {\n          _loop_2(i);\n        }\n      }\n      if (layer.dataSource instanceof MapAjax || !isNullOrUndefined(layer.dataSource['dataOptions'])) {\n        _this.processAjaxRequest(layer, layer.dataSource, 'DataSource');\n      }\n      if (_this.serverProcess['request'] === _this.serverProcess['response'] && length === layerIndex) {\n        _this.processResponseJsonData(null);\n      }\n    });\n  };\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  Maps.prototype.processAjaxRequest = function (layer, localAjax, type) {\n    var _this = this;\n    this.serverProcess['request']++;\n    var ajaxModule = new Ajax(localAjax.dataOptions, localAjax.type, localAjax.async, localAjax.contentType);\n    ajaxModule.onSuccess = function (args) {\n      _this.processResponseJsonData('Ajax', args, layer, type);\n    };\n    ajaxModule.send(localAjax.sendData);\n  };\n  /**\n   * This method is used to process the JSON data to render the maps.\n   *\n   * @param {string} processType - Specifies the process type in maps.\n   * @param {any | string} data - Specifies the data for maps.\n   * @param {LayerSettings} layer - Specifies the layer for the maps.\n   * @param {string} dataType - Specifies the data type for maps.\n   * @returns {void}\n   */\n  Maps.prototype.processResponseJsonData = function (processType, data, layer, dataType) {\n    this.serverProcess['response']++;\n    if (processType) {\n      if (dataType === 'ShapeData') {\n        layer.shapeData = processType === 'DataManager' ? processResult(data) : JSON.parse(data);\n      } else {\n        layer.dataSource = processType === 'DataManager' ? processResult(data) : JSON.parse('[' + data + ']')[0];\n      }\n    }\n    if (!isNullOrUndefined(processType) && this.serverProcess['request'] === this.serverProcess['response']) {\n      var collection = this.layersCollection;\n      this.layersCollection = [];\n      for (var i = 0; i < collection.length; i++) {\n        if (collection[i].isBaseLayer) {\n          this.layersCollection.push(collection[i]);\n        }\n      }\n      for (var j = 0; j < collection.length; j++) {\n        if (!collection[j].isBaseLayer) {\n          this.layersCollection.push(collection[j]);\n        }\n      }\n      this.renderMap();\n    } else if (isNullOrUndefined(processType)) {\n      this.renderMap();\n    }\n  };\n  Maps.prototype.renderMap = function () {\n    if (this.legendModule && this.legendSettings.visible) {\n      this.legendModule.renderLegend();\n    }\n    this.createTile();\n    if (this.zoomSettings.enable && this.zoomModule) {\n      this.zoomModule.createZoomingToolbars();\n    }\n    if (!isNullOrUndefined(this.dataLabelModule)) {\n      this.dataLabelModule.dataLabelCollections = [];\n      this.dataLabelShape = [];\n    }\n    this.mapLayerPanel.measureLayerPanel();\n    if (!isNullOrUndefined(this.svgObject)) {\n      this.element.appendChild(this.svgObject);\n    }\n    var position = this.getExtraPosition();\n    for (var i = 0; i < this.layers.length; i++) {\n      if (position.x !== 0 || position.y !== 0) {\n        var markerTemplate = document.getElementById(this.element.id + '_LayerIndex_' + i + '_Markers_Template_Group');\n        if (!isNullOrUndefined(markerTemplate)) {\n          markerTemplate.style.top = this.mapAreaRect.y + position.y + 'px';\n          markerTemplate.style.left = this.mapAreaRect.x + position.x + 'px';\n        }\n      }\n      if (this.layers[i].selectionSettings && this.layers[i].selectionSettings.enable && this.layers[i].initialShapeSelection.length > 0 && this.checkInitialRender) {\n        var checkSelection = this.layers[i].selectionSettings.enableMultiSelect;\n        this.layers[i].selectionSettings.enableMultiSelect = checkSelection ? checkSelection : true;\n        var shapeSelection = this.layers[i].initialShapeSelection;\n        for (var j = 0; j < this.layers[i].initialShapeSelection.length; j++) {\n          this.shapeSelection(i, shapeSelection[j].shapePath, shapeSelection[j].shapeValue, true);\n        }\n        this.layers[i].selectionSettings.enableMultiSelect = checkSelection;\n        if (i === this.layers.length - 1) {\n          this.checkInitialRender = false;\n        }\n      }\n      if (!this.isResize) {\n        for (var k = 0; k < this.layers[i].markerSettings.length; k++) {\n          if (this.layers[i].markerSettings[k].selectionSettings && this.layers[i].markerSettings[k].selectionSettings.enable && this.layers[i].markerSettings[k].initialMarkerSelection.length > 0) {\n            var markerSelectionValues = this.layers[i].markerSettings[k].initialMarkerSelection;\n            for (var j = 0; j < markerSelectionValues.length; j++) {\n              this.markerInitialSelection(i, k, this.layers[i].markerSettings[k], markerSelectionValues[j].latitude, markerSelectionValues[j].longitude);\n            }\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(document.getElementById(this.element.id + '_tile_parent'))) {\n      var svg = this.svgObject.getBoundingClientRect();\n      var element = document.getElementById(this.element.id);\n      var tileElement = document.getElementById(this.element.id + '_tile_parent');\n      var tileElement1 = document.getElementById(this.element.id + '_tiles');\n      var tile = tileElement.getBoundingClientRect();\n      var bottom = void 0;\n      var top_1;\n      var left = void 0;\n      left = parseFloat(tileElement.style.left) + element.offsetLeft;\n      var titleTextSize = measureText(this.titleSettings.text, this.titleSettings.textStyle);\n      var subTitleTextSize = measureText(this.titleSettings.subtitleSettings.text, this.titleSettings.subtitleSettings.textStyle);\n      if (this.isTileMap && this.isTileMapSubLayer && this.legendSettings.position === 'Bottom' && this.legendSettings.visible) {\n        if (this.legendSettings.mode !== 'Default') {\n          if (titleTextSize.width !== 0 && titleTextSize.height !== 0) {\n            top_1 = parseFloat(tileElement.style.top) + element.offsetTop + subTitleTextSize.height / 2 - this.legendModule.legendBorderRect.height / 2;\n          } else {\n            top_1 = parseFloat(tileElement.style.top) + element.offsetTop - this.mapAreaRect.y;\n          }\n        } else {\n          left = this.legendModule.legendBorderRect.x;\n          if (titleTextSize.width !== 0 && titleTextSize.height !== 0) {\n            top_1 = parseFloat(tileElement.style.top) + element.offsetTop + subTitleTextSize['height'] / 2 - this.legendModule.legendBorderRect.y;\n          } else {\n            top_1 = parseFloat(tileElement.style.top) + element.offsetTop + subTitleTextSize['height'] / 2;\n          }\n        }\n      } else {\n        bottom = svg.bottom - tile.bottom - element.offsetTop;\n        top_1 = parseFloat(tileElement.style.top) + element.offsetTop;\n      }\n      top_1 = bottom <= 11 ? top_1 : !isNullOrUndefined(this.legendModule) && this.legendSettings.position === 'Bottom' ? this.mapAreaRect.y : top_1 * 2;\n      left = bottom <= 11 ? left : !isNullOrUndefined(this.legendModule) ? left : left * 2;\n      tileElement.style.top = top_1 + 'px';\n      tileElement.style.left = left + 'px';\n      tileElement1.style.top = top_1 + 'px';\n      tileElement1.style.left = left + 'px';\n      if (!isNullOrUndefined(this.legendModule) && this.legendModule.totalPages.length > 0) {\n        tileElement.style.height = tileElement1.style.height = this.legendModule.legendTotalRect.height + 'px';\n        tileElement.style.width = tileElement1.style.width = this.legendModule.legendTotalRect.width + 'px';\n      }\n    }\n    this.arrangeTemplate();\n    if (this.annotationsModule) {\n      if (this.width !== '0px' && this.height !== '0px' && this.width !== '0%' && this.height !== '0%') {\n        this.annotationsModule.renderAnnotationElements();\n      }\n    }\n    this.element.style.outline = 'none';\n    for (var i = 0; i < document.getElementsByTagName('path').length - 1; i++) {\n      if (document.getElementsByTagName('path')[i].id.indexOf('shapeIndex') > -1) {\n        document.getElementsByTagName('path')[i].style.outline = 'none';\n      }\n    }\n    this.zoomingChange();\n    this.trigger(loaded, {\n      maps: this,\n      isResized: this.isResize\n    });\n    this.isResize = false;\n  };\n  /**\n   * To apply color to the initial selected marker\n   *\n   * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n   * @param {Maps} map - Specifies the instance of the maps\n   * @param {Element} targetElement - Specifies the target element\n   * @param {any} data - Specifies the data\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.markerSelection = function (selectionSettings, map, targetElement, data) {\n    var border = {\n      color: selectionSettings.border.color,\n      width: selectionSettings.border.width / map.scale,\n      opacity: selectionSettings.border.opacity\n    };\n    var markerSelectionProperties = {\n      opacity: selectionSettings.opacity,\n      fill: selectionSettings.fill,\n      border: border,\n      target: targetElement.id,\n      cancel: false,\n      data: data,\n      maps: map\n    };\n    if (!getElement('MarkerselectionMap')) {\n      document.body.appendChild(createStyle('MarkerselectionMap', 'MarkerselectionMapStyle', markerSelectionProperties));\n    } else {\n      customizeStyle('MarkerselectionMap', 'MarkerselectionMapStyle', markerSelectionProperties);\n    }\n    if (this.selectedMarkerElementId.length === 0 || selectionSettings.enableMultiSelect) {\n      if (targetElement.tagName === 'g') {\n        targetElement.children[0].setAttribute('class', 'MarkerselectionMapStyle');\n        this.selectedMarkerElementId.push(targetElement.children[0].id);\n      } else {\n        targetElement.setAttribute('class', 'MarkerselectionMapStyle');\n        this.selectedMarkerElementId.push(targetElement.id);\n      }\n    }\n  };\n  /**\n   * initial selection of marker\n   *\n   * @param {number} layerIndex - Specifies the layer index\n   * @param {number} markerIndex - Specifies the marker index\n   * @param {MarkerSettingsModel} markerSettings - Specifies the marker settings\n   * @param {number} latitude - Specifies hte latitude\n   * @param {number} longitude - Specifies the longitude\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.markerInitialSelection = function (layerIndex, markerIndex, markerSettings, latitude, longitude) {\n    var selectionSettings = markerSettings.selectionSettings;\n    if (selectionSettings.enable) {\n      for (var i = 0; i < markerSettings.dataSource['length']; i++) {\n        var data = markerSettings.dataSource[i];\n        if (data['latitude'] === latitude && data['longitude'] === longitude) {\n          var targetId = this.element.id + '_' + 'LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex + '_dataIndex_' + i;\n          this.markerSelection(selectionSettings, this, getElement(targetId), data);\n        }\n      }\n    }\n  };\n  /**\n   * Render the map area border\n   *\n   * @returns {void}\n   */\n  Maps.prototype.renderArea = function () {\n    var width = this.mapsArea.border.width;\n    var background = this.mapsArea.background;\n    if (width > 0 || background || this.themeStyle.areaBackgroundColor) {\n      var mapBorder = {\n        opacity: isNullOrUndefined(this.mapsArea.border.opacity) ? 1 : this.mapsArea.border.opacity,\n        color: this.mapsArea.border.color,\n        width: this.mapsArea.border.width\n      };\n      var rect = new RectOption(this.element.id + '_MapAreaBorder', background || this.themeStyle.areaBackgroundColor, mapBorder, 1, this.mapAreaRect);\n      this.svgObject.appendChild(this.renderer.drawRectangle(rect));\n    }\n  };\n  /**\n   * To add tab index for map element\n   *\n   * @returns {void}\n   */\n  Maps.prototype.addTabIndex = function () {\n    this.element.setAttribute('aria-label', this.description || 'Maps Element');\n    this.element.setAttribute('role', '');\n    this.element.setAttribute('tabindex', this.tabIndex.toString());\n  };\n  // private setSecondaryElementPosition(): void {\n  //     if (!this.isTileMap) {\n  //         let element: HTMLDivElement = getElementByID(this.element.id + '_Secondary_Element') as HTMLDivElement;\n  //         let rect: ClientRect = this.element.getBoundingClientRect();\n  //         let svgRect: ClientRect = getElementByID(this.element.id + '_svg').getBoundingClientRect();\n  //         element.style.marginLeft = Math.max(svgRect.left - rect.left, 0) + 'px';\n  //         element.style.marginTop = Math.max(svgRect.top - rect.top, 0) + 'px';\n  //     }\n  // }\n  Maps.prototype.zoomingChange = function () {\n    var left;\n    var top;\n    if (getElementByID(this.element.id + '_Layer_Collections') && this.zoomModule) {\n      this.zoomModule.layerCollectionEle = getElementByID(this.element.id + '_Layer_Collections');\n    }\n    if (this.isTileMap && getElementByID(this.element.id + '_Tile_SVG') && getElementByID(this.element.id + '_tile_parent')) {\n      var tileElement = getElementByID(this.element.id + '_tile_parent');\n      var tileSvgElement = getElementByID(this.element.id + '_Tile_SVG');\n      var tileSvgParentElement = getElementByID(this.element.id + '_Tile_SVG_Parent');\n      var tileRect = tileElement.getBoundingClientRect();\n      var tileSvgRect = tileSvgElement.getBoundingClientRect();\n      left = tileRect.left - tileSvgRect.left;\n      top = tileRect.top - tileSvgRect.top;\n      tileSvgParentElement.style.left = left + 'px';\n      tileSvgParentElement.style.top = top + 'px';\n      if (!isNullOrUndefined(this.legendModule) && this.legendModule.totalPages.length > 0) {\n        tileElement.style.width = tileSvgElement.style.width = this.legendModule.legendTotalRect.width.toString();\n        tileElement.style.height = tileSvgElement.style.height = this.legendModule.legendTotalRect.height.toString();\n        tileSvgParentElement.style.width = this.legendModule.legendTotalRect.width + 'px';\n        tileSvgParentElement.style.height = this.legendModule.legendTotalRect.height + 'px';\n      }\n      var markerTemplateElements = document.getElementsByClassName('template');\n      if (!isNullOrUndefined(markerTemplateElements) && markerTemplateElements.length > 0) {\n        for (var i = 0; i < markerTemplateElements.length; i++) {\n          var templateGroupEle = markerTemplateElements[i];\n          templateGroupEle.style.left = left + 'px';\n          templateGroupEle.style.top = top + 'px';\n        }\n      }\n    }\n    if (this.zoomSettings.zoomFactor >= 0) {\n      if (this.zoomModule && this.zoomModule.toolBarGroup && this.zoomSettings.enable) {\n        this.zoomModule.alignToolBar();\n      }\n      var elements = document.getElementById(this.element.id + '_Layer_Collections');\n      if (!isNullOrUndefined(elements) && elements.childElementCount > 0) {\n        for (var i = 0; i < elements.childNodes.length; i++) {\n          var childElement = elements.childNodes[i];\n          if (childElement.tagName === 'g' && childElement.id.indexOf('_Legend_Group') == -1) {\n            var layerIndex = parseFloat(childElement.id.split('_LayerIndex_')[1].split('_')[0]);\n            for (var j = 0; j < childElement.childNodes.length; j++) {\n              var childNode = childElement.childNodes[j];\n              if (!(childNode.id.indexOf('_Markers_Group') > -1) && !(childNode.id.indexOf('_bubble_Group') > -1) && !(childNode.id.indexOf('_dataLableIndex_Group') > -1)) {\n                changeBorderWidth(childNode, layerIndex, this.scale, this);\n              }\n            }\n          }\n        }\n      }\n      if (this.zoomModule && this.previousScale !== this.scale) {\n        this.zoomModule.applyTransform(this, true);\n      }\n    }\n  };\n  Maps.prototype.createSecondaryElement = function () {\n    if (isNullOrUndefined(document.getElementById(this.element.id + '_Secondary_Element'))) {\n      var secondaryElement = createElement('div', {\n        id: this.element.id + '_Secondary_Element',\n        styles: 'position: absolute;z-index:2;'\n      });\n      this.element.appendChild(secondaryElement);\n    }\n  };\n  /**\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.arrangeTemplate = function () {\n    if (document.getElementById(this.element.id + '_Legend_Border')) {\n      document.getElementById(this.element.id + '_Legend_Border').style.pointerEvents = 'none';\n    }\n    var templateElements = document.getElementsByClassName(this.element.id + '_template');\n    if (!isNullOrUndefined(templateElements) && templateElements.length > 0 && getElementByID(this.element.id + '_Layer_Collections') && !this.isTileMap) {\n      for (var i = 0; i < templateElements.length; i++) {\n        var offSetLetValue = 0;\n        var offSetTopValue = 0;\n        var templateGroupEle = templateElements[i];\n        if (!isNullOrUndefined(templateGroupEle) && templateGroupEle.childElementCount > 0) {\n          var layerOffset = getElementByID(this.element.id + '_Layer_Collections').getBoundingClientRect();\n          var elementOffset = getElementByID(templateGroupEle.id).getBoundingClientRect();\n          if (templateGroupEle.id.indexOf('Marker') === -1) {\n            offSetLetValue = this.isTileMap ? 0 : layerOffset.left < elementOffset.left ? -Math.abs(elementOffset.left - layerOffset.left) : Math.abs(elementOffset.left - layerOffset.left);\n            offSetTopValue = this.isTileMap ? 0 : layerOffset.top < elementOffset.top ? -Math.abs(elementOffset.top - layerOffset.top) : Math.abs(elementOffset.top - layerOffset.top);\n          }\n          for (var j = 0; j < templateGroupEle.childElementCount; j++) {\n            var currentTemplate = templateGroupEle.childNodes[j];\n            if (currentTemplate.id.indexOf('Marker') !== -1) {\n              var elementOffset_1 = getElementByID(currentTemplate.id).getBoundingClientRect();\n              currentTemplate.style.left = parseFloat(currentTemplate.style.left) - (this.isTileMap ? 0 : elementOffset_1.width / 2) + 'px';\n              currentTemplate.style.top = parseFloat(currentTemplate.style.top) - (this.isTileMap ? 0 : elementOffset_1.height / 2) + 'px';\n            } else {\n              currentTemplate.style.left = parseFloat(currentTemplate.style.left) + offSetLetValue + 'px';\n              currentTemplate.style.top = parseFloat(currentTemplate.style.top) + offSetTopValue + 'px';\n              currentTemplate.style.transform = 'translate(-50%, -50%)';\n            }\n          }\n        }\n      }\n    }\n  };\n  Maps.prototype.createTile = function () {\n    var mainLayer = this.layersCollection[0];\n    var padding = 0;\n    if (mainLayer.isBaseLayer && (mainLayer.layerType === 'OSM' || mainLayer.layerType === 'Bing' || mainLayer.layerType === 'GoogleStaticMap' || mainLayer.layerType === 'Google' || !isNullOrUndefined(mainLayer.urlTemplate) && mainLayer.urlTemplate !== '')) {\n      removeElement(this.element.id + '_tile_parent');\n      removeElement(this.element.id + '_tiles');\n      removeElement('animated_tiles');\n      var ele = createElement('div', {\n        id: this.element.id + '_tile_parent',\n        styles: 'position: absolute; left: ' + this.mapAreaRect.x + 'px; right: ' + this.margin.right + 'px; top: ' + (this.mapAreaRect.y + padding) + 'px; height: ' + this.mapAreaRect.height + 'px; width: ' + this.mapAreaRect.width + 'px; overflow: hidden;'\n      });\n      var ele1 = createElement('div', {\n        id: this.element.id + '_tiles',\n        styles: 'position: absolute; left: ' + this.mapAreaRect.x + 'px;  right: ' + this.margin.right + 'px; top: ' + (this.mapAreaRect.y + padding) + 'px; height: ' + this.mapAreaRect.height + 'px; width: ' + this.mapAreaRect.width + 'px; overflow: hidden;'\n      });\n      this.element.appendChild(ele);\n      this.element.appendChild(ele1);\n    }\n  };\n  /**\n   * To initilize the private varibales of maps.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.initPrivateVariable = function () {\n    if (this.element.id === '') {\n      var collection = document.getElementsByClassName('e-maps').length;\n      this.element.id = 'maps_control_' + collection;\n    }\n    this.renderer = new SvgRenderer(this.element.id);\n    this.mapLayerPanel = new LayerPanel(this);\n  };\n  Maps.prototype.findBaseAndSubLayers = function () {\n    var _this = this;\n    var baseIndex = this.baseLayerIndex;\n    var mainLayers = [];\n    var subLayers = [];\n    this.layersCollection = [];\n    Array.prototype.forEach.call(this.layers, function (layer) {\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      layer.type === 'Layer' ? mainLayers.push(layer) : subLayers.push(layer);\n    });\n    for (var i = 0; i < mainLayers.length; i++) {\n      var baseLayer = mainLayers[i];\n      if (baseLayer.visible && baseIndex === i) {\n        baseLayer.isBaseLayer = true;\n        this.isTileMap = baseLayer.layerType === 'Geometry' && !isNullOrUndefined(baseLayer.shapeData) ? false : true;\n        this.layersCollection.push(baseLayer);\n        break;\n      } else if (i === mainLayers.length - 1) {\n        this.layersCollection.push(mainLayers[0]);\n        break;\n      }\n    }\n    subLayers.map(function (subLayer, subLayerIndex) {\n      if (subLayer.visible) {\n        _this.layersCollection.push(subLayer);\n      }\n    });\n  };\n  /**\n   * Render the map border\n   *\n   * @private\n   * @returns {void}\n   */\n  Maps.prototype.renderBorder = function () {\n    var width = this.border.width;\n    var borderElement = this.svgObject.querySelector('#' + this.element.id + '_MapBorder');\n    if ((width > 0 || this.background || this.themeStyle.backgroundColor) && isNullOrUndefined(borderElement)) {\n      var border = {\n        opacity: isNullOrUndefined(this.border.opacity) ? 1 : this.border.opacity,\n        color: this.border.color,\n        width: this.border.width\n      };\n      var borderRect = new RectOption(this.element.id + '_MapBorder', this.background || this.themeStyle.backgroundColor, border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n      this.svgObject.appendChild(this.renderer.drawRectangle(borderRect));\n    } else {\n      borderElement.setAttribute('fill', this.background || this.themeStyle.backgroundColor);\n    }\n  };\n  /**\n   * Render the title and subtitle\n   *\n   * @param {TitleSettingsModel} title - Specifies the title\n   * @param {string} type - Specifies the type\n   * @param {Rect} bounds - Specifies the bounds\n   * @param {Element} groupEle - Specifies the group element\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.renderTitle = function (title, type, bounds, groupEle) {\n    var style = {\n      size: title.textStyle.size,\n      color: title.textStyle.color,\n      fontFamily: title.textStyle.fontFamily,\n      fontWeight: title.textStyle.fontWeight,\n      fontStyle: title.textStyle.fontStyle,\n      opacity: title.textStyle.opacity\n    };\n    var height;\n    var width = Math.abs(this.margin.left + this.margin.right - this.availableSize.width);\n    style.fontFamily = !isNullOrUndefined(style.fontFamily) ? style.fontFamily : this.themeStyle.fontFamily;\n    style.fontWeight = style.fontWeight || this.themeStyle.titleFontWeight;\n    style.size = type === 'title' ? style.size || this.themeStyle.titleFontSize : style.size || Theme.mapsSubTitleFont.size;\n    if (title.text) {\n      if (isNullOrUndefined(groupEle)) {\n        groupEle = this.renderer.createGroup({\n          id: this.element.id + '_Title_Group'\n        });\n      }\n      var trimmedTitle = textTrim(width, title.text, style);\n      var elementSize = measureText(trimmedTitle, style);\n      var rect = isNullOrUndefined(bounds) ? new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height) : bounds;\n      var location_1 = findPosition(rect, title.alignment, elementSize, type);\n      var options = new TextOption(this.element.id + '_Map_' + type, location_1.x, location_1.y, 'start', trimmedTitle);\n      var titleBounds = new Rect(location_1.x, location_1.y, elementSize.width, elementSize.height);\n      var element = renderTextElement(options, style, style.color || (type === 'title' ? this.themeStyle.titleFontColor : this.themeStyle.subTitleFontColor), groupEle);\n      element.setAttribute('aria-label', this.description || title.text);\n      element.setAttribute('role', '');\n      if (type === 'title' && !title.subtitleSettings.text || type === 'subtitle') {\n        height = Math.abs(titleBounds.y + this.margin.bottom - this.availableSize.height);\n        this.mapAreaRect = new Rect(this.margin.left, titleBounds.y + 10, width, height - 10);\n      }\n      if (type !== 'subtitle' && title.subtitleSettings.text) {\n        this.renderTitle(title.subtitleSettings, 'subtitle', titleBounds, groupEle);\n      } else {\n        this.svgObject.appendChild(groupEle);\n      }\n    } else {\n      height = Math.abs(this.margin.top + this.margin.bottom - this.availableSize.height);\n      this.mapAreaRect = new Rect(this.margin.left, this.margin.top, width, height);\n    }\n  };\n  /**\n   * To create svg element for maps\n   *\n   * @returns {void}\n   */\n  Maps.prototype.createSVG = function () {\n    this.removeSvg();\n    createSvg(this);\n  };\n  /**\n   * To Remove the SVG\n   *\n   * @returns {void}\n   */\n  Maps.prototype.removeSvg = function () {\n    removeElement(this.element.id + '_Secondary_Element');\n    removeElement(this.element.id + '_tile_parent');\n    removeElement(this.element.id + '_tiles');\n    if (this.svgObject) {\n      while (this.svgObject.childNodes.length > 0) {\n        this.svgObject.removeChild(this.svgObject.firstChild);\n      }\n      if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n        remove(this.svgObject);\n      }\n    }\n    this.clearTemplate();\n  };\n  /**\n   * To bind event handlers for maps.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.wireEVents = function () {\n    //let cancelEvent: string = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    EventHandler.add(this.element, 'click', this.mapsOnClick, this);\n    // EventHandler.add(this.element, 'contextmenu', this.mapsOnRightClick, this);\n    EventHandler.add(this.element, 'dblclick', this.mapsOnDoubleClick, this);\n    EventHandler.add(this.element, Browser.touchStartEvent, this.mouseDownOnMap, this);\n    EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMoveOnMap, this);\n    EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEndOnMap, this);\n    EventHandler.add(this.element, 'pointerleave mouseleave', this.mouseLeaveOnMap, this);\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n    EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n    //  EventHandler.add(this.element, cancelEvent, this.mouseLeaveOnMap, this);\n    window.addEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.mapsOnResize.bind(this));\n  };\n  /**\n   * To unbind event handlers from maps.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.unWireEVents = function () {\n    //let cancelEvent: string = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n    EventHandler.remove(this.element, 'click', this.mapsOnClick);\n    // EventHandler.remove(this.element, 'contextmenu', this.mapsOnRightClick);\n    EventHandler.remove(this.element, 'dblclick', this.mapsOnDoubleClick);\n    EventHandler.remove(this.element, Browser.touchStartEvent, this.mouseDownOnMap);\n    EventHandler.remove(this.element, Browser.touchMoveEvent, this.mouseMoveOnMap);\n    EventHandler.remove(this.element, Browser.touchEndEvent, this.mouseEndOnMap);\n    EventHandler.remove(this.element, 'pointerleave mouseleave', this.mouseLeaveOnMap);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n    EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n    //EventHandler.remove(this.element, cancelEvent, this.mouseLeaveOnMap);\n    window.removeEventListener(Browser.isTouch && 'orientation' in window && 'onorientationchange' in window ? 'orientationchange' : 'resize', this.mapsOnResize);\n  };\n  /**\n   * This method is used to perform operations when mouse pointer leave from maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps.\n   * @returns {void}\n   */\n  Maps.prototype.mouseLeaveOnMap = function (e) {\n    if (document.getElementsByClassName('highlightMapStyle').length > 0 && this.legendModule) {\n      this.legendModule.removeShapeHighlightCollection();\n      removeClass(document.getElementsByClassName('highlightMapStyle')[0]);\n    }\n  };\n  Maps.prototype.keyUpHandler = function (event) {\n    var id = event.target['id'];\n    if (event.code === 'Tab' && id.indexOf('_LayerIndex_') > -1 && id.indexOf('shapeIndex') > -1) {\n      this.keyboardHighlightSelection(id, event.type);\n    } else if (id.indexOf('_LayerIndex_') === -1 && id.indexOf('shapeIndex') === -1 && getElementsByClassName('highlightMapStyle').length > 0) {\n      removeClass(getElementsByClassName('highlightMapStyle')[0]);\n      if (this.legendSettings.visible && this.legendModule) {\n        this.legendModule.removeShapeHighlightCollection();\n      }\n    }\n  };\n  Maps.prototype.keyboardHighlightSelection = function (id, key) {\n    var layerIndex = parseInt(id.split('_LayerIndex_')[1].split('_')[0], 10);\n    var shapeIndex = parseInt(id.split('_shapeIndex_')[1].split('_')[0], 10);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var shapeData = this.layers[layerIndex].shapeData['features']['length'] > shapeIndex ? this.layers[layerIndex].shapeData['features'][shapeIndex]['properties'] : null;\n    var dataIndex = parseInt(id.split('_dataIndex_')[1].split('_')[0], 10);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    var data = isNullOrUndefined(dataIndex) ? null : this.layers[layerIndex].dataSource[dataIndex];\n    if (this.layers[layerIndex].selectionSettings.enable && key === 'keydown' && this.selectionModule) {\n      this.selectionModule.selectionsettings = this.layers[layerIndex].selectionSettings;\n      this.selectionModule.selectionType = 'Shape';\n      this.selectionModule.selectElement(event.target, layerIndex, data, shapeData);\n    } else if (this.highlightModule && this.layers[layerIndex].highlightSettings.enable && key === 'keyup' && !event.target.classList.contains('ShapeselectionMapStyle')) {\n      this.highlightModule.highlightSettings = this.layers[layerIndex].highlightSettings;\n      this.highlightModule.handleHighlight(event.target, layerIndex, data, shapeData);\n    }\n  };\n  Maps.prototype.keyDownHandler = function (event) {\n    var zoom = this.zoomModule;\n    if ((event.key === '+' || event.code === 'Equal') && zoom) {\n      zoom.performZoomingByToolBar('zoomin');\n    } else if ((event.key === '-' || event.code === 'Minus') && zoom) {\n      zoom.performZoomingByToolBar('zoomout');\n    } else if (event['keyCode'] === 82 && zoom) {\n      zoom.performZoomingByToolBar('reset');\n    } else if ((event.code === 'ArrowUp' || event.code === 'ArrowDown') && zoom) {\n      event.preventDefault();\n      zoom.mouseDownLatLong['x'] = 0;\n      zoom.mouseMoveLatLong['y'] = this.mapAreaRect.height / 7;\n      zoom.panning('None', zoom.mouseDownLatLong['x'], event.code === 'ArrowUp' ? -zoom.mouseMoveLatLong['y'] : zoom.mouseMoveLatLong['y'], event);\n      zoom.mouseDownLatLong['y'] = zoom.mouseMoveLatLong['y'];\n    } else if ((event.code === 'ArrowLeft' || event.code === 'ArrowRight') && zoom) {\n      event.preventDefault();\n      zoom.mouseDownLatLong['y'] = 0;\n      zoom.mouseMoveLatLong['x'] = this.mapAreaRect.width / 7;\n      zoom.panning('None', event.code === 'ArrowLeft' ? -zoom.mouseMoveLatLong['x'] : zoom.mouseMoveLatLong['x'], zoom.mouseDownLatLong['y'], event);\n      zoom.mouseDownLatLong['x'] = zoom.mouseMoveLatLong['x'];\n    } else if (event.code === 'Enter') {\n      var id = event.target['id'];\n      event.preventDefault();\n      if (this.legendModule && (id.indexOf('_Left_Page_Rect') > -1 || id.indexOf('_Right_Page_Rect') > -1)) {\n        this.mapAreaRect = this.legendModule.initialMapAreaRect;\n        this.legendModule.currentPage = id.indexOf('_Left_Page_') > -1 ? this.legendModule.currentPage - 1 : this.legendModule.currentPage + 1;\n        this.legendModule.legendGroup = this.renderer.createGroup({\n          id: this.element.id + '_Legend_Group'\n        });\n        this.legendModule.drawLegendItem(this.legendModule.currentPage);\n        var textContent = document.getElementById(this.element.id + '_Paging_Text').textContent;\n        var text = textContent.split('/').map(Number);\n        if (id.indexOf('_Left_Page_Rect') > -1) {\n          if (text[0] !== 1) {\n            event.target.focus();\n          }\n          event.target.style.outlineColor = text[0] - 1 !== text[1] ? '' : 'transparent';\n        } else if (id.indexOf('_Right_Page_Rect') > -1) {\n          if (text[0] !== text[1]) {\n            event.target.focus();\n          }\n          event.target.style.outlineColor = text[0] !== text[1] + 1 ? '' : 'transparent';\n        }\n        if (querySelector(this.element.id + '_Legend_Border', this.element.id)) {\n          querySelector(this.element.id + '_Legend_Border', this.element.id).style.pointerEvents = 'none';\n        }\n      }\n      if (id.indexOf('shapeIndex') > -1) {\n        this.keyboardHighlightSelection(id, event.type);\n      }\n    }\n  };\n  /**\n   * Gets the selected element to be maintained or not.\n   *\n   * @param {Element} targetEle - Specifies the target element\n   * @returns {boolean} - Returns the boolean value\n   * @private\n   */\n  Maps.prototype.SelectedElement = function (targetEle) {\n    var isSelect = false;\n    if (targetEle.getAttribute('class') === 'ShapeselectionMapStyle') {\n      isSelect = true;\n    }\n    return isSelect;\n  };\n  /**\n   * This method is used to perform the operations when a click operation is performed on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps.\n   */\n  Maps.prototype.mapsOnClick = function (e) {\n    var _this = this;\n    var targetEle = e.target;\n    var targetId = targetEle.id;\n    var latitude = null;\n    var longitude = null;\n    this.mouseClickEvent = {\n      x: e.x,\n      y: e.y\n    };\n    if (targetEle.id.indexOf('_ToolBar') === -1) {\n      var latLongValue = this.getClickLocation(targetId, e.pageX, e.pageY, targetEle, e['layerX'], e['layerY']);\n      if (!isNullOrUndefined(latLongValue)) {\n        latitude = latLongValue.latitude;\n        longitude = latLongValue.longitude;\n      }\n      var eventArgs_1 = {\n        cancel: false,\n        name: click,\n        target: targetId,\n        x: e.clientX,\n        y: e.clientY,\n        latitude: latitude,\n        longitude: longitude,\n        isShapeSelected: this.SelectedElement(targetEle)\n      };\n      if (this.onclick) {\n        eventArgs_1.name = onclick;\n        this.trigger('onclick', eventArgs_1, function (mouseArgs) {\n          _this.clickHandler(e, eventArgs_1, targetEle);\n        });\n      } else {\n        this.trigger('click', eventArgs_1, function (mouseArgs) {\n          _this.clickHandler(e, eventArgs_1, targetEle);\n        });\n      }\n    }\n  };\n  Maps.prototype.clickHandler = function (e, eventArgs, targetEle) {\n    if (targetEle.id.indexOf('shapeIndex') > -1) {\n      this.mergeCluster();\n      if (getElement(this.element.id + '_mapsTooltip') && this.mapsTooltipModule.tooltipTargetID.indexOf('_MarkerIndex_') > -1) {\n        removeElement(this.element.id + '_mapsTooltip');\n      }\n    }\n    if (this.markerModule) {\n      this.markerModule.markerClusterClick(e);\n    }\n    if (!eventArgs.cancel) {\n      this.notify(click, targetEle);\n    }\n    if (!eventArgs.cancel && targetEle.id.indexOf('shapeIndex') !== -1) {\n      this.triggerShapeSelection(targetEle);\n    }\n  };\n  Maps.prototype.triggerShapeSelection = function (targetEle) {\n    var layerIndex = parseInt(targetEle.id.split('_LayerIndex_')[1].split('_')[0], 10);\n    var shapeSelectedEventArgs = triggerShapeEvent(targetEle.id, this.layers[layerIndex].selectionSettings, this, shapeSelected);\n    if (!shapeSelectedEventArgs.cancel && this.selectionModule && !isNullOrUndefined(this.shapeSelected)) {\n      customizeStyle(this.selectionModule.selectionType + 'selectionMap', this.selectionModule.selectionType + 'selectionMapStyle', shapeSelectedEventArgs);\n    } else if (shapeSelectedEventArgs.cancel && this.selectionModule && isNullOrUndefined(shapeSelectedEventArgs['data'])) {\n      removeClass(targetEle);\n      this.selectionModule.removedSelectionList(targetEle);\n    }\n  };\n  Maps.prototype.getClickLocation = function (targetId, pageX, pageY, targetElement, x, y) {\n    var layerIndex = 0;\n    var latLongValue;\n    if (targetId.indexOf('_LayerIndex_') !== -1 && !this.isTileMap && parseInt(this.mouseDownEvent['x']) === parseInt(this.mouseClickEvent['x']) && parseInt(this.mouseDownEvent['y']) === parseInt(this.mouseClickEvent['y'])) {\n      layerIndex = parseFloat(targetId.split('_LayerIndex_')[1].split('_')[0]);\n      if (this.layers[layerIndex].geometryType === 'Normal') {\n        if (targetId.indexOf('_shapeIndex_') > -1) {\n          var location_2 = getMousePosition(pageX, pageY, targetElement.parentElement);\n          var minLongitude = Math.abs(-this.baseMapBounds.longitude.min * this.mapLayerPanel.currentFactor);\n          var minLatitude = Math.abs(this.baseMapBounds.latitude.max * this.mapLayerPanel.currentFactor);\n          latLongValue = {\n            latitude: Math.abs(this.baseMapBounds.latitude.max - location_2.y / this.mapLayerPanel.currentFactor),\n            longitude: Math.abs(location_2.x / this.mapLayerPanel.currentFactor + this.baseMapBounds.longitude.min)\n          };\n          if (this.baseMapBounds.longitude.min < 0 && minLongitude > location_2.x) {\n            latLongValue.longitude = -latLongValue.longitude;\n          }\n          if (this.baseMapBounds.latitude.min < 0 && minLatitude > location_2.y) {\n            latLongValue.latitude = -latLongValue.latitude;\n          }\n        } else if (targetId.indexOf('_MarkerIndex_') > -1 && this.markerModule) {\n          var markerIndex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[0], 10);\n          var dataIndex = parseInt(targetId.split('_dataIndex_')[1].split('_')[0], 10);\n          if (!isNaN(markerIndex) && !isNaN(dataIndex)) {\n            var dataObject = this.layers[layerIndex].markerSettings[markerIndex].dataSource[dataIndex];\n            latLongValue = {\n              latitude: dataObject['latitude'],\n              longitude: dataObject.longitude\n            };\n          } else {\n            latLongValue = {\n              latitude: null,\n              longitude: null\n            };\n          }\n        } else {\n          latLongValue = {\n            latitude: null,\n            longitude: null\n          };\n        }\n      } else {\n        latLongValue = this.getGeoLocation(layerIndex, x, y);\n      }\n    } else if (this.isTileMap && parseInt(this.mouseDownEvent['x']) === parseInt(this.mouseClickEvent['x']) && parseInt(this.mouseDownEvent['y']) === parseInt(this.mouseClickEvent['y'])) {\n      latLongValue = this.getTileGeoLocation(x, y);\n    }\n    return latLongValue;\n  };\n  /**\n   * This method is used to perform operations when mouse click on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps.\n   * @returns {boolean} - Returns the boolean value\n   */\n  Maps.prototype.mouseEndOnMap = function (e) {\n    var targetEle = e.target;\n    var targetId = targetEle.id;\n    var pageX;\n    var latitude = null;\n    var longitude = null;\n    var pageY;\n    var target;\n    var touchArg;\n    var rect = this.element.getBoundingClientRect();\n    var element = e.target;\n    if (e.type.indexOf('touch') !== -1) {\n      this.isTouch = true;\n      touchArg = e;\n      pageX = touchArg.changedTouches[0].pageX;\n      pageY = touchArg.changedTouches[0].pageY;\n      target = touchArg.target;\n      this.mouseClickEvent = {\n        x: pageX,\n        y: pageY\n      };\n    } else {\n      this.isTouch = e.pointerType === 'touch';\n      pageX = e.pageX;\n      pageY = e.pageY;\n      target = e.target;\n    }\n    if (this.isTouch) {\n      if (targetEle.id.indexOf('_ToolBar') === -1) {\n        var latLongValue = this.getClickLocation(targetId, pageX, pageY, targetEle, pageX, pageY);\n        if (!isNullOrUndefined(latLongValue)) {\n          latitude = latLongValue.latitude;\n          longitude = latLongValue.longitude;\n        }\n      }\n      this.titleTooltip(e, pageX, pageY, true);\n      if (!isNullOrUndefined(this.legendModule)) {\n        this.legendTooltip(e, e.pageX, e.pageY, true);\n      }\n    }\n    this.notify(Browser.touchEndEvent, e);\n    if (e.cancelable && !this.isTouch) {\n      e.preventDefault();\n    }\n    return false;\n  };\n  /**\n   * This method is used to perform operations when mouse is clicked down on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps\n   * @returns {void}\n   */\n  Maps.prototype.mouseDownOnMap = function (e) {\n    var pageX;\n    var pageY;\n    var target;\n    var touchArg;\n    this.mouseDownEvent = {\n      x: e.x,\n      y: e.y\n    };\n    if (e.type.indexOf('touch') !== -1 && e.changedTouches) {\n      this.mouseDownEvent = {\n        x: e.changedTouches[0].pageX,\n        y: e.changedTouches[0].pageY\n      };\n    }\n    var rect = this.element.getBoundingClientRect();\n    var element = e.target;\n    if (element.id.indexOf('_ToolBar') === -1) {\n      var markerModule = this.markerModule;\n      if (element.id.indexOf('shapeIndex') > -1 || element.id.indexOf('Tile') > -1) {\n        this.mergeCluster();\n        if (element.id.indexOf('shapeIndex') > -1) {\n          this.triggerShapeSelection(element);\n        }\n      }\n      if (markerModule) {\n        markerModule.markerClick(e);\n        markerModule.markerClusterClick(e);\n      }\n      if (this.bubbleModule) {\n        this.bubbleModule.bubbleClick(e);\n      }\n    }\n    this.notify(Browser.touchStartEvent, e);\n  };\n  /**\n   * Merges the marker clusters.\n   *\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.mergeCluster = function () {\n    if (this.markerModule && this.markerModule.sameMarkerData.length > 0 && (this.zoomModule ? this.zoomModule.isSingleClick : true)) {\n      mergeSeparateCluster(this.markerModule.sameMarkerData, this, getElement(this.element.id + '_Markers_Group'));\n      this.markerModule.sameMarkerData = [];\n    }\n  };\n  /**\n   * This method is used to perform operations when performing the double click operation on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event.\n   */\n  Maps.prototype.mapsOnDoubleClick = function (e) {\n    this.notify('dblclick', e);\n    var targetElement = e.target;\n    var targetId = targetElement.id;\n    var layerIndex = 0;\n    var latLongValue;\n    var latitude = null;\n    var longitude = null;\n    if (targetElement.id.indexOf('_ToolBar') === -1) {\n      if (targetElement.id.indexOf('_LayerIndex_') !== -1 && !this.isTileMap && this.mouseDownEvent['x'] === e.clientX && this.mouseDownEvent['y'] === e.clientY) {\n        layerIndex = parseFloat(targetElement.id.split('_LayerIndex_')[1].split('_')[0]);\n        latLongValue = this.getGeoLocation(layerIndex, e['layerX'], e['layerY']);\n        latitude = latLongValue['latitude'];\n        longitude = latLongValue['longitude'];\n      } else if (this.isTileMap && this.mouseDownEvent['x'] === e.clientX && this.mouseDownEvent['y'] === e.clientY) {\n        latLongValue = this.getTileGeoLocation(e['layerX'], e['layerY']);\n        latitude = latLongValue['latitude'];\n        longitude = latLongValue['longitude'];\n      }\n      var doubleClickArgs = {\n        cancel: false,\n        name: doubleClick,\n        x: e.clientX,\n        y: e.clientY,\n        target: targetId,\n        latitude: latitude,\n        longitude: longitude,\n        isShapeSelected: null\n      };\n      this.trigger('doubleClick', doubleClickArgs);\n    }\n  };\n  /**\n   * This method is used to perform operations while performing mouse over on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps.\n   * @returns {void}\n   */\n  Maps.prototype.mouseMoveOnMap = function (e) {\n    var pageX;\n    var pageY;\n    var touchArg;\n    var target;\n    var touches = null;\n    target = e.type === 'touchmove' ? e.target : target = e.target;\n    // if (target.id.indexOf('shapeIndex') !== -1 && !this.highlightSettings.enable) {\n    //     triggerShapeEvent(target.id, this.highlightSettings, this, shapeHighlight);\n    // }\n    if (this.markerModule) {\n      this.markerModule.markerMove(e);\n      this.markerModule.markerClusterMouseMove(e);\n    }\n    if (this.bubbleModule) {\n      this.bubbleModule.bubbleMove(e);\n    }\n    this.onMouseMove(e);\n    this.notify(Browser.touchMoveEvent, e);\n  };\n  /**\n   * This method is used to perform operations when mouse move event is performed on maps.\n   *\n   * @param {PointerEvent} e - Specifies the pointer event on maps.\n   * @returns {void}\n   */\n  Maps.prototype.onMouseMove = function (e) {\n    var element = e.target;\n    var pageX;\n    var pageY;\n    var target;\n    var touchArg;\n    if (!this.isTouch) {\n      this.titleTooltip(e, e.pageX, e.pageY);\n      if (!isNullOrUndefined(this.legendModule)) {\n        this.legendTooltip(e, e.pageX, e.pageY, true);\n      }\n    }\n    return false;\n  };\n  Maps.prototype.legendTooltip = function (event, x, y, isTouch) {\n    var targetId = event.target.id;\n    var legendText;\n    var page = this.legendModule.currentPage;\n    var legendIndex = event.target.id.split('_Index_')[1];\n    var collection;\n    page = this.legendModule.totalPages.length <= this.legendModule.currentPage ? this.legendModule.totalPages.length - 1 : this.legendModule.currentPage < 0 ? 0 : this.legendModule.currentPage;\n    var count = this.legendModule.totalPages.length !== 0 ? this.legendModule.totalPages[page]['Collection'].length : this.legendModule.totalPages.length;\n    for (var i = 0; i < count; i++) {\n      collection = this.legendModule.totalPages[page]['Collection'][i];\n      legendText = collection['DisplayText'];\n      targetId = event.target['id'];\n      legendIndex = event.target['id'].split('_Index_')[1];\n      if (targetId === this.element.id + '_Legend_Text_Index_' + legendIndex && event.target.textContent.indexOf('...') > -1 && collection['idIndex'] === parseInt(legendIndex, 10)) {\n        showTooltip(legendText, this.legendSettings.textStyle.size, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_Legend_Text_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n      }\n    }\n    if (targetId !== this.element.id + '_Legend_Text_Index_' + legendIndex) {\n      removeElement(this.element.id + '_EJ2_Legend_Text_Tooltip');\n    }\n  };\n  Maps.prototype.titleTooltip = function (event, x, y, isTouch) {\n    var targetId = event.target.id;\n    if (targetId === this.element.id + '_LegendTitle' && event.target.textContent.indexOf('...') > -1) {\n      showTooltip(this.legendSettings.title.text, this.legendSettings.titleStyle.size, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_LegendTitle_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n    } else {\n      removeElement(this.element.id + '_EJ2_LegendTitle_Tooltip');\n    }\n    if (targetId === this.element.id + '_Map_title' && event.target.textContent.indexOf('...') > -1) {\n      showTooltip(this.titleSettings.text, this.titleSettings.textStyle.size || this.themeStyle.titleFontSize, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n    } else {\n      removeElement(this.element.id + '_EJ2_Title_Tooltip');\n    }\n  };\n  /*\n   /**\n   * This method is used to perform operations while resizing the window.\n   *\n   * @param e - Specifies the arguments of window resize event.\n   */\n  Maps.prototype.mapsOnResize = function (e) {\n    var _this = this;\n    this.isResize = this.isReset = true;\n    var args = {\n      cancel: false,\n      name: resize,\n      previousSize: this.availableSize,\n      currentSize: calculateSize(this),\n      maps: this\n    };\n    this.trigger(resize, args);\n    if (!args.cancel) {\n      if (this.resizeTo) {\n        clearTimeout(this.resizeTo);\n      }\n      if (!isNullOrUndefined(this.element) && this.element.classList.contains('e-maps')) {\n        this.resizeTo = setTimeout(function () {\n          _this.unWireEVents();\n          _this.createSVG();\n          _this.refreshing = true;\n          _this.wireEVents();\n          _this.render();\n          _this.refreshing = false;\n        }, 500);\n      }\n    }\n    return false;\n  };\n  /**\n   * This method is used to zoom the map by specifying the center position.\n   *\n   * @param {number} centerPosition - Specifies the center position\n   * @param {number} centerPosition.latitude - Specifies the latitude value for the center position\n   * @param {number} centerPosition.longitude - Specifies the longitude value for the center position\n   * @param {number} zoomFactor - Specifies the zoom factor for maps.\n   * @returns {void}\n   */\n  Maps.prototype.zoomByPosition = function (centerPosition, zoomFactor) {\n    var factor = this.mapLayerPanel.calculateFactor(this.layersCollection[0]);\n    var position;\n    var size = this.mapAreaRect;\n    if (!this.isTileMap && this.zoomModule) {\n      if (!isNullOrUndefined(centerPosition)) {\n        position = convertGeoToPoint(centerPosition.latitude, centerPosition.longitude, factor, this.layersCollection[0], this);\n        var mapRect = document.getElementById(this.element.id + '_Layer_Collections').getBoundingClientRect();\n        var svgRect = this.svgObject.getBoundingClientRect();\n        var xDiff = Math.abs(mapRect.left - svgRect.left) / this.scale;\n        var yDiff = Math.abs(mapRect.top - svgRect.top) / this.scale;\n        var x = this.translatePoint.x + xDiff;\n        var y = this.translatePoint.y + yDiff;\n        this.scale = zoomFactor;\n        this.translatePoint.x = ((mapRect.left < svgRect.left ? x : 0) + size.width / 2 - position.x * zoomFactor) / zoomFactor;\n        this.translatePoint.y = ((mapRect.top < svgRect.top ? y : 0) + size.height / 2 - position.y * zoomFactor) / zoomFactor;\n        this.zoomModule.applyTransform(this);\n      } else {\n        position = {\n          x: size.width / 2,\n          y: size.height / 2\n        };\n        this.zoomModule.performZooming(position, zoomFactor, zoomFactor > this.scale ? 'ZoomIn' : 'ZoomOut');\n      }\n    } else if (this.zoomModule) {\n      this.tileZoomLevel = zoomFactor;\n      this.tileTranslatePoint = this.mapLayerPanel['panTileMap'](this.availableSize.width, this.availableSize.height, {\n        x: centerPosition.longitude,\n        y: centerPosition.latitude\n      });\n      this.mapLayerPanel.generateTiles(zoomFactor, this.tileTranslatePoint, null, new BingMap(this));\n    }\n  };\n  /**\n   * This method is used to perform panning by specifying the direction.\n   *\n   * @param {PanDirection} direction - Specifies the direction in which the panning is performed.\n   * @param {PointerEvent | TouchEvent} mouseLocation - Specifies the location of the mouse pointer in maps.\n   */\n  Maps.prototype.panByDirection = function (direction, mouseLocation) {\n    var xDiff = 0;\n    var yDiff = 0;\n    switch (direction) {\n      case 'Left':\n        xDiff = -(this.mapAreaRect.width / 7);\n        break;\n      case 'Right':\n        xDiff = this.mapAreaRect.width / 7;\n        break;\n      case 'Top':\n        yDiff = -(this.mapAreaRect.height / 7);\n        break;\n      case 'Bottom':\n        yDiff = this.mapAreaRect.height / 7;\n        break;\n    }\n    if (this.zoomModule) {\n      this.zoomModule.panning(direction, xDiff, yDiff, mouseLocation);\n    }\n  };\n  /**\n   * This method is used to add the layers dynamically to the maps.\n   *\n   * @param {Object} layer - Specifies the layer for the maps.\n   */\n  Maps.prototype.addLayer = function (layer) {\n    var mapsLayer = this.layers;\n    mapsLayer.push(layer);\n    this.isAddLayer = true;\n    this.layers = mapsLayer;\n  };\n  /**\n   * This method is used to remove a layer from map.\n   *\n   * @param {number} index - Specifies the index number of the layer to be removed.\n   * @returns {void}\n   */\n  Maps.prototype.removeLayer = function (index) {\n    var mapsLayer = this.layers;\n    mapsLayer.splice(index, 1);\n    this.layers = mapsLayer;\n  };\n  /**\n   * This method is used to add markers dynamically in the maps.\n   * If we provide the index value of the layer in which the marker to be added and the coordinates\n   * of the marker as parameters, the marker will be added in the location.\n   *\n   * @param {number} layerIndex - Specifies the index number of the layer.\n   * @param {MarkerSettingsModel[]} markerCollection - Specifies the settings of the marker to be added.\n   * @returns {void}\n   */\n  Maps.prototype.addMarker = function (layerIndex, markerCollection) {\n    var layerEle = document.getElementById(this.element.id + '_LayerIndex_' + layerIndex);\n    if (markerCollection.length > 0 && layerEle) {\n      for (var _i = 0, markerCollection_1 = markerCollection; _i < markerCollection_1.length; _i++) {\n        var newMarker = markerCollection_1[_i];\n        this.layersCollection[layerIndex].markerSettings.push(new MarkerSettings(this, 'markerSettings', newMarker));\n      }\n      var markerModule = new Marker(this);\n      markerModule.markerRender(this, layerEle, layerIndex, this.mapLayerPanel['currentFactor'], 'AddMarker');\n      this.arrangeTemplate();\n    }\n  };\n  /**\n   * This method is used to select the geometric shape element in the maps component.\n   *\n   * @param {number} layerIndex - Specifies the index of the layer in maps.\n   * @param {string | string[]} propertyName - Specifies the property name from the data source.\n   * @param {string} name - Specifies the name of the shape that is selected.\n   * @param {boolean} enable - Specifies the shape selection to be enabled.\n   * @returns {void}\n   */\n  Maps.prototype.shapeSelection = function (layerIndex, propertyName, name, enable) {\n    var targetEle;\n    var subLayerIndex;\n    var popertyNameArray = Array.isArray(propertyName) ? propertyName : Array(propertyName);\n    if (isNullOrUndefined(enable)) {\n      enable = true;\n    }\n    var selectionsettings = this.layers[layerIndex].selectionSettings;\n    if (!selectionsettings.enableMultiSelect && this.legendSelection && enable) {\n      this.removeShapeSelection();\n    }\n    if (this.layers[layerIndex].type === 'SubLayer') {\n      for (var i = 0; i < this.layersCollection.length; i++) {\n        if (this.layersCollection[i].shapeData === this.layers[layerIndex].shapeData) {\n          subLayerIndex = i;\n          break;\n        }\n      }\n    }\n    if (selectionsettings.enable) {\n      var targetId = void 0;\n      var dataIndex = void 0;\n      var shapeIndex = void 0;\n      var indexValue = void 0;\n      var shapeDataValue = void 0;\n      var data = void 0;\n      var shapeData = this.layers[layerIndex].shapeData['features'];\n      for (var i = 0; i < shapeData.length; i++) {\n        for (var j = 0; j < popertyNameArray.length; j++) {\n          var propertyName_1 = !isNullOrUndefined(shapeData[i]['properties'][popertyNameArray[j]]) && isNaN(shapeData[i]['properties'][popertyNameArray[j]]) ? shapeData[i]['properties'][popertyNameArray[j]].toLowerCase() : shapeData[i]['properties'][popertyNameArray[j]];\n          var shapeName = !isNullOrUndefined(name) && typeof name === 'string' ? name.toLowerCase() : name;\n          var k = void 0;\n          if (propertyName_1 === shapeName) {\n            if (!isNullOrUndefined(this.layers[layerIndex].shapeSettings.colorValuePath)) {\n              k = checkShapeDataFields(this.layers[layerIndex].dataSource, shapeData[i]['properties'], this.layers[layerIndex].shapeDataPath, this.layers[layerIndex].shapePropertyPath, this.layers[layerIndex]);\n            }\n            var baseLayer = this.layers[layerIndex];\n            if (this.baseLayerIndex >= 0 && baseLayer.isBaseLayer) {\n              indexValue = 0;\n            } else if (this.layers[layerIndex].type === 'SubLayer') {\n              indexValue = subLayerIndex;\n            }\n            targetId = this.element.id + '_' + 'LayerIndex_' + indexValue + '_shapeIndex_' + i + '_dataIndex_' + k;\n            targetEle = getElement(targetId);\n            if (isNullOrUndefined(k) && isNullOrUndefined(targetEle)) {\n              targetId = this.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_null';\n              targetEle = getElement(targetId);\n            }\n            shapeIndex = parseInt(targetEle.id.split('_shapeIndex_')[1].split('_')[0], 10);\n            shapeDataValue = this.layers[layerIndex].shapeData['features']['length'] > shapeIndex ? this.layers[layerIndex].shapeData['features'][shapeIndex]['properties'] : null;\n            dataIndex = parseInt(targetEle.id.split('_dataIndex_')[1].split('_')[0], 10);\n            data = isNullOrUndefined(dataIndex) ? null : this.layers[layerIndex].dataSource[dataIndex];\n            if (enable) {\n              triggerItemSelectionEvent(selectionsettings, this, targetEle, shapeDataValue, data);\n              this.shapeSelectionClass = getElement('ShapeselectionMap');\n              if (this.legendSettings.visible && targetEle.id.indexOf('_MarkerIndex_') === -1) {\n                this.legendModule.shapeHighLightAndSelection(targetEle, data, selectionsettings, 'selection', layerIndex);\n              }\n              var shapeToggled = this.legendSettings.visible ? this.legendModule.shapeToggled : true;\n              if (shapeToggled) {\n                targetEle.setAttribute('class', 'ShapeselectionMapStyle');\n                if (this.selectedElementId.indexOf(targetEle.getAttribute('id')) === -1) {\n                  this.selectedElementId.push(targetEle.getAttribute('id'));\n                }\n                if (!selectionsettings.enableMultiSelect) {\n                  return;\n                }\n              }\n            } else {\n              this.legendSelection = !selectionsettings.enableMultiSelect && !this.legendSelection ? true : this.legendSelection;\n              if (this.legendSettings.visible && targetEle.id.indexOf('_MarkerIndex_') === -1 && targetEle.getAttribute('class') === 'ShapeselectionMapStyle') {\n                this.legendModule.shapeHighLightAndSelection(targetEle, data, selectionsettings, 'selection', layerIndex);\n              }\n              var shapeToggled = this.legendSettings.visible ? this.legendModule.shapeToggled : true;\n              if (shapeToggled) {\n                removeClass(targetEle);\n                var selectedElementIdIndex = this.selectedElementId.indexOf(targetEle.getAttribute('id'));\n                if (selectedElementIdIndex !== -1) {\n                  this.selectedElementId.splice(selectedElementIdIndex, 1);\n                  if (!selectionsettings.enableMultiSelect && this.legendSelection && this.selectedElementId.length > 0) {\n                    this.removeShapeSelection();\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n  /**\n   * This method is used to zoom the maps component based on the provided coordinates.\n   *\n   * @param {number} minLatitude - Specifies the minimum latitude to be zoomed.\n   * @param {number} minLongitude - Specifies the minimum latitude to be zoomed.\n   * @param {number} maxLatitude - Specifies the maximum latitude to be zoomed.\n   * @param {number} maxLongitude - Specifies the maximum longitude to be zoomed.\n   * @returns {void}\n   */\n  Maps.prototype.zoomToCoordinates = function (minLatitude, minLongitude, maxLatitude, maxLongitude) {\n    var _a, _b;\n    var centerLatitude;\n    var centerLongtitude;\n    var isTwoCoordinates = false;\n    if (isNullOrUndefined(maxLatitude) && isNullOrUndefined(maxLongitude) || isNullOrUndefined(minLatitude) && isNullOrUndefined(minLongitude)) {\n      minLatitude = isNullOrUndefined(minLatitude) ? 0 : minLatitude;\n      minLongitude = isNullOrUndefined(minLatitude) ? 0 : minLongitude;\n      maxLatitude = isNullOrUndefined(maxLatitude) ? minLatitude : maxLatitude;\n      maxLongitude = isNullOrUndefined(maxLongitude) ? minLongitude : maxLongitude;\n      isTwoCoordinates = true;\n    }\n    if (minLatitude > maxLatitude) {\n      _a = [maxLatitude, minLatitude], minLatitude = _a[0], maxLatitude = _a[1];\n    }\n    if (minLongitude > maxLongitude) {\n      _b = [maxLongitude, minLongitude], minLongitude = _b[0], maxLongitude = _b[1];\n    }\n    if (!isTwoCoordinates) {\n      centerLatitude = (minLatitude + maxLatitude) / 2;\n      centerLongtitude = (minLongitude + maxLongitude) / 2;\n    } else {\n      centerLatitude = minLatitude + maxLatitude;\n      centerLongtitude = minLongitude + maxLongitude;\n    }\n    this.centerLatOfGivenLocation = centerLatitude;\n    this.centerLongOfGivenLocation = centerLongtitude;\n    this.minLatOfGivenLocation = minLatitude;\n    this.minLongOfGivenLocation = minLongitude;\n    this.maxLatOfGivenLocation = maxLatitude;\n    this.maxLongOfGivenLocation = maxLongitude;\n    this.zoomNotApplied = true;\n    this.scaleOfGivenLocation = calculateZoomLevel(minLatitude, maxLatitude, minLongitude, maxLongitude, this.mapAreaRect.width, this.mapAreaRect.height, this);\n    var zoomArgs = {\n      cancel: false,\n      name: 'zoom',\n      type: zoomIn,\n      maps: this,\n      tileTranslatePoint: {},\n      translatePoint: {},\n      tileZoomLevel: this.isTileMap ? {\n        previous: this.tileZoomLevel,\n        current: this.scaleOfGivenLocation\n      } : {},\n      scale: !this.isTileMap ? {\n        previous: this.scale,\n        current: this.scaleOfGivenLocation\n      } : {\n        previous: this.tileZoomLevel,\n        current: this.scaleOfGivenLocation\n      }\n    };\n    this.trigger('zoom', zoomArgs);\n    this.refresh();\n  };\n  /**\n   * This method is used to remove multiple selected shapes in the maps.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.removeShapeSelection = function () {\n    var selectedElements = this.selectedElementId.length;\n    for (var i = 0; i < selectedElements; i++) {\n      removeClass(getElementByID(this.selectedElementId[0]));\n      this.selectedElementId.splice(0, 1);\n    }\n    if (this.legendSettings.visible) {\n      var legendSelectedElements = this.legendSelectionCollection.length;\n      for (var i = 0; i < legendSelectedElements; i++) {\n        removeClass(getElementByID(this.legendSelectionCollection[i]['legendElement']['id']));\n        this.selectedLegendElementId.splice(0, 1);\n      }\n    }\n    this.shapeSelectionItem = [];\n    this.legendSelectionCollection = [];\n  };\n  /**\n   * This method is used to set culture for maps component.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.setCulture = function () {\n    this.intl = new Internationalization();\n    this.setLocaleConstants();\n    this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n  };\n  /**\n   * This method to set locale constants to the maps component.\n   *\n   * @returns {void}\n   */\n  Maps.prototype.setLocaleConstants = function () {\n    // Need to modify after the api confirm\n    this.defaultLocalConstants = {\n      ZoomIn: 'Zoom in',\n      Zoom: 'Zoom',\n      ZoomOut: 'Zoom out',\n      Pan: 'Pan',\n      Reset: 'Reset',\n      ImageNotFound: 'Image Not Found'\n    };\n  };\n  /**\n   * This method disposes the maps component.\n   */\n  Maps.prototype.destroy = function () {\n    this.unWireEVents();\n    _super.prototype.destroy.call(this);\n    this.shapeSelectionItem = [];\n    this.toggledShapeElementId = [];\n    this.toggledLegendId = [];\n    this.legendSelectionCollection = [];\n    this.selectedLegendElementId = [];\n    this.selectedNavigationElementId = [];\n    this.selectedBubbleElementId = [];\n    this.selectedMarkerElementId = [];\n    this.selectedElementId = [];\n    this.dataLabelShape = [];\n    this.zoomShapeCollection = [];\n    this.zoomLabelPositions = [];\n    this.mouseDownEvent = {\n      x: null,\n      y: null\n    };\n    this.mouseClickEvent = {\n      x: null,\n      y: null\n    };\n    this.formatFunction = null;\n    //TODO: Calling the below code throws spec issue.\n    //this.renderer = null;\n    this.availableSize = new Size(0, 0);\n    if (document.getElementById('mapsmeasuretext')) {\n      document.getElementById('mapsmeasuretext').remove();\n    }\n    this.removeSvg();\n  };\n  /**\n   * Gets component name\n   *\n   * @returns {string} - Returns the string value\n   */\n  Maps.prototype.getModuleName = function () {\n    return 'maps';\n  };\n  /**\n   * Gets the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Returns the string value\n   * @private\n   */\n  Maps.prototype.getPersistData = function () {\n    var keyEntity = ['translatePoint', 'zoomSettings', 'mapScaleValue', 'tileTranslatePoint', 'baseTranslatePoint', 'scale', 'zoomPersistence', 'defaultState', 'markerZoomedState', 'initialCheck', 'initialZoomLevel', 'initialTileTranslate', 'applyZoomReset', 'markerZoomFactor'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {MapsModel} newProp - Specifies the new property\n   * @param {MapsModel} oldProp - Specifies the old property\n   * @returns {void}\n   * @private\n   */\n  Maps.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var render = false;\n    var isMarker = false;\n    var isLayer = false;\n    var isStaticMapType = false;\n    var layerEle;\n    if (newProp['layers']) {\n      var newLayerLength = Object.keys(newProp['layers']).length;\n      layerEle = document.getElementById(this.element.id + '_LayerIndex_' + (newLayerLength - 1));\n    }\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      switch (prop) {\n        case 'background':\n          this.renderBorder();\n          break;\n        case 'height':\n        case 'width':\n        case 'layers':\n        case 'projectionType':\n        case 'centerPosition':\n        case 'legendSettings':\n        case 'baseLayerIndex':\n          if (prop === 'layers') {\n            isLayer = true;\n            var layerPropLength = Object.keys(newProp.layers).length;\n            for (var x = 0; x < layerPropLength; x++) {\n              if (!isNullOrUndefined(newProp.layers[x])) {\n                var collection = Object.keys(newProp.layers[x]);\n                for (var _b = 0, collection_1 = collection; _b < collection_1.length; _b++) {\n                  var collectionProp = collection_1[_b];\n                  if (collectionProp === 'layerType' && newProp.layers[x].layerType !== 'Geometry' || isNullOrUndefined(this.layers[x].shapeData) && !isNullOrUndefined(this.layers[x].urlTemplate) && this.layers[x].urlTemplate !== '') {\n                    this.isReset = true;\n                  } else if (collectionProp === 'markerSettings') {\n                    isMarker = true;\n                  } else if (collectionProp === 'staticMapType') {\n                    isStaticMapType = true;\n                  }\n                }\n              }\n            }\n          }\n          render = true;\n          break;\n        case 'zoomSettings':\n          if (!isNullOrUndefined(oldProp.zoomSettings)) {\n            if (newProp.zoomSettings.zoomFactor !== oldProp.zoomSettings.zoomFactor && !isLayer) {\n              render = false;\n            } else if (newProp.zoomSettings.shouldZoomInitially !== oldProp.zoomSettings.shouldZoomInitially) {\n              this.zoomSettings.zoomFactor = 1;\n              render = true;\n            } else if (newProp.zoomSettings.enable !== oldProp.zoomSettings.enable) {\n              this.zoomSettings.zoomFactor = 1;\n              render = true;\n            } else {\n              render = true;\n            }\n          }\n          break;\n        case 'locale':\n        case 'currencyCode':\n          _super.prototype.refresh.call(this);\n          break;\n      }\n    }\n    if (render) {\n      if (newProp.layers && isMarker) {\n        removeElement(this.element.id + '_Markers_Group');\n        if (this.isTileMap) {\n          this.mapLayerPanel.renderTileLayer(this.mapLayerPanel, this.layers['currentFactor'], this.layers.length - 1);\n        } else {\n          this.render();\n        }\n      } else if (newProp.layers && isStaticMapType) {\n        this.mapLayerPanel.renderGoogleMap(this.layers[this.layers.length - 1].key, this.staticMapZoom);\n      } else {\n        this.createSVG();\n        this.renderElements();\n      }\n    }\n  };\n  /**\n   * To provide the array of modules needed for maps rendering\n   *\n   * @returns {ModuleDeclaration[]} - Returns the modules\n   * @private\n   */\n  Maps.prototype.requiredModules = function () {\n    var modules = [];\n    var isVisible = this.findVisibleLayers(this.layers);\n    var annotationEnable = false;\n    this.annotations.map(function (annotation, index) {\n      annotationEnable = annotation.content != null;\n    });\n    if (this.isBubbleVisible()) {\n      modules.push({\n        member: 'Bubble',\n        args: [this]\n      });\n    }\n    if (isVisible.highlight) {\n      modules.push({\n        member: 'Highlight',\n        args: [this]\n      });\n    }\n    if (isVisible.selection) {\n      modules.push({\n        member: 'Selection',\n        args: [this]\n      });\n    }\n    if (this.legendSettings.visible) {\n      modules.push({\n        member: 'Legend',\n        args: [this]\n      });\n    }\n    if (this.zoomSettings.enable || this.zoomSettings.zoomFactor > this.zoomSettings.minZoom) {\n      modules.push({\n        member: 'Zoom',\n        args: [this]\n      });\n    }\n    if (this.isMarkersVisible()) {\n      modules.push({\n        member: 'Marker',\n        args: [this]\n      });\n    }\n    if (this.isDataLabelVisible()) {\n      modules.push({\n        member: 'DataLabel',\n        args: [this]\n      });\n    }\n    if (this.isNavigationVisible()) {\n      modules.push({\n        member: 'NavigationLine',\n        args: [this]\n      });\n    }\n    if (isVisible.tooltip) {\n      modules.push({\n        member: 'MapsTooltip',\n        args: [this]\n      });\n    }\n    if (annotationEnable) {\n      modules.push({\n        member: 'Annotations',\n        args: [this, Annotations]\n      });\n    }\n    if (this.allowPrint) {\n      modules.push({\n        member: 'Print',\n        args: [this]\n      });\n    }\n    if (this.allowImageExport) {\n      modules.push({\n        member: 'ImageExport',\n        args: [this]\n      });\n    }\n    if (this.allowPdfExport) {\n      modules.push({\n        member: 'PdfExport',\n        args: [this]\n      });\n    }\n    return modules;\n  };\n  /**\n   * To find marker visibility\n   */\n  Maps.prototype.isMarkersVisible = function () {\n    var isVisible = false;\n    Array.prototype.forEach.call(this.layers, function (layer, layerIndex) {\n      for (var i = 0; i < layer.markerSettings.length; i++) {\n        if (layer.markerSettings[i].visible) {\n          isVisible = true;\n          break;\n        }\n      }\n    });\n    return isVisible;\n  };\n  /**\n   * To find DataLabel visibility\n   */\n  Maps.prototype.isDataLabelVisible = function () {\n    var isVisible = false;\n    for (var i = 0; i < this.layers.length; i++) {\n      if (this.layers[i].dataLabelSettings.visible) {\n        isVisible = true;\n        break;\n      }\n    }\n    return isVisible;\n  };\n  /**\n   * To find navigation line visibility\n   */\n  Maps.prototype.isNavigationVisible = function () {\n    var isVisible = false;\n    Array.prototype.forEach.call(this.layers, function (layer, layerIndex) {\n      for (var i = 0; i < layer.navigationLineSettings.length; i++) {\n        if (layer.navigationLineSettings[i].visible) {\n          isVisible = true;\n          break;\n        }\n      }\n    });\n    return isVisible;\n  };\n  /**\n   * To find space between the secondary element and svg element.\n   * @private\n   */\n  Maps.prototype.getExtraPosition = function () {\n    var top = 0;\n    var left = 0;\n    var svgElement = getElement(this.element.id + '_svg');\n    if (!isNullOrUndefined(svgElement)) {\n      var svgClientRects = svgElement.getClientRects();\n      var mapsClientRects = getElement(this.element.id + '_Secondary_Element').getClientRects();\n      if (svgClientRects.length !== 0 && mapsClientRects.length !== 0) {\n        var svgClientRect = svgClientRects[0];\n        var mapsClientRect = mapsClientRects[0];\n        top = svgClientRect.top - mapsClientRect.top;\n        left = svgClientRect.left - mapsClientRect.left;\n      }\n    }\n    return new Point(left, top);\n  };\n  /**\n   * To find marker visibility\n   */\n  Maps.prototype.isBubbleVisible = function () {\n    var isVisible = false;\n    for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n      var layer = _a[_i];\n      if (this.getBubbleVisible(layer)) {\n        isVisible = true;\n        break;\n      }\n    }\n    return isVisible;\n  };\n  /**\n   * To find the bubble visibility from layer\n   *\n   * @param {LayerSettingsModel} layer - Spcifies the layer settings model\n   * @returns {boolean} - Returns the boolean value\n   * @private\n   */\n  Maps.prototype.getBubbleVisible = function (layer) {\n    var isVisible = false;\n    for (var _i = 0, _a = layer.bubbleSettings; _i < _a.length; _i++) {\n      var bubble = _a[_i];\n      if (bubble.visible) {\n        isVisible = true;\n        break;\n      }\n    }\n    return isVisible;\n  };\n  /**\n   * This method handles the printing functionality for the maps component.\n   *\n   * @param {string[] | string | Element} id - Specifies the element to be printed.\n   * @returns {void}\n   */\n  Maps.prototype.print = function (id) {\n    if (this.allowPrint && this.printModule) {\n      this.printModule.print(this, id);\n    }\n  };\n  /**\n   * This method handles the export functionality for the maps component.\n   *\n   * @param {ExportType} type - Specifies the type of the exported file.\n   * @param {string} fileName - Specifies the name of the file with which the rendered maps need to be exported.\n   * @param {PdfPageOrientation} orientation - Specifies the orientation of the pdf document in exporting.\n   * @param {boolean} allowDownload - Specifies whether to download as a file or get as base64 string for the file\n   * @returns {Promise<string>} - Returns the string value.\n   */\n  Maps.prototype.export = function (type, fileName, orientation, allowDownload) {\n    var _this = this;\n    if (isNullOrUndefined(allowDownload)) {\n      allowDownload = true;\n    }\n    if (type !== 'PDF' && this.allowImageExport && this.imageExportModule) {\n      return new Promise(function (resolve, reject) {\n        resolve(_this.imageExportModule.export(_this, type, fileName, allowDownload));\n      });\n    } else if (this.allowPdfExport && this.pdfExportModule) {\n      return new Promise(function (resolve, reject) {\n        resolve(_this.pdfExportModule.export(_this, type, fileName, allowDownload, orientation));\n      });\n    }\n    return null;\n  };\n  /**\n   * This method is used to get the Bing maps URL.\n   *\n   * @param {string} url - Specifies the URL of the maps.\n   * @returns {Promise<string>} - Returns the processed Bing URL as Promise.\n   */\n  Maps.prototype.getBingUrlTemplate = function (url) {\n    var promise = new Promise(function (resolve, reject) {\n      var ajax = new Ajax({\n        url: url\n      });\n      ajax.onSuccess = function (json) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var jsonObject = JSON.parse(json);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var resource = jsonObject['resourceSets'][0]['resources'][0];\n        resolve(resource['imageUrl']);\n      };\n      ajax.send();\n    });\n    return promise;\n  };\n  /**\n   * To find visibility of layers and markers for required modules load.\n   *\n   * @param {LayerSettingsModel[]} layers - Specifies the layers.\n   * @param {boolean} isLayerVisible - Specifies whether the layer is visible or not.\n   * @param {boolean} isBubblevisible - Specifies whether the bubble is visible or not.\n   * @param {boolean} istooltipVisible - Specifies whether the tooltip is visible or not.\n   * @param {boolean} isSelection - Specifies whether the shape is selectd or not.\n   * @param {boolean} isHighlight - Specfies whether the shape is highlighted or not.\n   * @returns {boolean} - Returns the boolean value\n   */\n  Maps.prototype.findVisibleLayers = function (layers, isLayerVisible, isBubblevisible, istooltipVisible, isSelection, isHighlight) {\n    if (isLayerVisible === void 0) {\n      isLayerVisible = false;\n    }\n    if (isBubblevisible === void 0) {\n      isBubblevisible = false;\n    }\n    if (istooltipVisible === void 0) {\n      istooltipVisible = false;\n    }\n    if (isSelection === void 0) {\n      isSelection = false;\n    }\n    if (isHighlight === void 0) {\n      isHighlight = false;\n    }\n    var bubbles;\n    var markers;\n    var navigationLine;\n    for (var _i = 0, layers_1 = layers; _i < layers_1.length; _i++) {\n      var layer = layers_1[_i];\n      isLayerVisible = layer.visible || isLayerVisible;\n      if (layer.visible) {\n        bubbles = layer.bubbleSettings;\n        markers = layer.markerSettings;\n        navigationLine = layer.navigationLineSettings;\n        for (var _a = 0, navigationLine_1 = navigationLine; _a < navigationLine_1.length; _a++) {\n          var navigation = navigationLine_1[_a];\n          if (navigation.visible) {\n            isSelection = navigation.highlightSettings.enable || isSelection;\n            isHighlight = navigation.selectionSettings.enable || isHighlight;\n          }\n        }\n        for (var _b = 0, markers_1 = markers; _b < markers_1.length; _b++) {\n          var marker = markers_1[_b];\n          if (marker.visible) {\n            istooltipVisible = marker.tooltipSettings.visible || istooltipVisible;\n            isSelection = marker.selectionSettings.enable || isSelection;\n            isHighlight = marker.highlightSettings.enable || isHighlight;\n          }\n          if (istooltipVisible) {\n            break;\n          }\n        }\n        for (var _c = 0, bubbles_1 = bubbles; _c < bubbles_1.length; _c++) {\n          var bubble = bubbles_1[_c];\n          if (bubble.visible) {\n            istooltipVisible = bubble.tooltipSettings.visible || istooltipVisible;\n            isSelection = bubble.selectionSettings.enable || isSelection;\n            isHighlight = bubble.highlightSettings.enable || isHighlight;\n          }\n          if (istooltipVisible) {\n            break;\n          }\n        }\n        istooltipVisible = layer.tooltipSettings.visible || istooltipVisible;\n        isSelection = layer.selectionSettings.enable || isSelection;\n        isHighlight = layer.highlightSettings.enable || isHighlight;\n      }\n      if (isLayerVisible && isBubblevisible && istooltipVisible) {\n        break;\n      }\n    }\n    return {\n      layer: isLayerVisible,\n      bubble: isBubblevisible,\n      tooltip: istooltipVisible,\n      selection: isSelection,\n      highlight: isHighlight\n    };\n  };\n  /**\n   * This method is used to get the geo location points.\n   *\n   * @param {number} layerIndex - Specifies the index number of the layer of the map.\n   * @param {number} x - Specifies the x value.\n   * @param {number} y - Specifies the y value.\n   * @returns {GeoPosition}- Returns the geo position\n   */\n  Maps.prototype.getGeoLocation = function (layerIndex, x, y) {\n    var container = document.getElementById(this.element.id);\n    var pageX = x - container.offsetLeft;\n    var pageY = y - container.offsetTop;\n    var currentLayer = this.layersCollection[layerIndex];\n    var translate = getTranslate(this, currentLayer, false);\n    var translatePoint = translate['location'];\n    var translatePointX = translatePoint.x * this.scale;\n    var translatePointY = translatePoint.y * this.scale;\n    var mapSize = Math.min(this.mapAreaRect.height, this.mapAreaRect.width) * this.mapLayerPanel['currentFactor'] * this.scale;\n    var xx = this.clip(pageX - translatePointX, 0, mapSize - 1) / mapSize - 0.5;\n    var yy = 0.5 - this.clip(pageY - translatePointY, 0, mapSize - 1) / mapSize;\n    var lat = 90 - 360 * Math.atan(Math.exp(-yy * 2 * Math.PI)) / Math.PI;\n    var long = 360 * xx;\n    return {\n      latitude: lat,\n      longitude: long\n    };\n  };\n  Maps.prototype.clip = function (value, minVal, maxVal) {\n    return Math.min(Math.max(value, minVal), maxVal);\n  };\n  /**\n   * This method is used to get the geo location points when tile maps is rendered in the maps component.\n   *\n   * @param {number} x - Specifies the x value\n   * @param {number} y - Specifies the y value\n   * @returns {GeoPosition} - Returns the position\n   */\n  Maps.prototype.getTileGeoLocation = function (x, y) {\n    var container = document.getElementById(this.element.id);\n    var ele = document.getElementById(this.element.id + '_tile_parent');\n    var latLong = this.pointToLatLong(x + this.mapAreaRect.x - (ele.offsetLeft - container.offsetLeft), y + this.mapAreaRect.y - (ele.offsetTop - container.offsetTop));\n    return {\n      latitude: latLong['latitude'],\n      longitude: latLong['longitude']\n    };\n  };\n  /**\n   * This method is used to convert the point to latitude and longitude in maps.\n   *\n   * @param {number} pageX - Specifies the x value for the page.\n   * @param {number} pageY - Specifies the y value for the page.\n   * @returns {Object} - Returns the object.\n   */\n  Maps.prototype.pointToLatLong = function (pageX, pageY) {\n    var padding = this.layers[this.layers.length - 1].layerType === 'GoogleStaticMap' ? 0 : 10;\n    pageY = this.zoomSettings.enable ? pageY + padding : pageY;\n    var mapSize = 256 * Math.pow(2, this.tileZoomLevel);\n    var x1 = this.clip(pageX - this.translatePoint.x * this.scale, 0, mapSize - 1) / mapSize - 0.5;\n    var y1 = 0.5 - this.clip(pageY - this.translatePoint.y * this.scale, 0, mapSize - 1) / mapSize;\n    var lat = 90 - 360 * Math.atan(Math.exp(-y1 * 2 * Math.PI)) / Math.PI;\n    var long = 360 * x1;\n    return {\n      latitude: lat,\n      longitude: long\n    };\n  };\n  __decorate([Property(null)], Maps.prototype, \"background\", void 0);\n  __decorate([Property(false)], Maps.prototype, \"useGroupingSeparator\", void 0);\n  __decorate([Property(null)], Maps.prototype, \"format\", void 0);\n  __decorate([Property(null)], Maps.prototype, \"width\", void 0);\n  __decorate([Property(null)], Maps.prototype, \"height\", void 0);\n  __decorate([Property('MouseMove')], Maps.prototype, \"tooltipDisplayMode\", void 0);\n  __decorate([Property(false)], Maps.prototype, \"allowPrint\", void 0);\n  __decorate([Property(false)], Maps.prototype, \"allowImageExport\", void 0);\n  __decorate([Property(false)], Maps.prototype, \"allowPdfExport\", void 0);\n  __decorate([Complex({}, TitleSettings)], Maps.prototype, \"titleSettings\", void 0);\n  __decorate([Complex({}, ZoomSettings)], Maps.prototype, \"zoomSettings\", void 0);\n  __decorate([Complex({}, LegendSettings)], Maps.prototype, \"legendSettings\", void 0);\n  __decorate([Collection([], LayerSettings)], Maps.prototype, \"layers\", void 0);\n  __decorate([Collection([], Annotation)], Maps.prototype, \"annotations\", void 0);\n  __decorate([Complex({}, Margin)], Maps.prototype, \"margin\", void 0);\n  __decorate([Complex({\n    color: '#DDDDDD',\n    width: 0\n  }, Border)], Maps.prototype, \"border\", void 0);\n  __decorate([Property('Material')], Maps.prototype, \"theme\", void 0);\n  __decorate([Property('Mercator')], Maps.prototype, \"projectionType\", void 0);\n  __decorate([Property(0)], Maps.prototype, \"baseLayerIndex\", void 0);\n  __decorate([Property(null)], Maps.prototype, \"description\", void 0);\n  __decorate([Property(1)], Maps.prototype, \"tabIndex\", void 0);\n  __decorate([Complex({\n    latitude: null,\n    longitude: null\n  }, CenterPosition)], Maps.prototype, \"centerPosition\", void 0);\n  __decorate([Complex({}, MapsAreaSettings)], Maps.prototype, \"mapsArea\", void 0);\n  __decorate([Event()], Maps.prototype, \"load\", void 0);\n  __decorate([Event()], Maps.prototype, \"beforePrint\", void 0);\n  __decorate([Event()], Maps.prototype, \"loaded\", void 0);\n  __decorate([Event()], Maps.prototype, \"click\", void 0);\n  __decorate([Event()], Maps.prototype, \"onclick\", void 0);\n  __decorate([Event()], Maps.prototype, \"doubleClick\", void 0);\n  __decorate([Event()], Maps.prototype, \"rightClick\", void 0);\n  __decorate([Event()], Maps.prototype, \"resize\", void 0);\n  __decorate([Event()], Maps.prototype, \"tooltipRender\", void 0);\n  __decorate([Event()], Maps.prototype, \"legendRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"tooltipRenderComplete\", void 0);\n  __decorate([Event()], Maps.prototype, \"shapeSelected\", void 0);\n  __decorate([Event()], Maps.prototype, \"itemSelection\", void 0);\n  __decorate([Event()], Maps.prototype, \"itemHighlight\", void 0);\n  __decorate([Event()], Maps.prototype, \"shapeHighlight\", void 0);\n  __decorate([Event()], Maps.prototype, \"layerRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"shapeRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerClusterRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerClick\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerClusterClick\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerClusterMouseMove\", void 0);\n  __decorate([Event()], Maps.prototype, \"markerMouseMove\", void 0);\n  __decorate([Event()], Maps.prototype, \"dataLabelRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"bubbleRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"bubbleClick\", void 0);\n  __decorate([Event()], Maps.prototype, \"bubbleMouseMove\", void 0);\n  __decorate([Event()], Maps.prototype, \"animationComplete\", void 0);\n  __decorate([Event()], Maps.prototype, \"annotationRendering\", void 0);\n  __decorate([Event()], Maps.prototype, \"zoom\", void 0);\n  __decorate([Event()], Maps.prototype, \"pan\", void 0);\n  Maps = __decorate([NotifyPropertyChanges], Maps);\n  return Maps;\n}(Component);\nexport { Maps };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","NotifyPropertyChanges","Property","Ajax","EventHandler","Browser","isNullOrUndefined","createElement","setValue","extend","Event","remove","L10n","Collection","Internationalization","Complex","SvgRenderer","Size","createSvg","Point","removeElement","triggerShapeEvent","showTooltip","checkShapeDataFields","getMousePosition","calculateSize","getElement","removeClass","getTranslate","triggerItemSelectionEvent","mergeSeparateCluster","customizeStyle","querySelector","createStyle","ZoomSettings","LegendSettings","LayerSettings","TitleSettings","Border","Margin","MapsAreaSettings","Annotation","CenterPosition","Marker","load","click","onclick","loaded","doubleClick","resize","shapeSelected","zoomIn","getThemeStyle","Theme","BingMap","LayerPanel","Rect","RectOption","measureText","getElementByID","MapAjax","processResult","getElementsByClassName","findPosition","textTrim","TextOption","renderTextElement","convertGeoToPoint","calculateZoomLevel","Annotations","MarkerSettings","changeBorderWidth","DataManager","Query","Maps","_super","options","element","_this","call","isTileMap","isResize","isReset","baseSize","translatePoint","baseTranslatePoint","zoomTranslatePoint","markerZoomedState","zoomPersistence","defaultState","centerPositionChanged","isTileMapSubLayer","markerNullCount","tileTranslatePoint","baseTileTranslatePoint","isDevice","staticMapZoom","zoomSettings","enable","zoomFactor","zoomNotApplied","dataLabelShape","zoomShapeCollection","zoomLabelPositions","mouseDownEvent","x","y","mouseClickEvent","selectedElementId","selectedMarkerElementId","selectedBubbleElementId","selectedNavigationElementId","selectedLegendElementId","legendSelectionCollection","shapeSelections","legendSelection","toggledLegendId","toggledShapeElementId","checkInitialRender","initialTileTranslate","initialCheck","applyZoomReset","markerClusterExpandCheck","markerClusterExpand","shapeSelectionItem","mergePersistMapsData","get","mapSelect","enumerable","configurable","data","windowData","window","localStorage","e","getItem","getModuleName","id","dataObj","JSON","parse","keys","isProtectedOnChange","_i","keys_1","getLocalizedLabel","localeObject","getConstant","preRender","initPrivateVariable","allowServerDataBinding","unWireEVents","wireEVents","setCulture","renderElements","trigger","maps","createSVG","findBaseAndSubLayers","createSecondaryElement","addTabIndex","themeStyle","theme","renderBorder","renderTitle","titleSettings","renderArea","processRequestJsonData","renderComplete","isAddLayer","render","layersCollection","serverProcess","request","response","queryModule","localAjax","ajaxModule","dataModule","forEach","layer","layerIndex","shapeData","query","dataManager","executeQuery","then","processResponseJsonData","processAjaxRequest","dataSource","markerSettings","_loop_1","bubbleSettings","_loop_2","type","dataOptions","async","contentType","onSuccess","args","send","sendData","processType","dataType","collection","isBaseLayer","push","j","renderMap","legendModule","legendSettings","visible","renderLegend","createTile","zoomModule","createZoomingToolbars","dataLabelModule","dataLabelCollections","mapLayerPanel","measureLayerPanel","svgObject","appendChild","position","getExtraPosition","layers","markerTemplate","document","getElementById","style","top","mapAreaRect","left","selectionSettings","initialShapeSelection","checkSelection","enableMultiSelect","shapeSelection","shapePath","shapeValue","k","initialMarkerSelection","markerSelectionValues","markerInitialSelection","latitude","longitude","svg","getBoundingClientRect","tileElement","tileElement1","tile","bottom","top_1","parseFloat","offsetLeft","titleTextSize","text","textStyle","subTitleTextSize","subtitleSettings","mode","width","height","offsetTop","legendBorderRect","totalPages","legendTotalRect","arrangeTemplate","annotationsModule","renderAnnotationElements","outline","getElementsByTagName","indexOf","zoomingChange","isResized","markerSelection","map","targetElement","border","color","scale","opacity","markerSelectionProperties","fill","cancel","body","tagName","children","setAttribute","markerIndex","targetId","mapsArea","background","areaBackgroundColor","mapBorder","rect","renderer","drawRectangle","description","tabIndex","toString","layerCollectionEle","tileSvgElement","tileSvgParentElement","tileRect","tileSvgRect","markerTemplateElements","templateGroupEle","toolBarGroup","alignToolBar","elements","childElementCount","childNodes","childElement","split","childNode","previousScale","applyTransform","secondaryElement","styles","pointerEvents","templateElements","offSetLetValue","offSetTopValue","layerOffset","elementOffset","Math","abs","currentTemplate","elementOffset_1","transform","mainLayer","padding","layerType","urlTemplate","ele","margin","right","ele1","baseIndex","baseLayerIndex","mainLayers","subLayers","baseLayer","subLayer","subLayerIndex","borderElement","backgroundColor","borderRect","availableSize","title","bounds","groupEle","size","fontFamily","fontWeight","fontStyle","titleFontWeight","titleFontSize","mapsSubTitleFont","createGroup","trimmedTitle","elementSize","location_1","alignment","titleBounds","titleFontColor","subTitleFontColor","removeSvg","removeChild","firstChild","hasChildNodes","parentNode","clearTemplate","add","mapsOnClick","mapsOnDoubleClick","touchStartEvent","mouseDownOnMap","touchMoveEvent","mouseMoveOnMap","touchEndEvent","mouseEndOnMap","mouseLeaveOnMap","keyDownHandler","keyUpHandler","addEventListener","isTouch","mapsOnResize","bind","removeEventListener","removeShapeHighlightCollection","event","code","keyboardHighlightSelection","parseInt","shapeIndex","dataIndex","selectionModule","selectionsettings","selectionType","selectElement","highlightModule","highlightSettings","classList","contains","handleHighlight","zoom","performZoomingByToolBar","preventDefault","mouseDownLatLong","mouseMoveLatLong","panning","initialMapAreaRect","currentPage","legendGroup","drawLegendItem","textContent","Number","focus","outlineColor","SelectedElement","targetEle","isSelect","getAttribute","latLongValue","getClickLocation","pageX","pageY","eventArgs_1","name","clientX","clientY","isShapeSelected","mouseArgs","clickHandler","eventArgs","mergeCluster","mapsTooltipModule","tooltipTargetID","markerModule","markerClusterClick","notify","triggerShapeSelection","shapeSelectedEventArgs","removedSelectionList","geometryType","location_2","parentElement","minLongitude","baseMapBounds","min","currentFactor","minLatitude","max","isNaN","dataObject","getGeoLocation","getTileGeoLocation","touchArg","changedTouches","pointerType","titleTooltip","legendTooltip","cancelable","markerClick","bubbleModule","bubbleClick","sameMarkerData","isSingleClick","doubleClickArgs","touches","markerMove","markerClusterMouseMove","bubbleMove","onMouseMove","legendText","page","legendIndex","count","offsetWidth","offsetHeight","titleStyle","previousSize","currentSize","resizeTo","clearTimeout","setTimeout","refreshing","zoomByPosition","centerPosition","factor","calculateFactor","mapRect","svgRect","xDiff","yDiff","performZooming","tileZoomLevel","generateTiles","panByDirection","direction","mouseLocation","addLayer","mapsLayer","removeLayer","index","splice","addMarker","markerCollection","layerEle","markerCollection_1","newMarker","markerRender","propertyName","popertyNameArray","isArray","removeShapeSelection","indexValue","shapeDataValue","propertyName_1","toLowerCase","shapeName","shapeSettings","colorValuePath","shapeDataPath","shapePropertyPath","shapeSelectionClass","shapeHighLightAndSelection","shapeToggled","selectedElementIdIndex","zoomToCoordinates","maxLatitude","maxLongitude","_a","_b","centerLatitude","centerLongtitude","isTwoCoordinates","centerLatOfGivenLocation","centerLongOfGivenLocation","minLatOfGivenLocation","minLongOfGivenLocation","maxLatOfGivenLocation","maxLongOfGivenLocation","scaleOfGivenLocation","zoomArgs","previous","current","refresh","selectedElements","legendSelectedElements","intl","setLocaleConstants","defaultLocalConstants","locale","ZoomIn","Zoom","ZoomOut","Pan","Reset","ImageNotFound","destroy","formatFunction","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","isMarker","isLayer","isStaticMapType","newLayerLength","prop","layerPropLength","collection_1","collectionProp","shouldZoomInitially","renderTileLayer","renderGoogleMap","requiredModules","modules","isVisible","findVisibleLayers","annotationEnable","annotations","annotation","content","isBubbleVisible","member","highlight","selection","minZoom","isMarkersVisible","isDataLabelVisible","isNavigationVisible","tooltip","allowPrint","allowImageExport","allowPdfExport","dataLabelSettings","navigationLineSettings","svgElement","svgClientRects","getClientRects","mapsClientRects","svgClientRect","mapsClientRect","getBubbleVisible","bubble","print","printModule","export","fileName","orientation","allowDownload","imageExportModule","Promise","resolve","reject","pdfExportModule","getBingUrlTemplate","url","promise","ajax","json","jsonObject","resource","isLayerVisible","isBubblevisible","istooltipVisible","isSelection","isHighlight","bubbles","markers","navigationLine","layers_1","navigationLine_1","navigation","markers_1","marker","tooltipSettings","_c","bubbles_1","container","currentLayer","translate","translatePointX","translatePointY","mapSize","xx","clip","yy","lat","atan","exp","PI","long","value","minVal","maxVal","latLong","pointToLatLong","pow","x1","y1"],"sources":["/Users/macbookpro16/Desktop/cs222/client/node_modules/@syncfusion/ej2-maps/src/maps/maps.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable radix */\n/* eslint-disable max-len */\n/* eslint-disable valid-jsdoc */\n/**\n * Maps Component file\n */\nimport { Component, NotifyPropertyChanges, Property, Ajax } from '@syncfusion/ej2-base';\nimport { EventHandler, Browser, isNullOrUndefined, createElement, setValue, extend } from '@syncfusion/ej2-base';\nimport { Event, remove, L10n, Collection, Internationalization, Complex } from '@syncfusion/ej2-base';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { Size, createSvg, Point, removeElement, triggerShapeEvent, showTooltip, checkShapeDataFields, getMousePosition, calculateSize } from './utils/helper';\nimport { getElement, removeClass, getTranslate, triggerItemSelectionEvent, mergeSeparateCluster, customizeStyle, querySelector } from './utils/helper';\nimport { createStyle } from './utils/helper';\nimport { ZoomSettings, LegendSettings } from './model/base';\nimport { LayerSettings, TitleSettings, Border, Margin, MapsAreaSettings, Annotation, CenterPosition } from './model/base';\nimport { Marker } from './layers/marker';\nimport { load, click, onclick, loaded, doubleClick, resize, shapeSelected, zoomIn } from './model/constants';\nimport { getThemeStyle, Theme } from './model/theme';\nimport { BingMap } from './layers/bing-map';\nimport { LayerPanel } from './layers/layer-panel';\nimport { Rect, RectOption, measureText, getElementByID, MapAjax, processResult, getElementsByClassName } from '../maps/utils/helper';\nimport { findPosition, textTrim, TextOption, renderTextElement, convertGeoToPoint, calculateZoomLevel } from '../maps/utils/helper';\nimport { Annotations } from '../maps/user-interaction/annotation';\nimport { MarkerSettings } from './index';\nimport { changeBorderWidth } from './index';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\n/**\n * Represents the Maps control.\n * ```html\n * <div id=\"maps\"/>\n * <script>\n *   var maps = new Maps();\n *   maps.appendTo(\"#maps\");\n * </script>\n * ```\n */\nvar Maps = /** @class */ (function (_super) {\n    __extends(Maps, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {MapsModel} options Specifies the options\n     * @param {string | HTMLElement} element Specifies the element\n     */\n    function Maps(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Check layer whether is geometry or tile\n         *\n         * @private\n         */\n        _this.isTileMap = false;\n        /**\n         * Resize the map\n         */\n        _this.isResize = false;\n        /**\n         * @private\n         */\n        _this.isReset = false;\n        /** @private */\n        _this.baseSize = new Size(0, 0);\n        /** @public */\n        _this.translatePoint = new Point(0, 0);\n        /** @private */\n        _this.baseTranslatePoint = new Point(0, 0);\n        /** @public */\n        _this.zoomTranslatePoint = new Point(0, 0);\n        /** @private */\n        _this.markerZoomedState = true;\n        /** @private */\n        _this.zoomPersistence = false;\n        /** @private */\n        _this.defaultState = true;\n        /** @private */\n        _this.centerPositionChanged = false;\n        /** @private */\n        _this.isTileMapSubLayer = false;\n        /** @private */\n        _this.markerNullCount = 0;\n        /** @private */\n        _this.tileTranslatePoint = new Point(0, 0);\n        /** @private */\n        _this.baseTileTranslatePoint = new Point(0, 0);\n        /** @private */\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        _this.isDevice = false;\n        /** @private */\n        _this.staticMapZoom = _this.zoomSettings.enable ? _this.zoomSettings.zoomFactor : 0;\n        /** @private */\n        _this.zoomNotApplied = false;\n        /** @public */\n        _this.dataLabelShape = [];\n        _this.zoomShapeCollection = [];\n        _this.zoomLabelPositions = [];\n        _this.mouseDownEvent = { x: null, y: null };\n        _this.mouseClickEvent = { x: null, y: null };\n        /** @private */\n        _this.selectedElementId = [];\n        /** @private */\n        _this.selectedMarkerElementId = [];\n        /** @private */\n        _this.selectedBubbleElementId = [];\n        /** @private */\n        _this.selectedNavigationElementId = [];\n        /** @private */\n        _this.selectedLegendElementId = [];\n        /** @private */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.legendSelectionCollection = [];\n        /** @private */\n        _this.shapeSelections = true;\n        /** @private */\n        _this.legendSelection = true;\n        /** @private */\n        _this.toggledLegendId = [];\n        /** @private */\n        _this.toggledShapeElementId = [];\n        /** @private */\n        _this.checkInitialRender = true;\n        /** @private */\n        _this.initialTileTranslate = new Point(0, 0);\n        /** @private */\n        _this.initialCheck = true;\n        /** @private */\n        _this.applyZoomReset = false;\n        /** @private */\n        _this.markerClusterExpandCheck = false;\n        /** @private */\n        _this.markerClusterExpand = false;\n        /** @private */\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        _this.shapeSelectionItem = [];\n        setValue('mergePersistData', _this.mergePersistMapsData, _this);\n        return _this;\n    }\n    Object.defineProperty(Maps.prototype, \"isShapeSelected\", {\n        /**\n         *\n         * Specifies whether the shape is selected in the maps or not.\n         *\n         * @returns {boolean} - Returns the boolean value.\n         */\n        get: function () {\n            return this.mapSelect;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * To manage persist maps data\n     *\n     * @returns {void}\n     */\n    Maps.prototype.mergePersistMapsData = function () {\n        var data;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var windowData;\n        try {\n            windowData = window.localStorage;\n        }\n        catch (e) {\n            windowData = null;\n        }\n        if (!isNullOrUndefined(windowData)) {\n            data = window.localStorage.getItem(this.getModuleName() + this.element.id);\n        }\n        if (!(isNullOrUndefined(data) || (data === ''))) {\n            var dataObj = JSON.parse(data);\n            var keys = Object.keys(dataObj);\n            this.isProtectedOnChange = true;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                if ((typeof this[key] === 'object') && !isNullOrUndefined(this[key])) {\n                    extend(this[key], dataObj[key]);\n                }\n                else {\n                    this[key] = dataObj[key];\n                }\n            }\n            this.isProtectedOnChange = false;\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param  {string} key - Specifies the key\n     * @returns {string} - Returns the string value\n     */\n    Maps.prototype.getLocalizedLabel = function (key) {\n        return this.localeObject.getConstant(key);\n    };\n    /**\n     * Initializing pre-required values.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.preRender = function () {\n        this.isDevice = Browser.isDevice;\n        this.initPrivateVariable();\n        this.allowServerDataBinding = false;\n        this.unWireEVents();\n        this.wireEVents();\n        this.setCulture();\n    };\n    Maps.prototype.renderElements = function () {\n        this.trigger(load, { maps: this });\n        this.createSVG();\n        this.findBaseAndSubLayers();\n        this.createSecondaryElement();\n        this.addTabIndex();\n        this.themeStyle = getThemeStyle(this.theme);\n        this.renderBorder();\n        this.renderTitle(this.titleSettings, 'title', null, null);\n        this.renderArea();\n        this.processRequestJsonData();\n        this.renderComplete();\n        this.isAddLayer = !this.isTileMap ? false : this.isAddLayer;\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.render = function () {\n        this.renderElements();\n    };\n    Maps.prototype.processRequestJsonData = function () {\n        var _this = this;\n        var length = this.layersCollection.length - 1;\n        this.serverProcess = { request: 0, response: 0 };\n        var queryModule;\n        var localAjax;\n        var ajaxModule;\n        var dataModule;\n        Array.prototype.forEach.call(this.layersCollection, function (layer, layerIndex) {\n            if (layer.shapeData instanceof DataManager) {\n                _this.serverProcess['request']++;\n                dataModule = layer.shapeData;\n                queryModule = layer.query instanceof Query ? layer.query : new Query();\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var dataManager = dataModule.executeQuery(queryModule);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                dataManager.then(function (e) {\n                    _this.processResponseJsonData('DataManager', e, layer, 'ShapeData');\n                });\n            }\n            else if (layer.shapeData instanceof MapAjax || layer.shapeData) {\n                if (!isNullOrUndefined(layer.shapeData['dataOptions'])) {\n                    _this.processAjaxRequest(layer, layer.shapeData, 'ShapeData');\n                }\n            }\n            if (layer.dataSource instanceof DataManager) {\n                _this.serverProcess['request']++;\n                dataModule = layer.dataSource;\n                queryModule = layer.query instanceof Query ? layer.query : new Query();\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var dataManager = dataModule.executeQuery(queryModule);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                dataManager.then(function (e) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    layer.dataSource = processResult(e);\n                });\n            }\n            if (layer.markerSettings.length > 0) {\n                var _loop_1 = function (i) {\n                    if (layer.markerSettings[i].dataSource instanceof DataManager) {\n                        _this.serverProcess['request']++;\n                        dataModule = layer.markerSettings[i].dataSource;\n                        queryModule = layer.markerSettings[i].query instanceof Query ? layer.markerSettings[i].query : new Query();\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var dataManager = dataModule.executeQuery(queryModule);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataManager.then(function (e) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            layer.markerSettings[i].dataSource = processResult(e);\n                        });\n                    }\n                };\n                for (var i = 0; i < layer.markerSettings.length; i++) {\n                    _loop_1(i);\n                }\n            }\n            if (layer.bubbleSettings.length > 0) {\n                var _loop_2 = function (i) {\n                    if (layer.bubbleSettings[i].dataSource instanceof DataManager) {\n                        _this.serverProcess['request']++;\n                        dataModule = layer.bubbleSettings[i].dataSource;\n                        queryModule = layer.bubbleSettings[i].query instanceof Query ? layer.bubbleSettings[i].query : new Query();\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var dataManager = dataModule.executeQuery(queryModule);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataManager.then(function (e) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            layer.bubbleSettings[i].dataSource = processResult(e);\n                        });\n                    }\n                };\n                for (var i = 0; i < layer.bubbleSettings.length; i++) {\n                    _loop_2(i);\n                }\n            }\n            if (layer.dataSource instanceof MapAjax || !isNullOrUndefined(layer.dataSource['dataOptions'])) {\n                _this.processAjaxRequest(layer, layer.dataSource, 'DataSource');\n            }\n            if (_this.serverProcess['request'] === _this.serverProcess['response'] && length === layerIndex) {\n                _this.processResponseJsonData(null);\n            }\n        });\n    };\n    /* eslint-disable @typescript-eslint/no-explicit-any */\n    Maps.prototype.processAjaxRequest = function (layer, localAjax, type) {\n        var _this = this;\n        this.serverProcess['request']++;\n        var ajaxModule = new Ajax(localAjax.dataOptions, localAjax.type, localAjax.async, localAjax.contentType);\n        ajaxModule.onSuccess = function (args) {\n            _this.processResponseJsonData('Ajax', args, layer, type);\n        };\n        ajaxModule.send(localAjax.sendData);\n    };\n    /**\n     * This method is used to process the JSON data to render the maps.\n     *\n     * @param {string} processType - Specifies the process type in maps.\n     * @param {any | string} data - Specifies the data for maps.\n     * @param {LayerSettings} layer - Specifies the layer for the maps.\n     * @param {string} dataType - Specifies the data type for maps.\n     * @returns {void}\n     */\n    Maps.prototype.processResponseJsonData = function (processType, data, layer, dataType) {\n        this.serverProcess['response']++;\n        if (processType) {\n            if (dataType === 'ShapeData') {\n                layer.shapeData = (processType === 'DataManager') ? processResult(data) : JSON.parse(data);\n            }\n            else {\n                layer.dataSource = (processType === 'DataManager') ? processResult(data) : JSON.parse('[' + data + ']')[0];\n            }\n        }\n        if (!isNullOrUndefined(processType) && this.serverProcess['request'] === this.serverProcess['response']) {\n            var collection = this.layersCollection;\n            this.layersCollection = [];\n            for (var i = 0; i < collection.length; i++) {\n                if (collection[i].isBaseLayer) {\n                    this.layersCollection.push(collection[i]);\n                }\n            }\n            for (var j = 0; j < collection.length; j++) {\n                if (!collection[j].isBaseLayer) {\n                    this.layersCollection.push(collection[j]);\n                }\n            }\n            this.renderMap();\n        }\n        else if (isNullOrUndefined(processType)) {\n            this.renderMap();\n        }\n    };\n    Maps.prototype.renderMap = function () {\n        if (this.legendModule && this.legendSettings.visible) {\n            this.legendModule.renderLegend();\n        }\n        this.createTile();\n        if (this.zoomSettings.enable && this.zoomModule) {\n            this.zoomModule.createZoomingToolbars();\n        }\n        if (!isNullOrUndefined(this.dataLabelModule)) {\n            this.dataLabelModule.dataLabelCollections = [];\n            this.dataLabelShape = [];\n        }\n        this.mapLayerPanel.measureLayerPanel();\n        if (!isNullOrUndefined(this.svgObject)) {\n            this.element.appendChild(this.svgObject);\n        }\n        var position = this.getExtraPosition();\n        for (var i = 0; i < this.layers.length; i++) {\n            if (position.x !== 0 || position.y !== 0) {\n                var markerTemplate = document.getElementById(this.element.id + '_LayerIndex_' + i + '_Markers_Template_Group');\n                if (!isNullOrUndefined(markerTemplate)) {\n                    markerTemplate.style.top = this.mapAreaRect.y + position.y + 'px';\n                    markerTemplate.style.left = this.mapAreaRect.x + position.x + 'px';\n                }\n            }\n            if (this.layers[i].selectionSettings && this.layers[i].selectionSettings.enable &&\n                this.layers[i].initialShapeSelection.length > 0 && this.checkInitialRender) {\n                var checkSelection = this.layers[i].selectionSettings.enableMultiSelect;\n                this.layers[i].selectionSettings.enableMultiSelect = checkSelection ? checkSelection : true;\n                var shapeSelection = this.layers[i].initialShapeSelection;\n                for (var j = 0; j < this.layers[i].initialShapeSelection.length; j++) {\n                    this.shapeSelection(i, shapeSelection[j].shapePath, shapeSelection[j].shapeValue, true);\n                }\n                this.layers[i].selectionSettings.enableMultiSelect = checkSelection;\n                if (i === this.layers.length - 1) {\n                    this.checkInitialRender = false;\n                }\n            }\n            if (!this.isResize) {\n                for (var k = 0; k < this.layers[i].markerSettings.length; k++) {\n                    if (this.layers[i].markerSettings[k].selectionSettings && this.layers[i].markerSettings[k].selectionSettings.enable\n                        && this.layers[i].markerSettings[k].initialMarkerSelection.length > 0) {\n                        var markerSelectionValues = this.layers[i].markerSettings[k].initialMarkerSelection;\n                        for (var j = 0; j < markerSelectionValues.length; j++) {\n                            this.markerInitialSelection(i, k, this.layers[i].markerSettings[k], markerSelectionValues[j].latitude, markerSelectionValues[j].longitude);\n                        }\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(document.getElementById(this.element.id + '_tile_parent'))) {\n            var svg = this.svgObject.getBoundingClientRect();\n            var element = document.getElementById(this.element.id);\n            var tileElement = document.getElementById(this.element.id + '_tile_parent');\n            var tileElement1 = document.getElementById(this.element.id + '_tiles');\n            var tile = tileElement.getBoundingClientRect();\n            var bottom = void 0;\n            var top_1;\n            var left = void 0;\n            left = parseFloat(tileElement.style.left) + element.offsetLeft;\n            var titleTextSize = measureText(this.titleSettings.text, this.titleSettings.textStyle);\n            var subTitleTextSize = measureText(this.titleSettings.subtitleSettings.text, this.titleSettings.subtitleSettings.textStyle);\n            if (this.isTileMap && this.isTileMapSubLayer && this.legendSettings.position === 'Bottom' && this.legendSettings.visible) {\n                if (this.legendSettings.mode !== 'Default') {\n                    if (titleTextSize.width !== 0 && titleTextSize.height !== 0) {\n                        top_1 = parseFloat(tileElement.style.top) + element.offsetTop + (subTitleTextSize.height / 2)\n                            - (this.legendModule.legendBorderRect.height / 2);\n                    }\n                    else {\n                        top_1 = parseFloat(tileElement.style.top) + element.offsetTop - this.mapAreaRect.y;\n                    }\n                }\n                else {\n                    left = this.legendModule.legendBorderRect.x;\n                    if (titleTextSize.width !== 0 && titleTextSize.height !== 0) {\n                        top_1 = parseFloat(tileElement.style.top) + element.offsetTop + (subTitleTextSize['height'] / 2)\n                            - this.legendModule.legendBorderRect.y;\n                    }\n                    else {\n                        top_1 = parseFloat(tileElement.style.top) + element.offsetTop + (subTitleTextSize['height'] / 2);\n                    }\n                }\n            }\n            else {\n                bottom = svg.bottom - tile.bottom - element.offsetTop;\n                top_1 = parseFloat(tileElement.style.top) + element.offsetTop;\n            }\n            top_1 = (bottom <= 11) ? top_1 : (!isNullOrUndefined(this.legendModule) && this.legendSettings.position === 'Bottom') ? this.mapAreaRect.y : (top_1 * 2);\n            left = (bottom <= 11) ? left : !isNullOrUndefined(this.legendModule) ? left : (left * 2);\n            tileElement.style.top = top_1 + 'px';\n            tileElement.style.left = left + 'px';\n            tileElement1.style.top = top_1 + 'px';\n            tileElement1.style.left = left + 'px';\n            if (!isNullOrUndefined(this.legendModule) && this.legendModule.totalPages.length > 0) {\n                tileElement.style.height = tileElement1.style.height = this.legendModule.legendTotalRect.height + 'px';\n                tileElement.style.width = tileElement1.style.width = this.legendModule.legendTotalRect.width + 'px';\n            }\n        }\n        this.arrangeTemplate();\n        if (this.annotationsModule) {\n            if (this.width !== '0px' && this.height !== '0px' && this.width !== '0%' && this.height !== '0%') {\n                this.annotationsModule.renderAnnotationElements();\n            }\n        }\n        this.element.style.outline = 'none';\n        for (var i = 0; i < document.getElementsByTagName('path').length - 1; i++) {\n            if (document.getElementsByTagName('path')[i].id.indexOf('shapeIndex') > -1) {\n                document.getElementsByTagName('path')[i].style.outline = 'none';\n            }\n        }\n        this.zoomingChange();\n        this.trigger(loaded, { maps: this, isResized: this.isResize });\n        this.isResize = false;\n    };\n    /**\n     * To apply color to the initial selected marker\n     *\n     * @param {SelectionSettingsModel} selectionSettings - Specifies the selection settings\n     * @param {Maps} map - Specifies the instance of the maps\n     * @param {Element} targetElement - Specifies the target element\n     * @param {any} data - Specifies the data\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.markerSelection = function (selectionSettings, map, targetElement, data) {\n        var border = {\n            color: selectionSettings.border.color,\n            width: selectionSettings.border.width / map.scale,\n            opacity: selectionSettings.border.opacity\n        };\n        var markerSelectionProperties = {\n            opacity: selectionSettings.opacity,\n            fill: selectionSettings.fill,\n            border: border,\n            target: targetElement.id,\n            cancel: false,\n            data: data,\n            maps: map\n        };\n        if (!getElement('MarkerselectionMap')) {\n            document.body.appendChild(createStyle('MarkerselectionMap', 'MarkerselectionMapStyle', markerSelectionProperties));\n        }\n        else {\n            customizeStyle('MarkerselectionMap', 'MarkerselectionMapStyle', markerSelectionProperties);\n        }\n        if (this.selectedMarkerElementId.length === 0 || selectionSettings.enableMultiSelect) {\n            if (targetElement.tagName === 'g') {\n                targetElement.children[0].setAttribute('class', 'MarkerselectionMapStyle');\n                this.selectedMarkerElementId.push(targetElement.children[0].id);\n            }\n            else {\n                targetElement.setAttribute('class', 'MarkerselectionMapStyle');\n                this.selectedMarkerElementId.push(targetElement.id);\n            }\n        }\n    };\n    /**\n     * initial selection of marker\n     *\n     * @param {number} layerIndex - Specifies the layer index\n     * @param {number} markerIndex - Specifies the marker index\n     * @param {MarkerSettingsModel} markerSettings - Specifies the marker settings\n     * @param {number} latitude - Specifies hte latitude\n     * @param {number} longitude - Specifies the longitude\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.markerInitialSelection = function (layerIndex, markerIndex, markerSettings, latitude, longitude) {\n        var selectionSettings = markerSettings.selectionSettings;\n        if (selectionSettings.enable) {\n            for (var i = 0; i < markerSettings.dataSource['length']; i++) {\n                var data = markerSettings.dataSource[i];\n                if (data['latitude'] === latitude && data['longitude'] === longitude) {\n                    var targetId = this.element.id + '_' + 'LayerIndex_' + layerIndex + '_MarkerIndex_' + markerIndex +\n                        '_dataIndex_' + i;\n                    this.markerSelection(selectionSettings, this, getElement(targetId), data);\n                }\n            }\n        }\n    };\n    /**\n     * Render the map area border\n     *\n     * @returns {void}\n     */\n    Maps.prototype.renderArea = function () {\n        var width = this.mapsArea.border.width;\n        var background = this.mapsArea.background;\n        if (width > 0 || (background || this.themeStyle.areaBackgroundColor)) {\n            var mapBorder = {\n                opacity: isNullOrUndefined(this.mapsArea.border.opacity) ? 1 : this.mapsArea.border.opacity,\n                color: this.mapsArea.border.color, width: this.mapsArea.border.width\n            };\n            var rect = new RectOption(this.element.id + '_MapAreaBorder', background || this.themeStyle.areaBackgroundColor, mapBorder, 1, this.mapAreaRect);\n            this.svgObject.appendChild(this.renderer.drawRectangle(rect));\n        }\n    };\n    /**\n     * To add tab index for map element\n     *\n     * @returns {void}\n     */\n    Maps.prototype.addTabIndex = function () {\n        this.element.setAttribute('aria-label', this.description || 'Maps Element');\n        this.element.setAttribute('role', '');\n        this.element.setAttribute('tabindex', this.tabIndex.toString());\n    };\n    // private setSecondaryElementPosition(): void {\n    //     if (!this.isTileMap) {\n    //         let element: HTMLDivElement = getElementByID(this.element.id + '_Secondary_Element') as HTMLDivElement;\n    //         let rect: ClientRect = this.element.getBoundingClientRect();\n    //         let svgRect: ClientRect = getElementByID(this.element.id + '_svg').getBoundingClientRect();\n    //         element.style.marginLeft = Math.max(svgRect.left - rect.left, 0) + 'px';\n    //         element.style.marginTop = Math.max(svgRect.top - rect.top, 0) + 'px';\n    //     }\n    // }\n    Maps.prototype.zoomingChange = function () {\n        var left;\n        var top;\n        if (getElementByID(this.element.id + '_Layer_Collections') && this.zoomModule) {\n            this.zoomModule.layerCollectionEle = getElementByID(this.element.id + '_Layer_Collections');\n        }\n        if (this.isTileMap && getElementByID(this.element.id + '_Tile_SVG') && getElementByID(this.element.id + '_tile_parent')) {\n            var tileElement = getElementByID(this.element.id + '_tile_parent');\n            var tileSvgElement = getElementByID(this.element.id + '_Tile_SVG');\n            var tileSvgParentElement = getElementByID(this.element.id + '_Tile_SVG_Parent');\n            var tileRect = tileElement.getBoundingClientRect();\n            var tileSvgRect = tileSvgElement.getBoundingClientRect();\n            left = (tileRect.left - tileSvgRect.left);\n            top = (tileRect.top - tileSvgRect.top);\n            tileSvgParentElement.style.left = left + 'px';\n            tileSvgParentElement.style.top = top + 'px';\n            if (!isNullOrUndefined(this.legendModule) && this.legendModule.totalPages.length > 0) {\n                tileElement.style.width = tileSvgElement.style.width = this.legendModule.legendTotalRect.width.toString();\n                tileElement.style.height = tileSvgElement.style.height = this.legendModule.legendTotalRect.height.toString();\n                tileSvgParentElement.style.width = this.legendModule.legendTotalRect.width + 'px';\n                tileSvgParentElement.style.height = this.legendModule.legendTotalRect.height + 'px';\n            }\n            var markerTemplateElements = document.getElementsByClassName('template');\n            if (!isNullOrUndefined(markerTemplateElements) && markerTemplateElements.length > 0) {\n                for (var i = 0; i < markerTemplateElements.length; i++) {\n                    var templateGroupEle = markerTemplateElements[i];\n                    templateGroupEle.style.left = left + 'px';\n                    templateGroupEle.style.top = top + 'px';\n                }\n            }\n        }\n        if (this.zoomSettings.zoomFactor >= 0) {\n            if (this.zoomModule && this.zoomModule.toolBarGroup && this.zoomSettings.enable) {\n                this.zoomModule.alignToolBar();\n            }\n            var elements = document.getElementById(this.element.id + '_Layer_Collections');\n            if (!isNullOrUndefined(elements) && elements.childElementCount > 0) {\n                for (var i = 0; i < elements.childNodes.length; i++) {\n                    var childElement = elements.childNodes[i];\n                    if (childElement.tagName === 'g' && childElement.id.indexOf('_Legend_Group') == -1) {\n                        var layerIndex = parseFloat(childElement.id.split('_LayerIndex_')[1].split('_')[0]);\n                        for (var j = 0; j < childElement.childNodes.length; j++) {\n                            var childNode = childElement.childNodes[j];\n                            if (!(childNode.id.indexOf('_Markers_Group') > -1) &&\n                                (!(childNode.id.indexOf('_bubble_Group') > -1)) &&\n                                (!(childNode.id.indexOf('_dataLableIndex_Group') > -1))) {\n                                changeBorderWidth(childNode, layerIndex, this.scale, this);\n                            }\n                        }\n                    }\n                }\n            }\n            if (this.zoomModule && (this.previousScale !== this.scale)) {\n                this.zoomModule.applyTransform(this, true);\n            }\n        }\n    };\n    Maps.prototype.createSecondaryElement = function () {\n        if (isNullOrUndefined(document.getElementById(this.element.id + '_Secondary_Element'))) {\n            var secondaryElement = createElement('div', {\n                id: this.element.id + '_Secondary_Element',\n                styles: 'position: absolute;z-index:2;'\n            });\n            this.element.appendChild(secondaryElement);\n        }\n    };\n    /**\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.arrangeTemplate = function () {\n        if (document.getElementById(this.element.id + '_Legend_Border')) {\n            document.getElementById(this.element.id + '_Legend_Border').style.pointerEvents = 'none';\n        }\n        var templateElements = document.getElementsByClassName(this.element.id + '_template');\n        if (!isNullOrUndefined(templateElements) && templateElements.length > 0 &&\n            getElementByID(this.element.id + '_Layer_Collections') && !this.isTileMap) {\n            for (var i = 0; i < templateElements.length; i++) {\n                var offSetLetValue = 0;\n                var offSetTopValue = 0;\n                var templateGroupEle = templateElements[i];\n                if (!isNullOrUndefined(templateGroupEle) && templateGroupEle.childElementCount > 0) {\n                    var layerOffset = getElementByID(this.element.id + '_Layer_Collections').getBoundingClientRect();\n                    var elementOffset = getElementByID(templateGroupEle.id).getBoundingClientRect();\n                    if (templateGroupEle.id.indexOf('Marker') === -1) {\n                        offSetLetValue = this.isTileMap ? 0 : (layerOffset.left < elementOffset.left) ?\n                            -(Math.abs(elementOffset.left - layerOffset.left)) : (Math.abs(elementOffset.left - layerOffset.left));\n                        offSetTopValue = this.isTileMap ? 0 : (layerOffset.top < elementOffset.top) ?\n                            -(Math.abs(elementOffset.top - layerOffset.top)) : Math.abs(elementOffset.top - layerOffset.top);\n                    }\n                    for (var j = 0; j < templateGroupEle.childElementCount; j++) {\n                        var currentTemplate = templateGroupEle.childNodes[j];\n                        if (currentTemplate.id.indexOf('Marker') !== -1) {\n                            var elementOffset_1 = getElementByID(currentTemplate.id).getBoundingClientRect();\n                            currentTemplate.style.left = parseFloat(currentTemplate.style.left) - (this.isTileMap ? 0 : elementOffset_1.width / 2) + 'px';\n                            currentTemplate.style.top = parseFloat(currentTemplate.style.top) - (this.isTileMap ? 0 : elementOffset_1.height / 2) + 'px';\n                        }\n                        else {\n                            currentTemplate.style.left = parseFloat(currentTemplate.style.left) + offSetLetValue + 'px';\n                            currentTemplate.style.top = parseFloat(currentTemplate.style.top) + offSetTopValue + 'px';\n                            currentTemplate.style.transform = 'translate(-50%, -50%)';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Maps.prototype.createTile = function () {\n        var mainLayer = this.layersCollection[0];\n        var padding = 0;\n        if (mainLayer.isBaseLayer && (mainLayer.layerType === 'OSM' || mainLayer.layerType === 'Bing' ||\n            mainLayer.layerType === 'GoogleStaticMap' || mainLayer.layerType === 'Google' || (!isNullOrUndefined(mainLayer.urlTemplate) && mainLayer.urlTemplate !== ''))) {\n            removeElement(this.element.id + '_tile_parent');\n            removeElement(this.element.id + '_tiles');\n            removeElement('animated_tiles');\n            var ele = createElement('div', {\n                id: this.element.id + '_tile_parent', styles: 'position: absolute; left: ' +\n                    (this.mapAreaRect.x) + 'px; right: ' + (this.margin.right) + 'px; top: '\n                    + (this.mapAreaRect.y + padding) + 'px; height: ' +\n                    (this.mapAreaRect.height) + 'px; width: '\n                    + (this.mapAreaRect.width) + 'px; overflow: hidden;'\n            });\n            var ele1 = createElement('div', {\n                id: this.element.id + '_tiles', styles: 'position: absolute; left: ' +\n                    (this.mapAreaRect.x) + 'px;  right: ' + (this.margin.right) + 'px; top: '\n                    + (this.mapAreaRect.y + padding) + 'px; height: ' + (this.mapAreaRect.height) + 'px; width: '\n                    + (this.mapAreaRect.width) + 'px; overflow: hidden;'\n            });\n            this.element.appendChild(ele);\n            this.element.appendChild(ele1);\n        }\n    };\n    /**\n     * To initilize the private varibales of maps.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.initPrivateVariable = function () {\n        if (this.element.id === '') {\n            var collection = document.getElementsByClassName('e-maps').length;\n            this.element.id = 'maps_control_' + collection;\n        }\n        this.renderer = new SvgRenderer(this.element.id);\n        this.mapLayerPanel = new LayerPanel(this);\n    };\n    Maps.prototype.findBaseAndSubLayers = function () {\n        var _this = this;\n        var baseIndex = this.baseLayerIndex;\n        var mainLayers = [];\n        var subLayers = [];\n        this.layersCollection = [];\n        Array.prototype.forEach.call(this.layers, function (layer) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            (layer.type === 'Layer') ? mainLayers.push(layer) : subLayers.push(layer);\n        });\n        for (var i = 0; i < mainLayers.length; i++) {\n            var baseLayer = mainLayers[i];\n            if (baseLayer.visible && baseIndex === i) {\n                baseLayer.isBaseLayer = true;\n                this.isTileMap = (baseLayer.layerType === 'Geometry' && !isNullOrUndefined(baseLayer.shapeData)) ? false : true;\n                this.layersCollection.push(baseLayer);\n                break;\n            }\n            else if (i === mainLayers.length - 1) {\n                this.layersCollection.push(mainLayers[0]);\n                break;\n            }\n        }\n        subLayers.map(function (subLayer, subLayerIndex) {\n            if (subLayer.visible) {\n                _this.layersCollection.push(subLayer);\n            }\n        });\n    };\n    /**\n     * Render the map border\n     *\n     * @private\n     * @returns {void}\n     */\n    Maps.prototype.renderBorder = function () {\n        var width = this.border.width;\n        var borderElement = this.svgObject.querySelector('#' + this.element.id + '_MapBorder');\n        if ((width > 0 || (this.background || this.themeStyle.backgroundColor)) && isNullOrUndefined(borderElement)) {\n            var border = {\n                opacity: isNullOrUndefined(this.border.opacity) ? 1 : this.border.opacity,\n                color: this.border.color, width: this.border.width\n            };\n            var borderRect = new RectOption(this.element.id + '_MapBorder', this.background || this.themeStyle.backgroundColor, border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n            this.svgObject.appendChild(this.renderer.drawRectangle(borderRect));\n        }\n        else {\n            borderElement.setAttribute('fill', this.background || this.themeStyle.backgroundColor);\n        }\n    };\n    /**\n     * Render the title and subtitle\n     *\n     * @param {TitleSettingsModel} title - Specifies the title\n     * @param {string} type - Specifies the type\n     * @param {Rect} bounds - Specifies the bounds\n     * @param {Element} groupEle - Specifies the group element\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.renderTitle = function (title, type, bounds, groupEle) {\n        var style = {\n            size: title.textStyle.size,\n            color: title.textStyle.color,\n            fontFamily: title.textStyle.fontFamily,\n            fontWeight: title.textStyle.fontWeight,\n            fontStyle: title.textStyle.fontStyle,\n            opacity: title.textStyle.opacity\n        };\n        var height;\n        var width = Math.abs((this.margin.left + this.margin.right) - this.availableSize.width);\n        style.fontFamily = !isNullOrUndefined(style.fontFamily) ? style.fontFamily : this.themeStyle.fontFamily;\n        style.fontWeight = style.fontWeight || this.themeStyle.titleFontWeight;\n        style.size = type === 'title' ? (style.size || this.themeStyle.titleFontSize) : (style.size || Theme.mapsSubTitleFont.size);\n        if (title.text) {\n            if (isNullOrUndefined(groupEle)) {\n                groupEle = this.renderer.createGroup({ id: this.element.id + '_Title_Group' });\n            }\n            var trimmedTitle = textTrim(width, title.text, style);\n            var elementSize = measureText(trimmedTitle, style);\n            var rect = (isNullOrUndefined(bounds)) ? new Rect(this.margin.left, this.margin.top, this.availableSize.width, this.availableSize.height) : bounds;\n            var location_1 = findPosition(rect, title.alignment, elementSize, type);\n            var options = new TextOption(this.element.id + '_Map_' + type, location_1.x, location_1.y, 'start', trimmedTitle);\n            var titleBounds = new Rect(location_1.x, location_1.y, elementSize.width, elementSize.height);\n            var element = renderTextElement(options, style, style.color || (type === 'title' ? this.themeStyle.titleFontColor : this.themeStyle.subTitleFontColor), groupEle);\n            element.setAttribute('aria-label', this.description || title.text);\n            element.setAttribute('role', '');\n            if ((type === 'title' && !title.subtitleSettings.text) || (type === 'subtitle')) {\n                height = Math.abs((titleBounds.y + this.margin.bottom) - this.availableSize.height);\n                this.mapAreaRect = new Rect(this.margin.left, titleBounds.y + 10, width, height - 10);\n            }\n            if (type !== 'subtitle' && title.subtitleSettings.text) {\n                this.renderTitle(title.subtitleSettings, 'subtitle', titleBounds, groupEle);\n            }\n            else {\n                this.svgObject.appendChild(groupEle);\n            }\n        }\n        else {\n            height = Math.abs((this.margin.top + this.margin.bottom) - this.availableSize.height);\n            this.mapAreaRect = new Rect(this.margin.left, this.margin.top, width, height);\n        }\n    };\n    /**\n     * To create svg element for maps\n     *\n     * @returns {void}\n     */\n    Maps.prototype.createSVG = function () {\n        this.removeSvg();\n        createSvg(this);\n    };\n    /**\n     * To Remove the SVG\n     *\n     * @returns {void}\n     */\n    Maps.prototype.removeSvg = function () {\n        removeElement(this.element.id + '_Secondary_Element');\n        removeElement(this.element.id + '_tile_parent');\n        removeElement(this.element.id + '_tiles');\n        if (this.svgObject) {\n            while (this.svgObject.childNodes.length > 0) {\n                this.svgObject.removeChild(this.svgObject.firstChild);\n            }\n            if (!this.svgObject.hasChildNodes() && this.svgObject.parentNode) {\n                remove(this.svgObject);\n            }\n        }\n        this.clearTemplate();\n    };\n    /**\n     * To bind event handlers for maps.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.wireEVents = function () {\n        //let cancelEvent: string = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, 'click', this.mapsOnClick, this);\n        // EventHandler.add(this.element, 'contextmenu', this.mapsOnRightClick, this);\n        EventHandler.add(this.element, 'dblclick', this.mapsOnDoubleClick, this);\n        EventHandler.add(this.element, Browser.touchStartEvent, this.mouseDownOnMap, this);\n        EventHandler.add(this.element, Browser.touchMoveEvent, this.mouseMoveOnMap, this);\n        EventHandler.add(this.element, Browser.touchEndEvent, this.mouseEndOnMap, this);\n        EventHandler.add(this.element, 'pointerleave mouseleave', this.mouseLeaveOnMap, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        //  EventHandler.add(this.element, cancelEvent, this.mouseLeaveOnMap, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.mapsOnResize.bind(this));\n    };\n    /**\n     * To unbind event handlers from maps.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.unWireEVents = function () {\n        //let cancelEvent: string = Browser.isPointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, 'click', this.mapsOnClick);\n        // EventHandler.remove(this.element, 'contextmenu', this.mapsOnRightClick);\n        EventHandler.remove(this.element, 'dblclick', this.mapsOnDoubleClick);\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.mouseDownOnMap);\n        EventHandler.remove(this.element, Browser.touchMoveEvent, this.mouseMoveOnMap);\n        EventHandler.remove(this.element, Browser.touchEndEvent, this.mouseEndOnMap);\n        EventHandler.remove(this.element, 'pointerleave mouseleave', this.mouseLeaveOnMap);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        //EventHandler.remove(this.element, cancelEvent, this.mouseLeaveOnMap);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.mapsOnResize);\n    };\n    /**\n     * This method is used to perform operations when mouse pointer leave from maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps.\n     * @returns {void}\n     */\n    Maps.prototype.mouseLeaveOnMap = function (e) {\n        if (document.getElementsByClassName('highlightMapStyle').length > 0 && this.legendModule) {\n            this.legendModule.removeShapeHighlightCollection();\n            removeClass(document.getElementsByClassName('highlightMapStyle')[0]);\n        }\n    };\n    Maps.prototype.keyUpHandler = function (event) {\n        var id = event.target['id'];\n        if (event.code === 'Tab' && id.indexOf('_LayerIndex_') > -1 && id.indexOf('shapeIndex') > -1) {\n            this.keyboardHighlightSelection(id, event.type);\n        }\n        else if (id.indexOf('_LayerIndex_') === -1 && id.indexOf('shapeIndex') === -1 &&\n            getElementsByClassName('highlightMapStyle').length > 0) {\n            removeClass(getElementsByClassName('highlightMapStyle')[0]);\n            if (this.legendSettings.visible && this.legendModule) {\n                this.legendModule.removeShapeHighlightCollection();\n            }\n        }\n    };\n    Maps.prototype.keyboardHighlightSelection = function (id, key) {\n        var layerIndex = parseInt(id.split('_LayerIndex_')[1].split('_')[0], 10);\n        var shapeIndex = parseInt(id.split('_shapeIndex_')[1].split('_')[0], 10);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var shapeData = this.layers[layerIndex].shapeData['features']['length'] > shapeIndex ?\n            this.layers[layerIndex].shapeData['features'][shapeIndex]['properties'] : null;\n        var dataIndex = parseInt(id.split('_dataIndex_')[1].split('_')[0], 10);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var data = isNullOrUndefined(dataIndex) ? null : this.layers[layerIndex].dataSource[dataIndex];\n        if (this.layers[layerIndex].selectionSettings.enable && key === 'keydown' && this.selectionModule) {\n            this.selectionModule.selectionsettings = this.layers[layerIndex].selectionSettings;\n            this.selectionModule.selectionType = 'Shape';\n            this.selectionModule.selectElement(event.target, layerIndex, data, shapeData);\n        }\n        else if (this.highlightModule && (this.layers[layerIndex].highlightSettings.enable && key === 'keyup' &&\n            !event.target.classList.contains('ShapeselectionMapStyle'))) {\n            this.highlightModule.highlightSettings = this.layers[layerIndex].highlightSettings;\n            this.highlightModule.handleHighlight(event.target, layerIndex, data, shapeData);\n        }\n    };\n    Maps.prototype.keyDownHandler = function (event) {\n        var zoom = this.zoomModule;\n        if ((event.key === '+' || event.code === 'Equal') && zoom) {\n            zoom.performZoomingByToolBar('zoomin');\n        }\n        else if ((event.key === '-' || event.code === 'Minus') && zoom) {\n            zoom.performZoomingByToolBar('zoomout');\n        }\n        else if (event['keyCode'] === 82 && zoom) {\n            zoom.performZoomingByToolBar('reset');\n        }\n        else if ((event.code === 'ArrowUp' || event.code === 'ArrowDown') && zoom) {\n            event.preventDefault();\n            zoom.mouseDownLatLong['x'] = 0;\n            zoom.mouseMoveLatLong['y'] = this.mapAreaRect.height / 7;\n            zoom.panning('None', zoom.mouseDownLatLong['x'], event.code === 'ArrowUp' ? -(zoom.mouseMoveLatLong['y']) :\n                zoom.mouseMoveLatLong['y'], event);\n            zoom.mouseDownLatLong['y'] = zoom.mouseMoveLatLong['y'];\n        }\n        else if ((event.code === 'ArrowLeft' || event.code === 'ArrowRight') && zoom) {\n            event.preventDefault();\n            zoom.mouseDownLatLong['y'] = 0;\n            zoom.mouseMoveLatLong['x'] = this.mapAreaRect.width / 7;\n            zoom.panning('None', event.code === 'ArrowLeft' ? -(zoom.mouseMoveLatLong['x']) : zoom.mouseMoveLatLong['x'], zoom.mouseDownLatLong['y'], event);\n            zoom.mouseDownLatLong['x'] = zoom.mouseMoveLatLong['x'];\n        }\n        else if (event.code === 'Enter') {\n            var id = event.target['id'];\n            event.preventDefault();\n            if (this.legendModule && (id.indexOf('_Left_Page_Rect') > -1 || id.indexOf('_Right_Page_Rect') > -1)) {\n                this.mapAreaRect = this.legendModule.initialMapAreaRect;\n                this.legendModule.currentPage = (id.indexOf('_Left_Page_') > -1) ? (this.legendModule.currentPage - 1) :\n                    (this.legendModule.currentPage + 1);\n                this.legendModule.legendGroup = this.renderer.createGroup({ id: this.element.id + '_Legend_Group' });\n                this.legendModule.drawLegendItem(this.legendModule.currentPage);\n                var textContent = (document.getElementById(this.element.id + '_Paging_Text')).textContent;\n                var text = textContent.split('/').map(Number);\n                if (id.indexOf('_Left_Page_Rect') > -1) {\n                    if (text[0] !== 1) {\n                        event.target.focus();\n                    }\n                    event.target.style.outlineColor = text[0] - 1 !== text[1] ? '' : 'transparent';\n                }\n                else if (id.indexOf('_Right_Page_Rect') > -1) {\n                    if (text[0] !== text[1]) {\n                        event.target.focus();\n                    }\n                    event.target.style.outlineColor = text[0] !== text[1] + 1 ? '' : 'transparent';\n                }\n                if (querySelector(this.element.id + '_Legend_Border', this.element.id)) {\n                    querySelector(this.element.id + '_Legend_Border', this.element.id).style.pointerEvents = 'none';\n                }\n            }\n            if (id.indexOf('shapeIndex') > -1) {\n                this.keyboardHighlightSelection(id, event.type);\n            }\n        }\n    };\n    /**\n     * Gets the selected element to be maintained or not.\n     *\n     * @param {Element} targetEle - Specifies the target element\n     * @returns {boolean} - Returns the boolean value\n     * @private\n     */\n    Maps.prototype.SelectedElement = function (targetEle) {\n        var isSelect = false;\n        if (targetEle.getAttribute('class') === 'ShapeselectionMapStyle') {\n            isSelect = true;\n        }\n        return isSelect;\n    };\n    /**\n     * This method is used to perform the operations when a click operation is performed on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps.\n     */\n    Maps.prototype.mapsOnClick = function (e) {\n        var _this = this;\n        var targetEle = e.target;\n        var targetId = targetEle.id;\n        var latitude = null;\n        var longitude = null;\n        this.mouseClickEvent = { x: e.x, y: e.y };\n        if (targetEle.id.indexOf('_ToolBar') === -1) {\n            var latLongValue = this.getClickLocation(targetId, e.pageX, e.pageY, targetEle, e['layerX'], e['layerY']);\n            if (!isNullOrUndefined(latLongValue)) {\n                latitude = latLongValue.latitude;\n                longitude = latLongValue.longitude;\n            }\n            var eventArgs_1 = {\n                cancel: false, name: click, target: targetId, x: e.clientX, y: e.clientY,\n                latitude: latitude, longitude: longitude,\n                isShapeSelected: this.SelectedElement(targetEle)\n            };\n            if (this.onclick) {\n                eventArgs_1.name = onclick;\n                this.trigger('onclick', eventArgs_1, function (mouseArgs) {\n                    _this.clickHandler(e, eventArgs_1, targetEle);\n                });\n            }\n            else {\n                this.trigger('click', eventArgs_1, function (mouseArgs) {\n                    _this.clickHandler(e, eventArgs_1, targetEle);\n                });\n            }\n        }\n    };\n    Maps.prototype.clickHandler = function (e, eventArgs, targetEle) {\n        if (targetEle.id.indexOf('shapeIndex') > -1) {\n            this.mergeCluster();\n            if (getElement(this.element.id + '_mapsTooltip') &&\n                this.mapsTooltipModule.tooltipTargetID.indexOf('_MarkerIndex_') > -1) {\n                removeElement(this.element.id + '_mapsTooltip');\n            }\n        }\n        if (this.markerModule) {\n            this.markerModule.markerClusterClick(e);\n        }\n        if (!eventArgs.cancel) {\n            this.notify(click, targetEle);\n        }\n        if (!eventArgs.cancel && targetEle.id.indexOf('shapeIndex') !== -1) {\n            this.triggerShapeSelection(targetEle);\n        }\n    };\n    Maps.prototype.triggerShapeSelection = function (targetEle) {\n        var layerIndex = parseInt(targetEle.id.split('_LayerIndex_')[1].split('_')[0], 10);\n        var shapeSelectedEventArgs = triggerShapeEvent(targetEle.id, this.layers[layerIndex].selectionSettings, this, shapeSelected);\n        if (!shapeSelectedEventArgs.cancel && this.selectionModule && !isNullOrUndefined(this.shapeSelected)) {\n            customizeStyle(this.selectionModule.selectionType + 'selectionMap', this.selectionModule.selectionType + 'selectionMapStyle', shapeSelectedEventArgs);\n        }\n        else if (shapeSelectedEventArgs.cancel && this.selectionModule\n            && isNullOrUndefined(shapeSelectedEventArgs['data'])) {\n            removeClass(targetEle);\n            this.selectionModule.removedSelectionList(targetEle);\n        }\n    };\n    Maps.prototype.getClickLocation = function (targetId, pageX, pageY, targetElement, x, y) {\n        var layerIndex = 0;\n        var latLongValue;\n        if (targetId.indexOf('_LayerIndex_') !== -1 && !this.isTileMap && (parseInt(this.mouseDownEvent['x']) === parseInt(this.mouseClickEvent['x']))\n            && (parseInt(this.mouseDownEvent['y']) === parseInt(this.mouseClickEvent['y']))) {\n            layerIndex = parseFloat(targetId.split('_LayerIndex_')[1].split('_')[0]);\n            if (this.layers[layerIndex].geometryType === 'Normal') {\n                if (targetId.indexOf('_shapeIndex_') > -1) {\n                    var location_2 = getMousePosition(pageX, pageY, targetElement.parentElement);\n                    var minLongitude = Math.abs((-this.baseMapBounds.longitude.min) * this.mapLayerPanel.currentFactor);\n                    var minLatitude = Math.abs(this.baseMapBounds.latitude.max * this.mapLayerPanel.currentFactor);\n                    latLongValue = {\n                        latitude: Math.abs(this.baseMapBounds.latitude.max - (location_2.y / this.mapLayerPanel.currentFactor)),\n                        longitude: Math.abs((location_2.x / this.mapLayerPanel.currentFactor) + this.baseMapBounds.longitude.min)\n                    };\n                    if (this.baseMapBounds.longitude.min < 0 && minLongitude > location_2.x) {\n                        latLongValue.longitude = -latLongValue.longitude;\n                    }\n                    if (this.baseMapBounds.latitude.min < 0 && minLatitude > location_2.y) {\n                        latLongValue.latitude = -latLongValue.latitude;\n                    }\n                }\n                else if (targetId.indexOf('_MarkerIndex_') > -1 && this.markerModule) {\n                    var markerIndex = parseInt(targetId.split('_MarkerIndex_')[1].split('_')[0], 10);\n                    var dataIndex = parseInt(targetId.split('_dataIndex_')[1].split('_')[0], 10);\n                    if (!isNaN(markerIndex) && !isNaN(dataIndex)) {\n                        var dataObject = this.layers[layerIndex].markerSettings[markerIndex].dataSource[dataIndex];\n                        latLongValue = { latitude: dataObject['latitude'], longitude: dataObject.longitude };\n                    }\n                    else {\n                        latLongValue = { latitude: null, longitude: null };\n                    }\n                }\n                else {\n                    latLongValue = { latitude: null, longitude: null };\n                }\n            }\n            else {\n                latLongValue = this.getGeoLocation(layerIndex, x, y);\n            }\n        }\n        else if (this.isTileMap && (parseInt(this.mouseDownEvent['x']) === parseInt(this.mouseClickEvent['x']))\n            && (parseInt(this.mouseDownEvent['y']) === parseInt(this.mouseClickEvent['y']))) {\n            latLongValue = this.getTileGeoLocation(x, y);\n        }\n        return latLongValue;\n    };\n    /**\n     * This method is used to perform operations when mouse click on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps.\n     * @returns {boolean} - Returns the boolean value\n     */\n    Maps.prototype.mouseEndOnMap = function (e) {\n        var targetEle = e.target;\n        var targetId = targetEle.id;\n        var pageX;\n        var latitude = null;\n        var longitude = null;\n        var pageY;\n        var target;\n        var touchArg;\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        if (e.type.indexOf('touch') !== -1) {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].pageX;\n            pageY = touchArg.changedTouches[0].pageY;\n            target = touchArg.target;\n            this.mouseClickEvent = { x: pageX, y: pageY };\n        }\n        else {\n            this.isTouch = e.pointerType === 'touch';\n            pageX = e.pageX;\n            pageY = e.pageY;\n            target = e.target;\n        }\n        if (this.isTouch) {\n            if (targetEle.id.indexOf('_ToolBar') === -1) {\n                var latLongValue = this.getClickLocation(targetId, pageX, pageY, targetEle, pageX, pageY);\n                if (!isNullOrUndefined(latLongValue)) {\n                    latitude = latLongValue.latitude;\n                    longitude = latLongValue.longitude;\n                }\n            }\n            this.titleTooltip(e, pageX, pageY, true);\n            if (!isNullOrUndefined(this.legendModule)) {\n                this.legendTooltip(e, e.pageX, e.pageY, true);\n            }\n        }\n        this.notify(Browser.touchEndEvent, e);\n        if (e.cancelable && !this.isTouch) {\n            e.preventDefault();\n        }\n        return false;\n    };\n    /**\n     * This method is used to perform operations when mouse is clicked down on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps\n     * @returns {void}\n     */\n    Maps.prototype.mouseDownOnMap = function (e) {\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        this.mouseDownEvent = { x: e.x, y: e.y };\n        if (e.type.indexOf('touch') !== -1 && e.changedTouches) {\n            this.mouseDownEvent = { x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY };\n        }\n        var rect = this.element.getBoundingClientRect();\n        var element = e.target;\n        if (element.id.indexOf('_ToolBar') === -1) {\n            var markerModule = this.markerModule;\n            if (element.id.indexOf('shapeIndex') > -1 || element.id.indexOf('Tile') > -1) {\n                this.mergeCluster();\n                if (element.id.indexOf('shapeIndex') > -1) {\n                    this.triggerShapeSelection(element);\n                }\n            }\n            if (markerModule) {\n                markerModule.markerClick(e);\n                markerModule.markerClusterClick(e);\n            }\n            if (this.bubbleModule) {\n                this.bubbleModule.bubbleClick(e);\n            }\n        }\n        this.notify(Browser.touchStartEvent, e);\n    };\n    /**\n     * Merges the marker clusters.\n     *\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.mergeCluster = function () {\n        if (this.markerModule && (this.markerModule.sameMarkerData.length > 0) &&\n            (this.zoomModule ? this.zoomModule.isSingleClick : true)) {\n            mergeSeparateCluster(this.markerModule.sameMarkerData, this, getElement(this.element.id + '_Markers_Group'));\n            this.markerModule.sameMarkerData = [];\n        }\n    };\n    /**\n     * This method is used to perform operations when performing the double click operation on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event.\n     */\n    Maps.prototype.mapsOnDoubleClick = function (e) {\n        this.notify('dblclick', e);\n        var targetElement = e.target;\n        var targetId = targetElement.id;\n        var layerIndex = 0;\n        var latLongValue;\n        var latitude = null;\n        var longitude = null;\n        if (targetElement.id.indexOf('_ToolBar') === -1) {\n            if (targetElement.id.indexOf('_LayerIndex_') !== -1 && !this.isTileMap && (this.mouseDownEvent['x'] === e.clientX)\n                && (this.mouseDownEvent['y'] === e.clientY)) {\n                layerIndex = parseFloat(targetElement.id.split('_LayerIndex_')[1].split('_')[0]);\n                latLongValue = this.getGeoLocation(layerIndex, e['layerX'], e['layerY']);\n                latitude = latLongValue['latitude'];\n                longitude = latLongValue['longitude'];\n            }\n            else if (this.isTileMap && (this.mouseDownEvent['x'] === e.clientX)\n                && (this.mouseDownEvent['y'] === e.clientY)) {\n                latLongValue = this.getTileGeoLocation(e['layerX'], e['layerY']);\n                latitude = latLongValue['latitude'];\n                longitude = latLongValue['longitude'];\n            }\n            var doubleClickArgs = { cancel: false, name: doubleClick, x: e.clientX, y: e.clientY,\n                target: targetId, latitude: latitude, longitude: longitude, isShapeSelected: null };\n            this.trigger('doubleClick', doubleClickArgs);\n        }\n    };\n    /**\n     * This method is used to perform operations while performing mouse over on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps.\n     * @returns {void}\n     */\n    Maps.prototype.mouseMoveOnMap = function (e) {\n        var pageX;\n        var pageY;\n        var touchArg;\n        var target;\n        var touches = null;\n        target = (e.type === 'touchmove') ? e.target :\n            target = e.target;\n        // if (target.id.indexOf('shapeIndex') !== -1 && !this.highlightSettings.enable) {\n        //     triggerShapeEvent(target.id, this.highlightSettings, this, shapeHighlight);\n        // }\n        if (this.markerModule) {\n            this.markerModule.markerMove(e);\n            this.markerModule.markerClusterMouseMove(e);\n        }\n        if (this.bubbleModule) {\n            this.bubbleModule.bubbleMove(e);\n        }\n        this.onMouseMove(e);\n        this.notify(Browser.touchMoveEvent, e);\n    };\n    /**\n     * This method is used to perform operations when mouse move event is performed on maps.\n     *\n     * @param {PointerEvent} e - Specifies the pointer event on maps.\n     * @returns {void}\n     */\n    Maps.prototype.onMouseMove = function (e) {\n        var element = e.target;\n        var pageX;\n        var pageY;\n        var target;\n        var touchArg;\n        if (!this.isTouch) {\n            this.titleTooltip(e, e.pageX, e.pageY);\n            if (!isNullOrUndefined(this.legendModule)) {\n                this.legendTooltip(e, e.pageX, e.pageY, true);\n            }\n        }\n        return false;\n    };\n    Maps.prototype.legendTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        var legendText;\n        var page = this.legendModule.currentPage;\n        var legendIndex = event.target.id.split('_Index_')[1];\n        var collection;\n        page = this.legendModule.totalPages.length <= this.legendModule.currentPage\n            ? this.legendModule.totalPages.length - 1 : this.legendModule.currentPage < 0 ?\n            0 : this.legendModule.currentPage;\n        var count = this.legendModule.totalPages.length !== 0 ?\n            this.legendModule.totalPages[page]['Collection'].length : this.legendModule.totalPages.length;\n        for (var i = 0; i < count; i++) {\n            collection = this.legendModule.totalPages[page]['Collection'][i];\n            legendText = collection['DisplayText'];\n            targetId = event.target['id'];\n            legendIndex = event.target['id'].split('_Index_')[1];\n            if ((targetId === (this.element.id + '_Legend_Text_Index_' + legendIndex)) &&\n                (event.target.textContent.indexOf('...') > -1) && collection['idIndex'] === parseInt(legendIndex, 10)) {\n                showTooltip(legendText, this.legendSettings.textStyle.size, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_Legend_Text_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n            }\n        }\n        if ((targetId !== (this.element.id + '_Legend_Text_Index_' + legendIndex))) {\n            removeElement(this.element.id + '_EJ2_Legend_Text_Tooltip');\n        }\n    };\n    Maps.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if (targetId === (this.element.id + '_LegendTitle') && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.legendSettings.title.text, this.legendSettings.titleStyle.size, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_LegendTitle_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_LegendTitle_Tooltip');\n        }\n        if ((targetId === (this.element.id + '_Map_title')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, this.titleSettings.textStyle.size || this.themeStyle.titleFontSize, x, y, this.element.offsetWidth, this.element.offsetHeight, this.element.id + '_EJ2_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch);\n        }\n        else {\n            removeElement(this.element.id + '_EJ2_Title_Tooltip');\n        }\n    };\n    /*\n\n    /**\n     * This method is used to perform operations while resizing the window.\n     *\n     * @param e - Specifies the arguments of window resize event.\n     */\n    Maps.prototype.mapsOnResize = function (e) {\n        var _this = this;\n        this.isResize = this.isReset = true;\n        var args = {\n            cancel: false,\n            name: resize,\n            previousSize: this.availableSize,\n            currentSize: calculateSize(this),\n            maps: this\n        };\n        this.trigger(resize, args);\n        if (!args.cancel) {\n            if (this.resizeTo) {\n                clearTimeout(this.resizeTo);\n            }\n            if (!isNullOrUndefined(this.element) && this.element.classList.contains('e-maps')) {\n                this.resizeTo = setTimeout(function () {\n                    _this.unWireEVents();\n                    _this.createSVG();\n                    _this.refreshing = true;\n                    _this.wireEVents();\n                    _this.render();\n                    _this.refreshing = false;\n                }, 500);\n            }\n        }\n        return false;\n    };\n    /**\n     * This method is used to zoom the map by specifying the center position.\n     *\n     * @param {number} centerPosition - Specifies the center position\n     * @param {number} centerPosition.latitude - Specifies the latitude value for the center position\n     * @param {number} centerPosition.longitude - Specifies the longitude value for the center position\n     * @param {number} zoomFactor - Specifies the zoom factor for maps.\n     * @returns {void}\n     */\n    Maps.prototype.zoomByPosition = function (centerPosition, zoomFactor) {\n        var factor = this.mapLayerPanel.calculateFactor(this.layersCollection[0]);\n        var position;\n        var size = this.mapAreaRect;\n        if (!this.isTileMap && this.zoomModule) {\n            if (!isNullOrUndefined(centerPosition)) {\n                position = convertGeoToPoint(centerPosition.latitude, centerPosition.longitude, factor, this.layersCollection[0], this);\n                var mapRect = document.getElementById(this.element.id + '_Layer_Collections').getBoundingClientRect();\n                var svgRect = this.svgObject.getBoundingClientRect();\n                var xDiff = Math.abs(mapRect.left - svgRect.left) / this.scale;\n                var yDiff = Math.abs(mapRect.top - svgRect.top) / this.scale;\n                var x = this.translatePoint.x + xDiff;\n                var y = this.translatePoint.y + yDiff;\n                this.scale = zoomFactor;\n                this.translatePoint.x = ((mapRect.left < svgRect.left ? x : 0) + (size.width / 2) - (position.x * zoomFactor)) / zoomFactor;\n                this.translatePoint.y = ((mapRect.top < svgRect.top ? y : 0) + (size.height / 2) - (position.y * zoomFactor)) / zoomFactor;\n                this.zoomModule.applyTransform(this);\n            }\n            else {\n                position = { x: size.width / 2, y: size.height / 2 };\n                this.zoomModule.performZooming(position, zoomFactor, zoomFactor > this.scale ? 'ZoomIn' : 'ZoomOut');\n            }\n        }\n        else if (this.zoomModule) {\n            this.tileZoomLevel = zoomFactor;\n            this.tileTranslatePoint = this.mapLayerPanel['panTileMap'](this.availableSize.width, this.availableSize.height, { x: centerPosition.longitude, y: centerPosition.latitude });\n            this.mapLayerPanel.generateTiles(zoomFactor, this.tileTranslatePoint, null, new BingMap(this));\n        }\n    };\n    /**\n     * This method is used to perform panning by specifying the direction.\n     *\n     * @param {PanDirection} direction - Specifies the direction in which the panning is performed.\n     * @param {PointerEvent | TouchEvent} mouseLocation - Specifies the location of the mouse pointer in maps.\n     */\n    Maps.prototype.panByDirection = function (direction, mouseLocation) {\n        var xDiff = 0;\n        var yDiff = 0;\n        switch (direction) {\n            case 'Left':\n                xDiff = -(this.mapAreaRect.width / 7);\n                break;\n            case 'Right':\n                xDiff = (this.mapAreaRect.width / 7);\n                break;\n            case 'Top':\n                yDiff = -(this.mapAreaRect.height / 7);\n                break;\n            case 'Bottom':\n                yDiff = (this.mapAreaRect.height / 7);\n                break;\n        }\n        if (this.zoomModule) {\n            this.zoomModule.panning(direction, xDiff, yDiff, mouseLocation);\n        }\n    };\n    /**\n     * This method is used to add the layers dynamically to the maps.\n     *\n     * @param {Object} layer - Specifies the layer for the maps.\n     */\n    Maps.prototype.addLayer = function (layer) {\n        var mapsLayer = this.layers;\n        mapsLayer.push(layer);\n        this.isAddLayer = true;\n        this.layers = mapsLayer;\n    };\n    /**\n     * This method is used to remove a layer from map.\n     *\n     * @param {number} index - Specifies the index number of the layer to be removed.\n     * @returns {void}\n     */\n    Maps.prototype.removeLayer = function (index) {\n        var mapsLayer = this.layers;\n        mapsLayer.splice(index, 1);\n        this.layers = mapsLayer;\n    };\n    /**\n     * This method is used to add markers dynamically in the maps.\n     * If we provide the index value of the layer in which the marker to be added and the coordinates\n     * of the marker as parameters, the marker will be added in the location.\n     *\n     * @param {number} layerIndex - Specifies the index number of the layer.\n     * @param {MarkerSettingsModel[]} markerCollection - Specifies the settings of the marker to be added.\n     * @returns {void}\n     */\n    Maps.prototype.addMarker = function (layerIndex, markerCollection) {\n        var layerEle = document.getElementById(this.element.id + '_LayerIndex_' + layerIndex);\n        if (markerCollection.length > 0 && layerEle) {\n            for (var _i = 0, markerCollection_1 = markerCollection; _i < markerCollection_1.length; _i++) {\n                var newMarker = markerCollection_1[_i];\n                this.layersCollection[layerIndex].markerSettings.push(new MarkerSettings(this, 'markerSettings', newMarker));\n            }\n            var markerModule = new Marker(this);\n            markerModule.markerRender(this, layerEle, layerIndex, this.mapLayerPanel['currentFactor'], 'AddMarker');\n            this.arrangeTemplate();\n        }\n    };\n    /**\n     * This method is used to select the geometric shape element in the maps component.\n     *\n     * @param {number} layerIndex - Specifies the index of the layer in maps.\n     * @param {string | string[]} propertyName - Specifies the property name from the data source.\n     * @param {string} name - Specifies the name of the shape that is selected.\n     * @param {boolean} enable - Specifies the shape selection to be enabled.\n     * @returns {void}\n     */\n    Maps.prototype.shapeSelection = function (layerIndex, propertyName, name, enable) {\n        var targetEle;\n        var subLayerIndex;\n        var popertyNameArray = Array.isArray(propertyName) ? propertyName : Array(propertyName);\n        if (isNullOrUndefined(enable)) {\n            enable = true;\n        }\n        var selectionsettings = this.layers[layerIndex].selectionSettings;\n        if (!selectionsettings.enableMultiSelect && this.legendSelection && enable) {\n            this.removeShapeSelection();\n        }\n        if (this.layers[layerIndex].type === 'SubLayer') {\n            for (var i = 0; i < this.layersCollection.length; i++) {\n                if ((this.layersCollection[i].shapeData === this.layers[layerIndex].shapeData)) {\n                    subLayerIndex = i;\n                    break;\n                }\n            }\n        }\n        if (selectionsettings.enable) {\n            var targetId = void 0;\n            var dataIndex = void 0;\n            var shapeIndex = void 0;\n            var indexValue = void 0;\n            var shapeDataValue = void 0;\n            var data = void 0;\n            var shapeData = this.layers[layerIndex].shapeData['features'];\n            for (var i = 0; i < shapeData.length; i++) {\n                for (var j = 0; j < popertyNameArray.length; j++) {\n                    var propertyName_1 = !isNullOrUndefined(shapeData[i]['properties'][popertyNameArray[j]])\n                        && isNaN(shapeData[i]['properties'][popertyNameArray[j]]) ?\n                        shapeData[i]['properties'][popertyNameArray[j]].toLowerCase() : shapeData[i]['properties'][popertyNameArray[j]];\n                    var shapeName = !isNullOrUndefined(name) && typeof name === 'string' ? name.toLowerCase() : name;\n                    var k = void 0;\n                    if (propertyName_1 === shapeName) {\n                        if (!isNullOrUndefined(this.layers[layerIndex].shapeSettings.colorValuePath)) {\n                            k = checkShapeDataFields(this.layers[layerIndex].dataSource, shapeData[i]['properties'], this.layers[layerIndex].shapeDataPath, this.layers[layerIndex].shapePropertyPath, this.layers[layerIndex]);\n                        }\n                        var baseLayer = this.layers[layerIndex];\n                        if (this.baseLayerIndex >= 0 && baseLayer.isBaseLayer) {\n                            indexValue = 0;\n                        }\n                        else if (this.layers[layerIndex].type === 'SubLayer') {\n                            indexValue = subLayerIndex;\n                        }\n                        targetId = this.element.id + '_' + 'LayerIndex_' + indexValue + '_shapeIndex_' + i + '_dataIndex_' + k;\n                        targetEle = getElement(targetId);\n                        if (isNullOrUndefined(k) && isNullOrUndefined(targetEle)) {\n                            targetId = this.element.id + '_' + 'LayerIndex_' + layerIndex + '_shapeIndex_' + i + '_dataIndex_null';\n                            targetEle = getElement(targetId);\n                        }\n                        shapeIndex = parseInt(targetEle.id.split('_shapeIndex_')[1].split('_')[0], 10);\n                        shapeDataValue = this.layers[layerIndex].shapeData['features']['length'] > shapeIndex ?\n                            this.layers[layerIndex].shapeData['features'][shapeIndex]['properties'] : null;\n                        dataIndex = parseInt(targetEle.id.split('_dataIndex_')[1].split('_')[0], 10);\n                        data = isNullOrUndefined(dataIndex) ? null : this.layers[layerIndex].dataSource[dataIndex];\n                        if (enable) {\n                            triggerItemSelectionEvent(selectionsettings, this, targetEle, shapeDataValue, data);\n                            this.shapeSelectionClass = getElement('ShapeselectionMap');\n                            if (this.legendSettings.visible && targetEle.id.indexOf('_MarkerIndex_') === -1) {\n                                this.legendModule.shapeHighLightAndSelection(targetEle, data, selectionsettings, 'selection', layerIndex);\n                            }\n                            var shapeToggled = this.legendSettings.visible ? this.legendModule.shapeToggled : true;\n                            if (shapeToggled) {\n                                targetEle.setAttribute('class', 'ShapeselectionMapStyle');\n                                if (this.selectedElementId.indexOf(targetEle.getAttribute('id')) === -1) {\n                                    this.selectedElementId.push(targetEle.getAttribute('id'));\n                                }\n                                if (!selectionsettings.enableMultiSelect) {\n                                    return;\n                                }\n                            }\n                        }\n                        else {\n                            this.legendSelection = (!selectionsettings.enableMultiSelect && !this.legendSelection) ?\n                                true : this.legendSelection;\n                            if (this.legendSettings.visible && targetEle.id.indexOf('_MarkerIndex_') === -1 &&\n                                targetEle.getAttribute('class') === 'ShapeselectionMapStyle') {\n                                this.legendModule.shapeHighLightAndSelection(targetEle, data, selectionsettings, 'selection', layerIndex);\n                            }\n                            var shapeToggled = this.legendSettings.visible ? this.legendModule.shapeToggled : true;\n                            if (shapeToggled) {\n                                removeClass(targetEle);\n                                var selectedElementIdIndex = this.selectedElementId.indexOf(targetEle.getAttribute('id'));\n                                if (selectedElementIdIndex !== -1) {\n                                    this.selectedElementId.splice(selectedElementIdIndex, 1);\n                                    if (!selectionsettings.enableMultiSelect && this.legendSelection && this.selectedElementId.length > 0) {\n                                        this.removeShapeSelection();\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to zoom the maps component based on the provided coordinates.\n     *\n     * @param {number} minLatitude - Specifies the minimum latitude to be zoomed.\n     * @param {number} minLongitude - Specifies the minimum latitude to be zoomed.\n     * @param {number} maxLatitude - Specifies the maximum latitude to be zoomed.\n     * @param {number} maxLongitude - Specifies the maximum longitude to be zoomed.\n     * @returns {void}\n     */\n    Maps.prototype.zoomToCoordinates = function (minLatitude, minLongitude, maxLatitude, maxLongitude) {\n        var _a, _b;\n        var centerLatitude;\n        var centerLongtitude;\n        var isTwoCoordinates = false;\n        if (isNullOrUndefined(maxLatitude) && isNullOrUndefined(maxLongitude)\n            || isNullOrUndefined(minLatitude) && isNullOrUndefined(minLongitude)) {\n            minLatitude = isNullOrUndefined(minLatitude) ? 0 : minLatitude;\n            minLongitude = isNullOrUndefined(minLatitude) ? 0 : minLongitude;\n            maxLatitude = isNullOrUndefined(maxLatitude) ? minLatitude : maxLatitude;\n            maxLongitude = isNullOrUndefined(maxLongitude) ? minLongitude : maxLongitude;\n            isTwoCoordinates = true;\n        }\n        if (minLatitude > maxLatitude) {\n            _a = [maxLatitude, minLatitude], minLatitude = _a[0], maxLatitude = _a[1];\n        }\n        if (minLongitude > maxLongitude) {\n            _b = [maxLongitude, minLongitude], minLongitude = _b[0], maxLongitude = _b[1];\n        }\n        if (!isTwoCoordinates) {\n            centerLatitude = (minLatitude + maxLatitude) / 2;\n            centerLongtitude = (minLongitude + maxLongitude) / 2;\n        }\n        else {\n            centerLatitude = (minLatitude + maxLatitude);\n            centerLongtitude = (minLongitude + maxLongitude);\n        }\n        this.centerLatOfGivenLocation = centerLatitude;\n        this.centerLongOfGivenLocation = centerLongtitude;\n        this.minLatOfGivenLocation = minLatitude;\n        this.minLongOfGivenLocation = minLongitude;\n        this.maxLatOfGivenLocation = maxLatitude;\n        this.maxLongOfGivenLocation = maxLongitude;\n        this.zoomNotApplied = true;\n        this.scaleOfGivenLocation = calculateZoomLevel(minLatitude, maxLatitude, minLongitude, maxLongitude, this.mapAreaRect.width, this.mapAreaRect.height, this);\n        var zoomArgs = {\n            cancel: false, name: 'zoom', type: zoomIn, maps: this,\n            tileTranslatePoint: {}, translatePoint: {},\n            tileZoomLevel: this.isTileMap ? { previous: this.tileZoomLevel, current: this.scaleOfGivenLocation } : {},\n            scale: !this.isTileMap ? { previous: this.scale, current: this.scaleOfGivenLocation } :\n                { previous: this.tileZoomLevel, current: this.scaleOfGivenLocation }\n        };\n        this.trigger('zoom', zoomArgs);\n        this.refresh();\n    };\n    /**\n     * This method is used to remove multiple selected shapes in the maps.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.removeShapeSelection = function () {\n        var selectedElements = this.selectedElementId.length;\n        for (var i = 0; i < selectedElements; i++) {\n            removeClass(getElementByID(this.selectedElementId[0]));\n            this.selectedElementId.splice(0, 1);\n        }\n        if (this.legendSettings.visible) {\n            var legendSelectedElements = this.legendSelectionCollection.length;\n            for (var i = 0; i < legendSelectedElements; i++) {\n                removeClass(getElementByID(this.legendSelectionCollection[i]['legendElement']['id']));\n                this.selectedLegendElementId.splice(0, 1);\n            }\n        }\n        this.shapeSelectionItem = [];\n        this.legendSelectionCollection = [];\n    };\n    /**\n     * This method is used to set culture for maps component.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n        this.setLocaleConstants();\n        this.localeObject = new L10n(this.getModuleName(), this.defaultLocalConstants, this.locale);\n    };\n    /**\n     * This method to set locale constants to the maps component.\n     *\n     * @returns {void}\n     */\n    Maps.prototype.setLocaleConstants = function () {\n        // Need to modify after the api confirm\n        this.defaultLocalConstants = {\n            ZoomIn: 'Zoom in',\n            Zoom: 'Zoom',\n            ZoomOut: 'Zoom out',\n            Pan: 'Pan',\n            Reset: 'Reset',\n            ImageNotFound: 'Image Not Found'\n        };\n    };\n    /**\n     * This method disposes the maps component.\n     */\n    Maps.prototype.destroy = function () {\n        this.unWireEVents();\n        _super.prototype.destroy.call(this);\n        this.shapeSelectionItem = [];\n        this.toggledShapeElementId = [];\n        this.toggledLegendId = [];\n        this.legendSelectionCollection = [];\n        this.selectedLegendElementId = [];\n        this.selectedNavigationElementId = [];\n        this.selectedBubbleElementId = [];\n        this.selectedMarkerElementId = [];\n        this.selectedElementId = [];\n        this.dataLabelShape = [];\n        this.zoomShapeCollection = [];\n        this.zoomLabelPositions = [];\n        this.mouseDownEvent = { x: null, y: null };\n        this.mouseClickEvent = { x: null, y: null };\n        this.formatFunction = null;\n        //TODO: Calling the below code throws spec issue.\n        //this.renderer = null;\n        this.availableSize = new Size(0, 0);\n        if (document.getElementById('mapsmeasuretext')) {\n            document.getElementById('mapsmeasuretext').remove();\n        }\n        this.removeSvg();\n    };\n    /**\n     * Gets component name\n     *\n     * @returns {string} - Returns the string value\n     */\n    Maps.prototype.getModuleName = function () {\n        return 'maps';\n    };\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Returns the string value\n     * @private\n     */\n    Maps.prototype.getPersistData = function () {\n        var keyEntity = ['translatePoint', 'zoomSettings', 'mapScaleValue', 'tileTranslatePoint', 'baseTranslatePoint',\n            'scale', 'zoomPersistence', 'defaultState', 'markerZoomedState', 'initialCheck', 'initialZoomLevel', 'initialTileTranslate',\n            'applyZoomReset', 'markerZoomFactor'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {MapsModel} newProp - Specifies the new property\n     * @param {MapsModel} oldProp - Specifies the old property\n     * @returns {void}\n     * @private\n     */\n    Maps.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var render = false;\n        var isMarker = false;\n        var isLayer = false;\n        var isStaticMapType = false;\n        var layerEle;\n        if (newProp['layers']) {\n            var newLayerLength = Object.keys(newProp['layers']).length;\n            layerEle = document.getElementById(this.element.id + '_LayerIndex_' + (newLayerLength - 1));\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'background':\n                    this.renderBorder();\n                    break;\n                case 'height':\n                case 'width':\n                case 'layers':\n                case 'projectionType':\n                case 'centerPosition':\n                case 'legendSettings':\n                case 'baseLayerIndex':\n                    if (prop === 'layers') {\n                        isLayer = true;\n                        var layerPropLength = Object.keys(newProp.layers).length;\n                        for (var x = 0; x < layerPropLength; x++) {\n                            if (!isNullOrUndefined(newProp.layers[x])) {\n                                var collection = Object.keys(newProp.layers[x]);\n                                for (var _b = 0, collection_1 = collection; _b < collection_1.length; _b++) {\n                                    var collectionProp = collection_1[_b];\n                                    if ((collectionProp === 'layerType' && newProp.layers[x].layerType !== 'Geometry') || (isNullOrUndefined(this.layers[x].shapeData)\n                                        && !isNullOrUndefined(this.layers[x].urlTemplate) && this.layers[x].urlTemplate !== '')) {\n                                        this.isReset = true;\n                                    }\n                                    else if (collectionProp === 'markerSettings') {\n                                        isMarker = true;\n                                    }\n                                    else if (collectionProp === 'staticMapType') {\n                                        isStaticMapType = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    render = true;\n                    break;\n                case 'zoomSettings':\n                    if (!isNullOrUndefined(oldProp.zoomSettings)) {\n                        if (newProp.zoomSettings.zoomFactor !== oldProp.zoomSettings.zoomFactor && !isLayer) {\n                            render = false;\n                        }\n                        else if (newProp.zoomSettings.shouldZoomInitially !== oldProp.zoomSettings.shouldZoomInitially) {\n                            this.zoomSettings.zoomFactor = 1;\n                            render = true;\n                        }\n                        else if (newProp.zoomSettings.enable !== oldProp.zoomSettings.enable) {\n                            this.zoomSettings.zoomFactor = 1;\n                            render = true;\n                        }\n                        else {\n                            render = true;\n                        }\n                    }\n                    break;\n                case 'locale':\n                case 'currencyCode':\n                    _super.prototype.refresh.call(this);\n                    break;\n            }\n        }\n        if (render) {\n            if (newProp.layers && isMarker) {\n                removeElement(this.element.id + '_Markers_Group');\n                if (this.isTileMap) {\n                    this.mapLayerPanel.renderTileLayer(this.mapLayerPanel, this.layers['currentFactor'], (this.layers.length - 1));\n                }\n                else {\n                    this.render();\n                }\n            }\n            else if (newProp.layers && isStaticMapType) {\n                this.mapLayerPanel.renderGoogleMap(this.layers[this.layers.length - 1].key, this.staticMapZoom);\n            }\n            else {\n                this.createSVG();\n                this.renderElements();\n            }\n        }\n    };\n    /**\n     * To provide the array of modules needed for maps rendering\n     *\n     * @returns {ModuleDeclaration[]} - Returns the modules\n     * @private\n     */\n    Maps.prototype.requiredModules = function () {\n        var modules = [];\n        var isVisible = this.findVisibleLayers(this.layers);\n        var annotationEnable = false;\n        this.annotations.map(function (annotation, index) {\n            annotationEnable = annotation.content != null;\n        });\n        if (this.isBubbleVisible()) {\n            modules.push({\n                member: 'Bubble',\n                args: [this]\n            });\n        }\n        if (isVisible.highlight) {\n            modules.push({\n                member: 'Highlight',\n                args: [this]\n            });\n        }\n        if (isVisible.selection) {\n            modules.push({\n                member: 'Selection',\n                args: [this]\n            });\n        }\n        if (this.legendSettings.visible) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.zoomSettings.enable || this.zoomSettings.zoomFactor > this.zoomSettings.minZoom) {\n            modules.push({\n                member: 'Zoom',\n                args: [this]\n            });\n        }\n        if (this.isMarkersVisible()) {\n            modules.push({\n                member: 'Marker',\n                args: [this]\n            });\n        }\n        if (this.isDataLabelVisible()) {\n            modules.push({\n                member: 'DataLabel',\n                args: [this]\n            });\n        }\n        if (this.isNavigationVisible()) {\n            modules.push({\n                member: 'NavigationLine',\n                args: [this]\n            });\n        }\n        if (isVisible.tooltip) {\n            modules.push({\n                member: 'MapsTooltip',\n                args: [this]\n            });\n        }\n        if (annotationEnable) {\n            modules.push({\n                member: 'Annotations',\n                args: [this, Annotations]\n            });\n        }\n        if (this.allowPrint) {\n            modules.push({\n                member: 'Print',\n                args: [this]\n            });\n        }\n        if (this.allowImageExport) {\n            modules.push({\n                member: 'ImageExport',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'PdfExport',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To find marker visibility\n     */\n    Maps.prototype.isMarkersVisible = function () {\n        var isVisible = false;\n        Array.prototype.forEach.call(this.layers, function (layer, layerIndex) {\n            for (var i = 0; i < layer.markerSettings.length; i++) {\n                if (layer.markerSettings[i].visible) {\n                    isVisible = true;\n                    break;\n                }\n            }\n        });\n        return isVisible;\n    };\n    /**\n     * To find DataLabel visibility\n     */\n    Maps.prototype.isDataLabelVisible = function () {\n        var isVisible = false;\n        for (var i = 0; i < this.layers.length; i++) {\n            if (this.layers[i].dataLabelSettings.visible) {\n                isVisible = true;\n                break;\n            }\n        }\n        return isVisible;\n    };\n    /**\n     * To find navigation line visibility\n     */\n    Maps.prototype.isNavigationVisible = function () {\n        var isVisible = false;\n        Array.prototype.forEach.call(this.layers, function (layer, layerIndex) {\n            for (var i = 0; i < layer.navigationLineSettings.length; i++) {\n                if (layer.navigationLineSettings[i].visible) {\n                    isVisible = true;\n                    break;\n                }\n            }\n        });\n        return isVisible;\n    };\n    /**\n     * To find space between the secondary element and svg element.\n     * @private\n     */\n    Maps.prototype.getExtraPosition = function () {\n        var top = 0;\n        var left = 0;\n        var svgElement = getElement(this.element.id + '_svg');\n        if (!isNullOrUndefined(svgElement)) {\n            var svgClientRects = svgElement.getClientRects();\n            var mapsClientRects = (getElement(this.element.id + '_Secondary_Element')).getClientRects();\n            if (svgClientRects.length !== 0 && mapsClientRects.length !== 0) {\n                var svgClientRect = svgClientRects[0];\n                var mapsClientRect = mapsClientRects[0];\n                top = svgClientRect.top - mapsClientRect.top;\n                left = svgClientRect.left - mapsClientRect.left;\n            }\n        }\n        return new Point(left, top);\n    };\n    /**\n     * To find marker visibility\n     */\n    Maps.prototype.isBubbleVisible = function () {\n        var isVisible = false;\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n            var layer = _a[_i];\n            if (this.getBubbleVisible(layer)) {\n                isVisible = true;\n                break;\n            }\n        }\n        return isVisible;\n    };\n    /**\n     * To find the bubble visibility from layer\n     *\n     * @param {LayerSettingsModel} layer - Spcifies the layer settings model\n     * @returns {boolean} - Returns the boolean value\n     * @private\n     */\n    Maps.prototype.getBubbleVisible = function (layer) {\n        var isVisible = false;\n        for (var _i = 0, _a = layer.bubbleSettings; _i < _a.length; _i++) {\n            var bubble = _a[_i];\n            if (bubble.visible) {\n                isVisible = true;\n                break;\n            }\n        }\n        return isVisible;\n    };\n    /**\n     * This method handles the printing functionality for the maps component.\n     *\n     * @param {string[] | string | Element} id - Specifies the element to be printed.\n     * @returns {void}\n     */\n    Maps.prototype.print = function (id) {\n        if ((this.allowPrint) && (this.printModule)) {\n            this.printModule.print(this, id);\n        }\n    };\n    /**\n     * This method handles the export functionality for the maps component.\n     *\n     * @param {ExportType} type - Specifies the type of the exported file.\n     * @param {string} fileName - Specifies the name of the file with which the rendered maps need to be exported.\n     * @param {PdfPageOrientation} orientation - Specifies the orientation of the pdf document in exporting.\n     * @param {boolean} allowDownload - Specifies whether to download as a file or get as base64 string for the file\n     * @returns {Promise<string>} - Returns the string value.\n     */\n    Maps.prototype.export = function (type, fileName, orientation, allowDownload) {\n        var _this = this;\n        if (isNullOrUndefined(allowDownload)) {\n            allowDownload = true;\n        }\n        if ((type !== 'PDF') && (this.allowImageExport) && (this.imageExportModule)) {\n            return new Promise(function (resolve, reject) {\n                resolve(_this.imageExportModule.export(_this, type, fileName, allowDownload));\n            });\n        }\n        else if ((this.allowPdfExport) && (this.pdfExportModule)) {\n            return new Promise(function (resolve, reject) {\n                resolve(_this.pdfExportModule.export(_this, type, fileName, allowDownload, orientation));\n            });\n        }\n        return null;\n    };\n    /**\n     * This method is used to get the Bing maps URL.\n     *\n     * @param {string} url - Specifies the URL of the maps.\n     * @returns {Promise<string>} - Returns the processed Bing URL as Promise.\n     */\n    Maps.prototype.getBingUrlTemplate = function (url) {\n        var promise = new Promise(function (resolve, reject) {\n            var ajax = new Ajax({\n                url: url\n            });\n            ajax.onSuccess = function (json) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var jsonObject = JSON.parse(json);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var resource = jsonObject['resourceSets'][0]['resources'][0];\n                resolve(resource['imageUrl']);\n            };\n            ajax.send();\n        });\n        return promise;\n    };\n    /**\n     * To find visibility of layers and markers for required modules load.\n     *\n     * @param {LayerSettingsModel[]} layers - Specifies the layers.\n     * @param {boolean} isLayerVisible - Specifies whether the layer is visible or not.\n     * @param {boolean} isBubblevisible - Specifies whether the bubble is visible or not.\n     * @param {boolean} istooltipVisible - Specifies whether the tooltip is visible or not.\n     * @param {boolean} isSelection - Specifies whether the shape is selectd or not.\n     * @param {boolean} isHighlight - Specfies whether the shape is highlighted or not.\n     * @returns {boolean} - Returns the boolean value\n     */\n    Maps.prototype.findVisibleLayers = function (layers, isLayerVisible, isBubblevisible, istooltipVisible, isSelection, isHighlight) {\n        if (isLayerVisible === void 0) { isLayerVisible = false; }\n        if (isBubblevisible === void 0) { isBubblevisible = false; }\n        if (istooltipVisible === void 0) { istooltipVisible = false; }\n        if (isSelection === void 0) { isSelection = false; }\n        if (isHighlight === void 0) { isHighlight = false; }\n        var bubbles;\n        var markers;\n        var navigationLine;\n        for (var _i = 0, layers_1 = layers; _i < layers_1.length; _i++) {\n            var layer = layers_1[_i];\n            isLayerVisible = layer.visible || isLayerVisible;\n            if (layer.visible) {\n                bubbles = layer.bubbleSettings;\n                markers = layer.markerSettings;\n                navigationLine = layer.navigationLineSettings;\n                for (var _a = 0, navigationLine_1 = navigationLine; _a < navigationLine_1.length; _a++) {\n                    var navigation = navigationLine_1[_a];\n                    if (navigation.visible) {\n                        isSelection = navigation.highlightSettings.enable || isSelection;\n                        isHighlight = navigation.selectionSettings.enable || isHighlight;\n                    }\n                }\n                for (var _b = 0, markers_1 = markers; _b < markers_1.length; _b++) {\n                    var marker = markers_1[_b];\n                    if (marker.visible) {\n                        istooltipVisible = marker.tooltipSettings.visible || istooltipVisible;\n                        isSelection = marker.selectionSettings.enable || isSelection;\n                        isHighlight = marker.highlightSettings.enable || isHighlight;\n                    }\n                    if (istooltipVisible) {\n                        break;\n                    }\n                }\n                for (var _c = 0, bubbles_1 = bubbles; _c < bubbles_1.length; _c++) {\n                    var bubble = bubbles_1[_c];\n                    if (bubble.visible) {\n                        istooltipVisible = bubble.tooltipSettings.visible || istooltipVisible;\n                        isSelection = bubble.selectionSettings.enable || isSelection;\n                        isHighlight = bubble.highlightSettings.enable || isHighlight;\n                    }\n                    if (istooltipVisible) {\n                        break;\n                    }\n                }\n                istooltipVisible = layer.tooltipSettings.visible || istooltipVisible;\n                isSelection = layer.selectionSettings.enable || isSelection;\n                isHighlight = layer.highlightSettings.enable || isHighlight;\n            }\n            if (isLayerVisible && isBubblevisible && istooltipVisible) {\n                break;\n            }\n        }\n        return {\n            layer: isLayerVisible, bubble: isBubblevisible, tooltip: istooltipVisible,\n            selection: isSelection, highlight: isHighlight\n        };\n    };\n    /**\n     * This method is used to get the geo location points.\n     *\n     * @param {number} layerIndex - Specifies the index number of the layer of the map.\n     * @param {number} x - Specifies the x value.\n     * @param {number} y - Specifies the y value.\n     * @returns {GeoPosition}- Returns the geo position\n     */\n    Maps.prototype.getGeoLocation = function (layerIndex, x, y) {\n        var container = document.getElementById(this.element.id);\n        var pageX = x - container.offsetLeft;\n        var pageY = y - container.offsetTop;\n        var currentLayer = this.layersCollection[layerIndex];\n        var translate = getTranslate(this, currentLayer, false);\n        var translatePoint = translate['location'];\n        var translatePointX = translatePoint.x * this.scale;\n        var translatePointY = translatePoint.y * this.scale;\n        var mapSize = (Math.min(this.mapAreaRect.height, this.mapAreaRect.width)\n            * this.mapLayerPanel['currentFactor']) * this.scale;\n        var xx = (this.clip(pageX - translatePointX, 0, mapSize - 1) / mapSize) - 0.5;\n        var yy = 0.5 - (this.clip(pageY - translatePointY, 0, mapSize - 1) / mapSize);\n        var lat = 90 - 360 * Math.atan(Math.exp(-yy * 2 * Math.PI)) / Math.PI;\n        var long = 360 * xx;\n        return { latitude: lat, longitude: long };\n    };\n    Maps.prototype.clip = function (value, minVal, maxVal) {\n        return Math.min(Math.max(value, minVal), maxVal);\n    };\n    /**\n     * This method is used to get the geo location points when tile maps is rendered in the maps component.\n     *\n     * @param {number} x - Specifies the x value\n     * @param {number} y - Specifies the y value\n     * @returns {GeoPosition} - Returns the position\n     */\n    Maps.prototype.getTileGeoLocation = function (x, y) {\n        var container = document.getElementById(this.element.id);\n        var ele = document.getElementById(this.element.id + '_tile_parent');\n        var latLong = this.pointToLatLong(x + this.mapAreaRect.x - (ele.offsetLeft - container.offsetLeft), y + this.mapAreaRect.y - (ele.offsetTop - container.offsetTop));\n        return { latitude: latLong['latitude'], longitude: latLong['longitude'] };\n    };\n    /**\n     * This method is used to convert the point to latitude and longitude in maps.\n     *\n     * @param {number} pageX - Specifies the x value for the page.\n     * @param {number} pageY - Specifies the y value for the page.\n     * @returns {Object} - Returns the object.\n     */\n    Maps.prototype.pointToLatLong = function (pageX, pageY) {\n        var padding = this.layers[this.layers.length - 1].layerType === 'GoogleStaticMap' ? 0 : 10;\n        pageY = (this.zoomSettings.enable) ? pageY + padding : pageY;\n        var mapSize = 256 * Math.pow(2, this.tileZoomLevel);\n        var x1 = (this.clip(pageX - (this.translatePoint.x * this.scale), 0, mapSize - 1) / mapSize) - 0.5;\n        var y1 = 0.5 - (this.clip(pageY - (this.translatePoint.y * this.scale), 0, mapSize - 1) / mapSize);\n        var lat = 90 - 360 * Math.atan(Math.exp(-y1 * 2 * Math.PI)) / Math.PI;\n        var long = 360 * x1;\n        return { latitude: lat, longitude: long };\n    };\n    __decorate([\n        Property(null)\n    ], Maps.prototype, \"background\", void 0);\n    __decorate([\n        Property(false)\n    ], Maps.prototype, \"useGroupingSeparator\", void 0);\n    __decorate([\n        Property(null)\n    ], Maps.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], Maps.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Maps.prototype, \"height\", void 0);\n    __decorate([\n        Property('MouseMove')\n    ], Maps.prototype, \"tooltipDisplayMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Maps.prototype, \"allowPrint\", void 0);\n    __decorate([\n        Property(false)\n    ], Maps.prototype, \"allowImageExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Maps.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Complex({}, TitleSettings)\n    ], Maps.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, ZoomSettings)\n    ], Maps.prototype, \"zoomSettings\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], Maps.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Collection([], LayerSettings)\n    ], Maps.prototype, \"layers\", void 0);\n    __decorate([\n        Collection([], Annotation)\n    ], Maps.prototype, \"annotations\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], Maps.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ color: '#DDDDDD', width: 0 }, Border)\n    ], Maps.prototype, \"border\", void 0);\n    __decorate([\n        Property('Material')\n    ], Maps.prototype, \"theme\", void 0);\n    __decorate([\n        Property('Mercator')\n    ], Maps.prototype, \"projectionType\", void 0);\n    __decorate([\n        Property(0)\n    ], Maps.prototype, \"baseLayerIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Maps.prototype, \"description\", void 0);\n    __decorate([\n        Property(1)\n    ], Maps.prototype, \"tabIndex\", void 0);\n    __decorate([\n        Complex({ latitude: null, longitude: null }, CenterPosition)\n    ], Maps.prototype, \"centerPosition\", void 0);\n    __decorate([\n        Complex({}, MapsAreaSettings)\n    ], Maps.prototype, \"mapsArea\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"onclick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"doubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"rightClick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"resize\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"legendRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"tooltipRenderComplete\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"shapeSelected\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"itemSelection\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"itemHighlight\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"shapeHighlight\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"layerRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"shapeRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerClusterRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerClick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerClusterClick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerClusterMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"markerMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"dataLabelRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"bubbleRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"bubbleClick\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"bubbleMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"animationComplete\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"annotationRendering\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"zoom\", void 0);\n    __decorate([\n        Event()\n    ], Maps.prototype, \"pan\", void 0);\n    Maps = __decorate([\n        NotifyPropertyChanges\n    ], Maps);\n    return Maps;\n}(Component));\nexport { Maps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}